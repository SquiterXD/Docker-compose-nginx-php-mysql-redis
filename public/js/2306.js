(self.webpackChunk=self.webpackChunk||[]).push([[2306],{12306:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var s=i(87757),a=i.n(s);function o(e,t,i,s,a,o,l){try{var c=e[o](l),r=c.value}catch(e){return void i(e)}c.done?t(r):Promise.resolve(r).then(s,a)}function l(e){return function(){var t=this,i=arguments;return new Promise((function(s,a){var l=e.apply(t,i);function c(e){o(l,s,a,c,r,"next",e)}function r(e){o(l,s,a,c,r,"throw",e)}c(void 0)}))}}const c={props:["itemCategories","salesTypes","tastes","productTypeDomestics","productTypeExports","mainAccounts","defaultValue","old","setName"],data:function(){return{item_category:this.old.item_category?this.old.item_category:this.defaultValue?this.defaultValue.item_category:"",item_group:this.old.item_group?this.old.item_group:this.defaultValue?this.defaultValue.item_group:"",item_id:this.old.item_id?Number(this.old.item_id):this.defaultValue?Number(this.defaultValue.item_id):"",item_description:"",ecom_item_description:this.old.ecom_item_description?this.old.ecom_item_description:this.defaultValue?this.defaultValue.ecom_item_description:"",report_item_display:this.old.report_item_display?this.old.report_item_display:this.defaultValue?this.defaultValue.report_item_display:"",sales_type:this.old.sales_type?this.old.sales_type:this.defaultValue?this.defaultValue.sale_type_code:"",productTypes:[],product_type:"",screen_number:this.old.screen_number?this.old.screen_number:this.defaultValue?this.defaultValue.screen_number:"",taste_code:this.old.taste_code?this.old.taste_code:this.defaultValue?this.defaultValue.taste_code:"",main_account:this.old.main_account?this.old.main_account:this.defaultValue?this.defaultValue.main_account_code:"",sub_account:this.old.sub_account?this.old.sub_account:this.defaultValue?this.defaultValue.sub_account_code:"",filter_flag:this.old.filter_flag?this.old.filter_flag:this.defaultValue?this.defaultValue.filter_flag:"",disabledData:!0,disabledEdit:!!this.defaultValue,start_date:this.old.start_date?this.old.start_date:this.defaultValue?this.defaultValue.start_date:"",end_date:this.old.end_date?this.old.end_date:this.defaultValue?this.defaultValue.end_date:"",subAccounts:[],subLoading:!1,productTypeLoading:!0,itemGroupLoading:!1,itemLoading:!0,itemGroups:[],itemLists:[],out_of_stock:!!this.old.out_of_stock||!!this.defaultValue&&"Y"==this.defaultValue.attribute1}},mounted:function(){this.sales_type&&this.getSelectesalesType(),this.main_account&&this.getSubAccounts(),this.item_category&&(this.getItemGroups(),this.item_group&&this.getItems())},methods:{getItemGroups:function(){var e=this;return l(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.item_category){t.next=8;break}return e.itemGroupLoading=!0,e.itemGroups=[],e.itemLists=[],t.next=6,axios.get("/om/ajax/get-item-cate",{params:{item_category:e.item_category}}).then((function(t){e.itemGroupLoading=!1,e.itemGroups=t.data})).catch((function(e){console.log(e)}));case 6:t.next=15;break;case 8:e.itemGroups=[],e.itemLists=[],e.item_group="",e.item_id="",e.item_description="",e.ecom_item_description="",e.report_item_display="";case 15:case"end":return t.stop()}}),t)})))()},getItems:function(e){var t=this;return l(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.item_group){i.next=7;break}return t.itemLoading=!1,t.itemLists=[],i.next=5,axios.get("/om/ajax/get-item",{params:{item_category:t.item_category,item_group:t.item_group,query:e}}).then((function(e){t.itemLists=e.data,t.selectedItem=t.itemLists.find((function(e){return e.inventory_item_id==t.item_id})),t.item_id?(t.item_description=t.defaultValue?t.defaultValue.item_description:t.selectedItem?t.selectedItem.item_description:"",t.ecom_item_description=t.defaultValue?t.defaultValue.ecom_item_description:t.selectedItem?t.selectedItem.item_description:"",t.report_item_display=t.defaultValue?t.defaultValue.report_item_display:t.selectedItem?t.selectedItem.item_description:""):(t.item_description="",t.ecom_item_description="",t.report_item_display="")})).catch((function(e){console.log(e)}));case 5:i.next=12;break;case 7:t.itemLoading=!0,t.item_id="",t.item_description="",t.ecom_item_description="",t.report_item_display="";case 12:case"end":return i.stop()}}),i)})))()},getSelectedItem:function(){var e=this;this.selectedItem=this.itemLists.find((function(t){return t.inventory_item_id==e.item_id})),this.item_id?(this.item_description=this.defaultValue?this.defaultValue.item_description:this.selectedItem?this.selectedItem.item_description:"",this.ecom_item_description=this.defaultValue?this.defaultValue.ecom_item_description:this.selectedItem?this.selectedItem.item_description:"",this.report_item_display=this.defaultValue?this.defaultValue.report_item_display:this.selectedItem?this.selectedItem.item_description:""):(this.item_description="",this.ecom_item_description="",this.report_item_display="")},getSelectesalesType:function(){var e=this;this.productTypeLoading=!0,this.product_type="",this.sales_type?("DOMESTIC"==this.sales_type?(this.productTypes=this.productTypeDomestics,this.old.product_type?(this.selectedData=this.productTypes.find((function(t){return t.lookup_code==e.old.product_type})),this.product_type=this.selectedData.lookup_code):this.defaultValue&&(this.selectedData=this.productTypes.find((function(t){return t.lookup_code==e.defaultValue.product_type_code})),this.product_type=this.selectedData.lookup_code)):(this.productTypes=this.productTypeExports,this.old.product_type?(this.selectedData=this.productTypes.find((function(t){return t.lookup_code==e.old.product_type})),this.product_type=this.selectedData.lookup_code):this.defaultValue&&(this.selectedData=this.productTypes.find((function(t){return t.lookup_code==e.defaultValue.product_type_code})),this.product_type=this.selectedData.lookup_code)),this.productTypeLoading=!1):this.product_type=""},getSubAccounts:function(){var e=this;return l(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.main_account||(e.subLoading=!0,e.sub_account="",e.subAccounts=[]),console.log("getSubAccounts setName -- "+e.setName),axios.get("/om/ajax/sub-accounts",{params:{main_account_id:e.main_account,set_name:e.setName}}).then((function(t){e.subLoading=!1,e.subAccounts=t.data}));case 3:case"end":return t.stop()}}),t)})))()}}};const r=(0,i(51900).Z)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(0),e._v(" "),i("input",{attrs:{type:"hidden",name:"item_category",autocomplete:"off"},domProps:{value:e.item_category}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.disabledEdit},on:{change:function(t){return e.getItemGroups()}},model:{value:e.item_category,callback:function(t){e.item_category=t},expression:"item_category"}},e._l(e.itemCategories,(function(e){return i("el-option",{key:e.categorys,attrs:{label:e.categorys+" : "+e.description,value:e.categorys}})})),1)],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.itemGroupLoading,expression:"itemGroupLoading"}],staticClass:"col-md-5"},[e._m(1),e._v(" "),i("input",{attrs:{type:"hidden",name:"item_group",autocomplete:"off"},domProps:{value:e.item_group}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.disabledEdit||this.itemGroups.length<1},on:{change:function(t){return e.getItems()}},model:{value:e.item_group,callback:function(t){e.item_group=t},expression:"item_group"}},e._l(e.itemGroups,(function(e){return i("el-option",{key:e.groups,attrs:{label:e.groups+" : "+e.description,value:e.groups}})})),1)],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(2),e._v(" "),i("input",{attrs:{type:"hidden",name:"item_id",autocomplete:"off"},domProps:{value:e.item_id}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"","remote-method":e.getItems,disabled:this.disabledEdit||this.itemLoading},on:{change:function(t){return e.getSelectedItem()}},model:{value:e.item_id,callback:function(t){e.item_id=t},expression:"item_id"}},e._l(e.itemLists,(function(e,t){return i("el-option",{key:t,attrs:{label:e.item_code+" : "+e.item_description,value:e.inventory_item_id}})})),1)],1),e._v(" "),i("div",{staticClass:"col-md-5"},[i("label",[e._v(" ชื่อตราผลิตภัณฑ์ ")]),e._v(" "),i("el-input",{attrs:{name:"item_description",disabled:""},model:{value:e.item_description,callback:function(t){e.item_description=t},expression:"item_description"}},[e._v(" "+e._s(e.item_description)+" ")])],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(3),e._v(" "),i("el-input",{attrs:{name:"ecom_item_description"},model:{value:e.ecom_item_description,callback:function(t){e.ecom_item_description=t},expression:"ecom_item_description"}},[e._v(" "+e._s(e.ecom_item_description)+" ")])],1),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(4),e._v(" "),i("el-input",{attrs:{name:"report_item_display"},model:{value:e.report_item_display,callback:function(t){e.report_item_display=t},expression:"report_item_display"}},[e._v(" "+e._s(e.report_item_display)+" ")])],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(5),e._v(" "),i("input",{attrs:{type:"hidden",name:"sales_type",autocomplete:"off"},domProps:{value:e.sales_type}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:function(t){return e.getSelectesalesType()}},model:{value:e.sales_type,callback:function(t){e.sales_type=t},expression:"sales_type"}},e._l(e.salesTypes,(function(e){return i("el-option",{key:e.value,attrs:{label:e.description,value:e.value}})})),1)],1),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(6),e._v(" "),i("input",{attrs:{type:"hidden",name:"product_type",autocomplete:"off"},domProps:{value:e.product_type}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.productTypeLoading},model:{value:e.product_type,callback:function(t){e.product_type=t},expression:"product_type"}},e._l(e.productTypes,(function(e){return i("el-option",{key:e.lookup_code,attrs:{label:e.description,value:e.lookup_code}})})),1)],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[i("label",[e._v(" ลำดับหน้าจอ ")]),e._v(" "),i("el-input",{attrs:{name:"screen_number"},model:{value:e.screen_number,callback:function(t){e.screen_number=t},expression:"screen_number"}})],1),e._v(" "),i("div",{staticClass:"col-md-5"},[i("label",[e._v(" รสชาติ ")]),e._v(" "),i("input",{attrs:{type:"hidden",name:"taste_code",autocomplete:"off"},domProps:{value:e.taste_code}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},model:{value:e.taste_code,callback:function(t){e.taste_code=t},expression:"taste_code"}},e._l(e.tastes,(function(e){return i("el-option",{key:e.value,attrs:{label:e.description,value:e.value}})})),1)],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(7),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter_flag,expression:"filter_flag"}],staticClass:"ml-3",attrs:{type:"radio",name:"filter_flag",value:"Y"},domProps:{checked:e._q(e.filter_flag,"Y")},on:{change:function(t){e.filter_flag="Y"}}}),e._v(" มี\n            "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter_flag,expression:"filter_flag"}],staticClass:"ml-3",attrs:{type:"radio",name:"filter_flag",value:"N"},domProps:{checked:e._q(e.filter_flag,"N")},on:{change:function(t){e.filter_flag="N"}}}),e._v(" ไม่มี\n        ")]),e._v(" "),i("div",{staticClass:"col-md-5"})]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[e._m(8),e._v(" "),i("input",{attrs:{type:"hidden",name:"main_account",autocomplete:"off"},domProps:{value:e.main_account}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:e.getSubAccounts},model:{value:e.main_account,callback:function(t){e.main_account=t},expression:"main_account"}},e._l(e.mainAccounts,(function(e){return i("el-option",{key:e.main_account,attrs:{label:e.main_account+" : "+e.description,value:e.main_account}})})),1)],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:this.subLoading,expression:"this.subLoading"}],staticClass:"col-md-5"},[e._m(9),e._v(" "),i("input",{attrs:{type:"hidden",name:"sub_account",autocomplete:"off"},domProps:{value:e.sub_account}}),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.subAccounts.length<1},model:{value:e.sub_account,callback:function(t){e.sub_account=t},expression:"sub_account"}},e._l(e.subAccounts,(function(e){return i("el-option",{key:e.meaning,attrs:{label:e.meaning+" : "+e.description,value:e.meaning}})})),1)],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[i("label",[e._v(" วันที่เริ่มต้น")]),e._v(" "),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"วันที่เริ่มต้น",name:"start_date",format:"dd-MM-yyyy"},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),e._v(" "),i("div",{staticClass:"col-md-5"},[i("label",[e._v(" วันที่สิ้นสุด")]),e._v(" "),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"วันที่สิ้นสุด",name:"end_date",format:"dd-MM-yyyy"},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-md-1"}),e._v(" "),i("div",{staticClass:"col-md-5"},[i("label",[e._v(" สินค้าหมด ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.out_of_stock,expression:"out_of_stock"}],staticClass:"ml-3",attrs:{type:"checkbox",name:"out_of_stock"},domProps:{checked:Array.isArray(e.out_of_stock)?e._i(e.out_of_stock,null)>-1:e.out_of_stock},on:{change:function(t){var i=e.out_of_stock,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.out_of_stock=i.concat([null])):o>-1&&(e.out_of_stock=i.slice(0,o).concat(i.slice(o+1)))}else e.out_of_stock=a}}})])])])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" Item Category (ประเภท) "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" Item Category (กลุ่ม) "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" ตราผลิตภัณฑ์ "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" ชื่อที่ปรากฏในหน้าจอ E-Commerce "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" ชื่อที่ปรากฏในรายงาน "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" ประเภทการขาย "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" ชนิดผลิตภัณฑ์ "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" ก้นกรอง "),i("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" รหัสบัญชีหลัก "),i("span",{staticClass:"text-danger"},[e._v("(สำหรับกองรายได้และภาษี)")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v(" รหัสบัญชีย่อย "),i("span",{staticClass:"text-danger"},[e._v("(สำหรับกองรายได้และภาษี)")])])}],!1,null,null,null).exports}}]);