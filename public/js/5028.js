(self.webpackChunk=self.webpackChunk||[]).push([[5028],{67791:(t,e,a)=>{"use strict";a.d(e,{gR:()=>r,R_:()=>i,sD:()=>s});var o=a(30381),n=a.n(o),r={formatDate:"DD/MM/YYYY",formatMonth:"MM/YYYY",formatYear:"YYYY",monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i={irp0001_table_header:[{document_number:"",status:"NEW",period_year:"2020",period_name:"Jan-20",period_from:"12/01/2020",period_to:"12/01/2020",policy_set_number:"1",policy_set_description:"POLICY SET DESCRIPTION",department_code:"DEPARTMENT CODE",department_desc:"DEPARTMENT DESC"}],irp0001_table_line:[{line_number:"1",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"INTERFACE",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"3",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"CONFIRMED",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"}],irp0010_table_header:[{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},{claim_header_id:"2",status:"INTERFACE",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"}],irp0010_form:{headers:{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},apply:{apply_company:[{company_id:55,company_name:"บริษัท เทเวศประกันภัย จำกัด (มหาชน)",claim_percent:"40",claim_amount:"140000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""},{company_id:54,company_name:"บริษัท ทิพยประกันภัย จำกัด (มหาชน)",claim_percent:"60",claim_amount:"160000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""}]}},irp0002_table_line:[{status:"NEW",line_number:"",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"111",unit_price:"2",line_amount:"222",coverage_amount:"230",calculate_days:"2",calculate_start_date:"12/01/2020",calculate_end_date:"15/01/2020"}]},s={setFirstLetterUpperCase:function(t){if(t&&null!=t){var e=t.toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}return t},setYearCE:function(t,e){var a="",o="month"===t?r.formatMonth:"date"===t?r.formatDate:"year"===t?r.formatYear:"";return e&&o?a=n()(n()(e,o).subtract(543,"years").toDate()).format(o):a},setYearBE:function(t,e){var a="",o="month"===t?r.formatMonth:"date"===t?r.formatDate:"year"===t?r.formatYear:"";return e&&o?a=n()(n()(e,o).add(543,"years").toDate()).format(o):a},showYearBE:function(t,e){var a="";if("month"===t&&e&&null!=e){var o=e.split("/"),n=+o[1]+543;return a="".concat(o[0],"/").concat(n)}if("date"===t&&e&&null!=e){var r=e.split("/"),i=+r[2]+543;return a="".concat(r[0],"/").concat(r[1],"/").concat(i)}return"year"===t&&e&&null!=e?+e+543:a},getTime:function(t){var e="";if(t&&null!=t){var a=t.split("/");return e=new Date("".concat(a[1],"/").concat(a[0],"/").concat(a[2])).getTime()}return e},calculateDate:function(t,e){var a="",o="";if(t&&e){var n=s.getTime(t),r=s.getTime(e);a=(o=Math.round(Math.abs((r-n)/864e5)))?o+1:o}return a},checkStatusInterface:function(t){return!(!t||"INTERFACE"!==t.toUpperCase())},checkStatusCancelled:function(t){return!(!t||"CANCELLED"!==t.toUpperCase())},isNullOrUndefined:function(t){return null==t?"":t},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="";if(t||0===t){a=parseFloat(t);var o=t.toString().split(".");if(void 0===o[1]){var n=parseInt(o[0]).toFixed(e).split(".")[1];return"".concat(parseInt(o[0]).toLocaleString(),".").concat(n)}if(0==a.toString().split(".")[0]){var r=a.toFixed(e).split(".")[1];return"".concat(a.toString().split(".")[0],".").concat(r)}var i=a.toFixed(e).split(".")[1],s="".concat(parseInt(o[0]).toLocaleString(),".").concat(i);return s}return a},formatfloat:function(t){return t.slice(0,t.indexOf(".")+1+2)},checkStatusConfirmed:function(t){if(t)return"CONFIRMED"===t.toUpperCase()},showPeriodNameFormat:function(t){if(t){var e=t.split("-"),a=new Date("".concat(e[0]," 01, ").concat(e[1])),o=a.getFullYear(),n=1===(a.getMonth()+1).toString().length?"0".concat(a.getMonth()+1):a.getMonth()+1;return"".concat(n,"/").concat(o+543)}return t},setValuePeriodNameFormat:function(t){var e="";if(t&&null!=t){var a=r.monthNameShort[t.getMonth()],o=(+t.getFullYear()-543).toString(),n=o.substr(o.length-2);e="".concat(a,"-").concat(n)}return e},checkStatusNew:function(t){if(t&&"NEW"===t.toUpperCase())return!0},calculateDateMomentTable:function(t){var e=r.formatDate,a="",o="",i="",s=t.start_calculate_date,l=t.end_calculate_date;if(s&&l){var c=helperDate.convertDate(s,e),d=helperDate.convertDate(l,e);c.then((function(r){a=n()(r,e),d.then((function(r){o=n()(r,e),i=o.diff(a,"days"),t.days=-1===Math.sign(i)?"":i+1}))}))}else t.days=""},covertFomatDateMoment:function(t,e){var a="date"===e?r.formatDate:"month"===e?r.formatMonth:"year"===e?r.formatYear:"";return t&&e?n()(t).format(a):""},setBudgetYearFromFieldStCalendar:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",a=("date"===e?r.formatDate:"month"===e?r.formatMonth:"year"===e&&r.formatYear,"");if(t){var o=t.getFullYear(),i=n()({year:o,month:8,date:30}),s=n()({year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),l=s.isAfter(i)?1:0;return n()(n()({year:o+l,month:8,date:30}),r.formatDate).toDate()}return a},setLabelStatusAsset:function(t){return"Y"===t?"Active":"N"===t?"Inactive":""},setFotmatPeriodNameIsFullDate:function(t){if(t){var e=t.split("-"),a=new Date("".concat(e[0]," 01, ").concat(e[1]));return n()(a).format(r.formatDate)}return""},setFullDateIsDateCE:function(t){var e="";if(t){var a=n()(t).format(r.formatDate);return e=s.setYearCE("date",a)}return e},setLabelExpenseFlag:function(t){return"Y"==t?"Yes":"No"},setLabelVatRefund:function(t){return"Y"==t?"Yes":"No"},setDefaultActive:function(t){var e=$(".".concat(t)).is(":checked");$(".".concat(t)).prop("checked",!e)},setDefaultEndDateIsLastDateOfMonth:function(t){var e=r.formatDate;if(t){var a=n()(t).endOf("month");return n()(a).format(e)}return""}}},49743:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(23645),n=a.n(o)()((function(t){return t[1]}));n.push([t.id,"td[data-v-3dc241c4],th[data-v-3dc241c4]{padding:.25rem}th[data-v-3dc241c4]{background:#fff;position:sticky;top:0}.mouse-over[data-v-3dc241c4]:hover{background-color:#d4edda!important}",""]);const r=n},96518:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const o={name:"ir-components-calendar-month-year-input",data:function(){return{month:this.value,monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},props:["attrName","value","sizeSmall","placeholder"],computed:{sizeDate:function(){return this.sizeSmall?"small":""}},mounted:function(){var t=this;$(document).ready((function(){console.log("ready "),$("input.month_input").datepicker({format:"mm/yyyy",autoclose:!0,keyboardNavigation:!1,startView:"months",minViewMode:"months"}).on("changeYear",(function(t){console.log("changeYear ",t)})),$('input[name="'.concat(t.attrName,'"]')).on("change",(function(e){console.log("change ",e,e.target.value,$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate")),console.log("get month name short ",t.monthNameShort[$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getMonth()]);var a=t.monthNameShort[$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getMonth()],o=$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getFullYear().toString(),n=o.substr(o.length-2);console.log("month year short ","".concat(a,"-").concat(n));var r="",i=e.target.value;if(i&&null!=i){var s=i?i.split("/"):i,l=+s[1]-543;r="".concat(s[0],"/").concat(l)}console.log("setMonthYearCE ",r);var c={value:i,getTime:$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getTime(),name:"".concat(a,"-").concat(n),yearCE:r};console.log("change-month ",c),t.$emit("change-month",c)}))}))},watch:{value:function(t,e){console.log("watch value ",t),this.month=t}}};const n=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"el-input date "+(t.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"input-medium form-control month_input el-input__inner",attrs:{type:"text",name:t.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.month},on:{input:function(e){e.target.composing||(t.month=e.target.value)}}})])}),[],!1,null,null,null).exports},95070:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const o={name:"ir-components-calendar-year-input",data:function(){return{year:this.value}},props:["attrName","value","sizeSmall","placeholder"],mounted:function(){var t=this;$(document).ready((function(){console.log("ready "),$("input.year_input").datepicker({format:"yyyy",autoclose:!0,keyboardNavigation:!1,startView:"years",minViewMode:"years"}),$('input[name="'.concat(t.attrName,'"]')).on("change",(function(e){console.log("change ",e,e.target.value,$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate"));var a={value:e.target.value,getTime:$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getTime()};t.$emit("change-year",a)}))}))},watch:{value:function(t,e){this.year=t}}};const n=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:" date "+(t.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"input-medium form-control year_input el-input__inner",attrs:{type:"text",name:t.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.year},on:{input:function(e){e.target.composing||(t.year=e.target.value)}}})])}),[],!1,null,null,null).exports},87150:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const o={name:"ir-components-lov-status-ir",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{getDataRows:function(){var t=this;axios.get("/ir/ajax/lov/status").then((function(e){var a=e.data;t.rows=a})).catch((function(t){swal("Error",t,"error")}))},change:function(t){this.$emit("change-lov",t)}},watch:{value:function(t,e){this.result=t}},created:function(){this.getDataRows()}};const n=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:"สถานะ",name:t.name,clearable:!0,size:t.size,"popper-append-to-body":t.popperBody,disabled:t.disabled},on:{change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.description,value:t.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports},22133:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const o={name:"ir-components-lov-department",data:function(){return{rows:[],loading:!1,result:this.value}},props:["placeholder","attrName","value","popperBody","size"],methods:{remoteMethod:function(t){this.getDataRows({department_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:t}).then((function(t){var a=t.data;console.log("response getDataRows ",a);var o=a.data;e.loading=!1,e.rows=o})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){console.log("focus ",t),this.getDataRows({department_code:"",keyword:""})},change:function(t){this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})},watch:{value:function(t,e){this.result=t}}};const n=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.attrName,"remote-method":t.remoteMethod,loading:t.loading,remote:"",clearable:!0,filterable:"","popper-append-to-body":t.popperBody,size:t.size},on:{focus:t.focus,change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.department_code+": "+t.description,value:t.department_code}})})),1)],1)}),[],!1,null,null,null).exports},43126:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const o={name:"ir-components-lov-policy-set-header-id",data:function(){return{rows:[],dataSet:[],loading:!1,result:this.value,isDisabled:void 0!==this.disabled&&this.disabled}},props:["value","name","size","placeholder","popperBody","fixTypeFr","fixTypeSc","check","disabled"],methods:{remoteMethod:function(t){this.dataSet=this.rows.filter((function(e){return e.policy_set_number.toLowerCase().indexOf(t.toLowerCase())>-1||e.policy_set_description.toLowerCase().indexOf(t.toLowerCase())>-1}))},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:t}).then((function(t){var a=t.data;e.loading=!1,e.check?e.dataSet=e.rows=a.data.filter((function(t){return t.meaning.toLowerCase()==e.check.toLowerCase()})):e.dataSet=e.rows=a.data})).catch((function(t){swal("Error",t,"error")}))},onfocus:function(){this.getDataRows({policy_set_header_id:"",keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},onchange:function(t){console.log("onchange ",t),this.$emit("change-lov",t)}},mounted:function(){console.log("mounted policy_set_header_id ",this.value),this.result=this.value?+this.value:this.value,this.getDataRows({policy_set_header_id:this.value,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},watch:{value:function(t,e){this.result=t?+t:t,this.getDataRows({policy_set_header_id:t,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},disabled:function(){this.isDisabled=this.disabled}}};const n=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.name,"remote-method":t.remoteMethod,loading:t.loading,remote:"",clearable:!0,filterable:"",size:t.size,"popper-append-to-body":t.popperBody,disabled:t.isDisabled},on:{focus:t.onfocus,change:t.onchange},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataSet,(function(t,e){return a("el-option",{key:e,attrs:{label:t.policy_set_number+": "+t.policy_set_description,value:t.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},25028:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>y});const o={name:"ir-stock-monthly-index-table-total",data:function(){return{index:0}},props:["rowTotal","formatCurrency"],methods:{getDataManualInsuAmount:function(t){this.rowTotal.manual_insu_amount=t,this.$emit("change-manual-insu-amount",t)}}};var n=a(51900);const r=(0,n.Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",{attrs:{id:"table_total"}},[a("tr",{staticClass:"text-right"},[a("td",[t._v(t._s(t.rowTotal.inventory_desc))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_cover_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_insu_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_duty_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_vat_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_net_amount)))])]),t._v(" "),a("tr",{staticClass:"text-right"},[a("td",[t._v(t._s(t.rowTotal.manual_desc))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_cover_amount)))]),t._v(" "),a("td",{staticClass:"el_field_table"},[a("div",{staticClass:"currency_right"},[t._v(" \n            "+t._s(t.formatCurrency(t.rowTotal.manual_insu_amount))+"\n          ")])]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_duty_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_vat_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_net_amount)))])]),t._v(" "),a("tr",{staticClass:"text-right"},[a("td",[t._v(t._s(t.rowTotal.total_desc))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_cover_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_insu_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_duty_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_vat_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_net_amount)))])])]),t._v(" "),a("tfoot")])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-right"},[a("th",{staticClass:"width_table"}),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Amount "),a("br"),t._v("มูลค่าสินค้ารวม (บาท)")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Coverage Amount "),a("br"),t._v("มูลค่าทุนประกันรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Premium "),a("br"),t._v("ค่าเบี้ยประกันรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Duty Fee "),a("br"),t._v("อากรรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Vat "),a("br"),t._v("ภาษีมูลค่าเพิ่มรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Net Amount "),a("br"),t._v("ค่าเบี้ยประกันสุทธิรวม")])])])}],!1,null,null,null).exports;var i=a(48185),s=(a(95070),a(96518),a(43126)),l=a(22133);const c={name:"ir-stock-monthly-modal-fetch",data:function(){return{fetch:{period_year:"",period_name:"",data_month:"",policy_set_header_id:"",department_from:"",department_to:""},rules:{period_year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],period_name:[{required:!0,message:"กรุณาระบุเดือนปิดบัญชี",trigger:"change"}]},years:[],budget_period_year:[],months:[],showLoading:!1}},props:["setYearCE","showYearBE"],methods:{clickSearch:function(){var t=this;console.log("clickSearch ",this.fetch),this.$refs.form_stock_monthly_fetch.validate((function(e){if(!e)return!1;t.getDataRows()}))},clickClear:function(){this.resetFields()},changeYear:function(t){this.fetch.period_year=t,this.months=t?this.budget_period_year.filter((function(e){if(t===e.period_year)return e})):[],this.$refs.fetch_period_name.resetField(),this.$refs.fetch_data_month.resetField()},getDataBudgetPeriodYear:function(){var t=this;axios.get("/ir/ajax/lov/budget-period-year").then((function(e){var a=e.data;t.budget_period_year=a.data,console.log("budget_period_year ",t.budget_period_year),t.budget_period_year.length>0&&(t.years=t.unique(),console.log("this.years ",t.years))})).catch((function(t){swal("Error",t,"error")}))},unique:function(){var t=[];return $.each(this.budget_period_year,(function(e,a){-1==$.inArray(a.period_year,t)&&t.push(a.period_year)})),console.log("result ",t),t},getDataRows:function(){var t=this;this.showLoading=!0;var e={period_year:this.fetch.period_year,period_name:this.setYearCE("month",this.fetch.period_name),data_month:this.setYearCE("month",this.fetch.data_month),program_code:"IRP0002",policy_set_header_id:this.fetch.policy_set_header_id,department_from:this.fetch.department_from,department_to:this.fetch.department_to};axios.get("/ir/ajax/stocks/fetch",{params:e}).then((function(e){var a=e.data;t.showLoading=!1,t.$emit("fetch-table-header",a.data.data),$("#modal_stock_monthly_fetch").modal("hide")})).catch((function(t){swal("Error",t,"error")}))},resetFields:function(){console.log("resetFields"),this.$refs.form_stock_monthly_fetch.resetFields()},changeMonth:function(t){var e=this;this.fetch.period_name=t,t?this.months.filter((function(a){t===a.month_th_format&&(e.fetch.data_month=a.bef_month_th_format)})):this.$refs.fetch_data_month.resetField()},getValuePolicyModal:function(t){this.fetch.policy_set_header_id=t},getValueDepartmentFromModal:function(t){this.fetch.department_from=t},getValueDepartmentToModal:function(t){this.fetch.department_to=t}},components:{lovPolicySetHeaderId:s.Z,lovDepartment:l.Z},created:function(){this.getDataBudgetPeriodYear()}};const d=(0,n.Z)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_stock_monthly_fetch",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading,expression:"showLoading"}]},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("el-form",{ref:"form_stock_monthly_fetch",staticClass:"demo-dynamic form_table_line",attrs:{model:t.fetch,"label-width":"120px",rules:t.rules}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ปี *")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"period_year"}},[a("el-select",{attrs:{placeholder:"ปี",name:"fetch_period_year",clearable:!0,"popper-append-to-body":!1},on:{change:t.changeYear},model:{value:t.fetch.period_year,callback:function(e){t.$set(t.fetch,"period_year",e)},expression:"fetch.period_year"}},t._l(t.years,(function(e,o){return a("el-option",{key:o,attrs:{label:t.showYearBE("year",e),value:e}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("เดือนปิดบัญชี *")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_period_name",attrs:{prop:"period_name"}},[a("el-select",{attrs:{placeholder:"เดือนปิดบัญชี",name:"fetch_period_name",clearable:!0,"popper-append-to-body":!1},on:{change:t.changeMonth},model:{value:t.fetch.period_name,callback:function(e){t.$set(t.fetch,"period_name",e)},expression:"fetch.period_name"}},t._l(t.months,(function(t,e){return a("el-option",{key:e,attrs:{label:t.month_th_format,value:t.month_th_format}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ข้อมูลคงคลังประจำเดือน")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_data_month",attrs:{prop:"data_month"}},[a("el-input",{attrs:{placeholder:"ข้อมูลคงคลังประจำเดือน",disabled:""},model:{value:t.fetch.data_month,callback:function(e){t.$set(t.fetch,"data_month",e)},expression:"fetch.data_month"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("กรมธรรม์ชุดที่")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_policy_set_header_id",attrs:{prop:"policy_set_header_id"}},[a("lov-policy-set-header-id",{attrs:{name:"fetch_policy_set_header_id",size:"",placeholder:"กรมธรรม์ชุดที่",popperBody:!1,fixTypeFr:"10",fixTypeSc:""},on:{"change-lov":t.getValuePolicyModal},model:{value:t.fetch.policy_set_header_id,callback:function(e){t.$set(t.fetch,"policy_set_header_id",e)},expression:"fetch.policy_set_header_id"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ตั้งแต่รหัสหน่วยงาน")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_department_from",attrs:{prop:"department_from"}},[a("lov-department",{attrs:{name:"fetch_department_from",placeholder:"ตั้งแต่รหัสหน่วยงาน",popperBody:!1,size:""},on:{"change-lov":t.getValueDepartmentFromModal},model:{value:t.fetch.department_from,callback:function(e){t.$set(t.fetch,"department_from",e)},expression:"fetch.department_from"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_department_to",attrs:{prop:"department_to"}},[a("lov-department",{attrs:{name:"fetch_department_to",placeholder:"ถึงรหัสหน่วยงาน",popperBody:!1,size:""},on:{"change-lov":t.getValueDepartmentToModal},model:{value:t.fetch.department_to,callback:function(e){t.$set(t.fetch,"department_to",e)},expression:"fetch.department_to"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.clickSearch()}}},[a("i",{staticClass:"fa fa-database"}),t._v(" ดึงข้อมูล\n          ")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),t._v(" รีเซต\n          ")])])])],1)])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("p",{staticClass:"modal-title text-left"},[t._v("การดึงข้อมูล")])])}],!1,null,null,null).exports;var _=a(87150);const u={name:"ir-stock-monthly-index-search",data:function(){return{rules:{period_year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],period_name:[{required:!0,message:"กรุณาระบุเดือน",trigger:"change"}]},defaultRowTotal:{department_code:"",department_desc:"",document_number:"",period_from:"",period_to:"",policy_set_description:"",policy_set_header_id:"",status:"",year:"",inventory_desc:"Inventory",inventory_amount:"",inventory_cover_amount:"",inventory_insu_amount:"",manual_desc:"Manual",manual_amount:"",manual_cover_amount:"",manual_insu_amount:"",total_desc:"Total",total_amount:"",total_cover_amount:"",total_insu_amount:"",inventory_duty_amount:"",inventory_vat_amount:"",inventory_net_amount:"",manual_duty_amount:"",manual_vat_amount:"",manual_net_amount:"",total_duty_amount:"",total_vat_amount:"",total_net_amount:""},policies:[],loading:!1,period_name:[],budget_period_year:[],months:[],years:[]}},props:["search","showYearBE","setYearCE"],computed:{},methods:{clickSearch:function(){var t=this;this.$refs.search_stock_monthly.validate((function(e){if(!e)return!1;var a={search:t.search,rowTotal:t.defaultRowTotal};t.$emit("click-search",a)}))},clickClear:function(){window.location.href="/ir/stocks/monthly"},changePeriodYear:function(t){this.$emit("change-period-year",t)},changeYear:function(t){this.search.period_year=t,this.months=t?this.budget_period_year.filter((function(e){if(t===e.period_year)return e})):[],this.search.period_name="",this.search.data_month=""},changeMonth:function(t){var e=this;this.search.period_name=t,t?this.months.filter((function(a){t===a.month_th_format&&(e.search.data_month=a.bef_month_th_format)})):this.search.data_month=""},changeDataMonth:function(t){this.search.data_month=t.value},getDataPolicySetHeaderId:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:t}).then((function(t){var a=t.data;e.loading=!1,e.policies=a.data})).catch((function(t){swal("Error",t,"error")}))},remoteMethodPolicySt:function(t){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:t,type:"10",type2:""})},focusPolicySt:function(t){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"10",type2:""})},changePolicySt:function(t){this.search.policy_set_header_id=t},clickCancel:function(){window.location.href="/ir/stocks/monthly"},getDataBudgetPeriodYear:function(){var t=this;axios.get("/ir/ajax/lov/budget-period-year").then((function(e){var a=e.data;t.budget_period_year=a.data})).catch((function(t){swal("Error",t,"error")}))},unique:function(){var t=[];return $.each(this.budget_period_year,(function(e,a){-1==$.inArray(a.period_year,t)&&t.push(a.period_year)})),t},getValueDepartmentFrom:function(t){this.search.department_from=t},getValueDepartmentTo:function(t){this.search.department_to=t},fetchTableHeader:function(t){this.$emit("fetch-show-table-header",t)},clickFetch:function(){this.$refs.modal_fetch.resetFields()},getValueStatus:function(t){this.search.status=t}},components:{lovDepartment:i.Z,modalFetch:d,dropdownStatusIr:_.Z},mounted:function(){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"10",type2:""})},watch:{budget_period_year:function(t,e){t.length>0&&(this.years=this.unique())}},created:function(){this.getDataBudgetPeriodYear()}};const m=(0,n.Z)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"search_stock_monthly",staticClass:"demo-ruleForm",attrs:{model:t.search,"label-width":"120px"}},[a("div",{staticClass:"col-lg-11"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ปี")])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"period_year"}},[a("el-select",{attrs:{placeholder:"ปี",name:"period_year",clearable:!0},on:{change:t.changeYear},model:{value:t.search.period_year,callback:function(e){t.$set(t.search,"period_year",e)},expression:"search.period_year"}},t._l(t.years,(function(e,o){return a("el-option",{key:o,attrs:{label:t.showYearBE("year",e),value:e}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("เดือนปิดบัญชี")])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"period_name"}},[a("el-select",{attrs:{placeholder:"เดือนปิดบัญชี",name:"period_name",clearable:!0},on:{change:t.changeMonth},model:{value:t.search.period_name,callback:function(e){t.$set(t.search,"period_name",e)},expression:"search.period_name"}},t._l(t.months,(function(t,e){return a("el-option",{key:e,attrs:{label:t.month_th_format,value:t.month_th_format}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("กรมธรรม์ชุดที่")])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-select",{attrs:{placeholder:"กรมธรรม์ชุดที่",name:"policy_set_header_id","remote-method":t.remoteMethodPolicySt,loading:t.loading,remote:"",clearable:!0,filterable:""},on:{focus:t.focusPolicySt,change:t.changePolicySt},model:{value:t.search.policy_set_header_id,callback:function(e){t.$set(t.search,"policy_set_header_id",e)},expression:"search.policy_set_header_id"}},t._l(t.policies,(function(t,e){return a("el-option",{key:e,attrs:{label:t.policy_set_number+": "+t.policy_set_description,value:t.policy_set_header_id}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("สถานะ")])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"type_cost"}},[a("dropdown-status-ir",{attrs:{name:"status",size:"",popperBody:!0,disabled:!1,placeholder:"สถานะ"},on:{"change-lov":t.getValueStatus},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ตั้งแต่รหัสหน่วยงาน")])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("lov-department",{attrs:{placeholder:"ตั้งแต่รหัสหน่วยงาน",attrName:"department_from"},on:{"change-lov":t.getValueDepartmentFrom},model:{value:t.search.department_from,callback:function(e){t.$set(t.search,"department_from",e)},expression:"search.department_from"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("lov-department",{attrs:{placeholder:"ถึงรหัสหน่วยงาน",attrName:"department_to"},on:{"change-lov":t.getValueDepartmentTo},model:{value:t.search.department_to,callback:function(e){t.$set(t.search,"department_to",e)},expression:"search.department_to"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"text-right el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return t.clickSearch()}}},[a("i",{staticClass:"fa fa-search"}),t._v(" ค้นหา\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_stock_monthly_fetch"},on:{click:function(e){return t.clickFetch()}}},[a("i",{staticClass:"fa fa-database"}),t._v(" ดึงข้อมูล\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.clickCancel()}}},[a("i",{staticClass:"fa fa-repeat"}),t._v(" รีเซต\n        ")])])],1)]),t._v(" "),a("modal-fetch",{ref:"modal_fetch",attrs:{setYearCE:t.setYearCE,showYearBE:t.showYearBE},on:{"fetch-table-header":t.fetchTableHeader}})],1)}),[],!1,null,null,null).exports;const h={name:"ir-stock-monthly-index-table-header",data:function(){return{activeIndex:""}},props:["isNullOrUndefined","tableHeader","showPeriodNameFormat","setFirstLetterUpperCase","showYearBE","checkStatusNew","formatCurrency"],methods:{clickRow:function(t,e){var a={department_code:this.isNullOrUndefined(t.department_code),department_desc:this.isNullOrUndefined(t.department_desc),document_number:this.isNullOrUndefined(t.document_number),period_from:"",period_to:"",policy_set_description:this.isNullOrUndefined(t.policy_set_description),policy_set_header_id:this.isNullOrUndefined(t.policy_set_header_id),status:this.isNullOrUndefined(t.status),year:this.isNullOrUndefined(t.year),inventory_desc:"Inventory",inventory_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_amount),inventory_cover_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_cover_amount),inventory_insu_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_insu_amount),manual_desc:"Manual",manual_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_amount),manual_cover_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_cover_amount),manual_insu_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_insu_amount),total_desc:"Total",total_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_amount),total_cover_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_cover_amount),total_insu_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_insu_amount),insurance_start_date:"",insurance_end_date:"",period_name:this.isNullOrUndefined(t.period_name),total_rec:this.isNullOrUndefined(t.total_rec),inventory_duty_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_duty_amount),inventory_vat_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_vat_amount),inventory_net_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_net_amount),manual_duty_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_duty_amount),manual_vat_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_vat_amount),manual_net_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_net_amount),total_duty_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_duty_amount),total_vat_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_vat_amount),total_net_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_net_amount)};this.$emit("click-row",a),this.activeIndex=e}},watch:{tableHeader:function(t,e){this.activeIndex=""}}};a(75415);const p=(0,n.Z)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive "},[a("table",{staticClass:"table table-bordered",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[t._m(0),t._v(" "),a("tbody",{attrs:{id:"table_search"}},[t._l(t.tableHeader,(function(e,o){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.tableHeader.length>0,expression:"tableHeader.length > 0"}],key:o,staticClass:"mouse-over",class:"style_row_show "+(o===t.activeIndex?"highlight":""),on:{click:function(a){return t.clickRow(e,o)}}},[a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button",href:"/ir/stocks/monthly/edit/"+e.header_id}},[t.isNullOrUndefined(e.document_number)?a("span",[t._v("View / Edit")]):a("span",[t._v("Select")])])]),t._v(" "),a("td",{},[t._v("\n          "+t._s(t.isNullOrUndefined(e.document_number))+"\n        ")]),t._v(" "),a("td",{},[t._v("\n          "+t._s(t.setFirstLetterUpperCase(e.status))+"\n        ")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.showYearBE("year",e.period_year))+"\n        ")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.isNullOrUndefined(e.period_name)?t.showPeriodNameFormat(e.period_name):t.isNullOrUndefined(e.period_name))+"\n        ")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.isNullOrUndefined(e.policy_set_number))+"\n        ")]),t._v(" "),a("td",{},[t._v("\n          "+t._s(t.isNullOrUndefined(e.policy_set_description))+"\n        ")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.isNullOrUndefined(e.department_code))+"\n        ")]),t._v(" "),a("td",{},[t._v("\n          "+t._s(t.isNullOrUndefined(e.department_desc))+"\n        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n          "+t._s(t.isNullOrUndefined(e.total_rec)||0===t.isNullOrUndefined(e.total_rec)?t.formatCurrency(e.total_rec):t.isNullOrUndefined(e.total_rec))+"\n        ")])])})),t._v(" "),0===t.tableHeader.length?a("tr",{staticClass:"text-center mouse-over"},[a("td",{attrs:{colspan:"10"}},[t._v("ไม่มีข้อมูล")])]):t._e()],2),t._v(" "),a("tfoot")])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[t._v("Action")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Document Number "),a("br"),t._v("เลขที่เอกสาร")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("IR Status "),a("br"),t._v("สถานะ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("Year "),a("br"),t._v("ปี")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[t._v("Period "),a("br"),t._v("เดือนปิดบัญชี")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[t._v("Policy No. "),a("br"),t._v("กรมธรรม์ชุดที่")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Policy Description "),a("br"),t._v("รายละเอียดกรมธรรม์ชุดที่")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[t._v("Department Code "),a("br"),t._v("รหัสหน่วยงาน")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"1%"}},[t._v("Department "),a("br"),t._v("หน่วยงาน")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("Count "),a("br"),t._v("จำนวนรายการ")])])])}],!1,null,"3dc241c4",null).exports;var f=a(67791);const v={name:"ir-stock-monthly-index",data:function(){return{tableHeader:[],rowTotal:{department_code:"",department_desc:"",document_number:"",period_from:"",period_to:"",policy_set_description:"",policy_set_header_id:"",status:"",year:"",inventory_desc:"Inventory",inventory_amount:"",inventory_cover_amount:"",inventory_insu_amount:"",manual_desc:"Manual",manual_amount:"",manual_cover_amount:"",manual_insu_amount:"",total_desc:"Total",total_amount:"",total_cover_amount:"",total_insu_amount:"",inventory_duty_amount:"",inventory_vat_amount:"",inventory_net_amount:"",manual_duty_amount:"",manual_vat_amount:"",manual_net_amount:"",total_duty_amount:"",total_vat_amount:"",total_net_amount:""},search:{period_year:"",period_name:"",policy_set_header_id:"",status:"",data_month:"",department_from:"",department_to:"",period_from:"",period_to:"",insurance_start_date:"",insurance_end_date:""},showIndex:!0,headerRow:{header_id:"",document_number:"",status:"",period_year:"",period_from:"",period_to:"",policy_set_header_id:"",policy_set_description:"",department_code:"",department_desc:"",inventory_amount:"",inventory_cover_amount:"",inventory_insu_amount:"",manual_amount:"",manual_cover_amount:"",manual_insu_amount:"",total_amount:"",total_cover_amount:"",total_insu_amount:""},period_year:"",status:[],changeFieldManualInsuAmount:!1,manual_insu_amount:"",old_manual_insu_amount:"",rowTotalDefault:{department_code:"",department_desc:"",document_number:"",period_from:"",period_to:"",policy_set_description:"",policy_set_header_id:"",status:"",period_year:"",inventory_desc:"Inventory",inventory_amount:"",inventory_cover_amount:"",inventory_insu_amount:"",manual_desc:"Manual",manual_amount:"",manual_cover_amount:"",manual_insu_amount:"",total_desc:"Total",total_amount:"",total_cover_amount:"",total_insu_amount:"",inventory_duty_amount:"",inventory_vat_amount:"",inventory_net_amount:"",manual_duty_amount:"",manual_vat_amount:"",manual_net_amount:"",total_duty_amount:"",total_vat_amount:"",total_net_amount:""},funcs:f.sD,showLoading:!1}},computed:{sys_date:function(){var t=new Date,e=(t.getDate(),1===(t.getMonth()+1).toString().length?"0".concat(t.getMonth()+1):t.getMonth()+1),a=t.getFullYear();return"".concat(e,"/").concat(+a+543)}},methods:{getTableHeader:function(){var t=this;this.showLoading=!0;var e={period_year:this.search.period_year,policy_set_header_id:this.search.policy_set_header_id,status:this.search.status,period_from:"",period_to:"",department_from:this.search.department_from,department_to:this.search.department_to,insurance_start_date:"",insurance_end_date:"",period_name:this.funcs.setYearCE("month",this.search.period_name),data_month:this.funcs.setYearCE("month",this.search.data_month),program_code:"IRP0002"};axios.get("/ir/ajax/stocks",{params:e}).then((function(e){var a=e.data;t.showLoading=!1,t.tableHeader=a.data,t.rowTotal=t.rowTotalDefault})).catch((function(t){swal("Error",t,"error")}))},getDataSearch:function(t){this.search=t.search,this.rowTotal=t.rowTotal,this.getTableHeader()},getDataRowShowTableTotal:function(t){t.old_manual_insu_amount&&(this.old_manual_insu_amount=+t.old_manual_insu_amount),this.rowTotal=t},getDataManualInsuAmount:function(t){this.old_manual_insu_amount!=t&&(this.changeFieldManualInsuAmount=!0,this.manual_insu_amount=t),this.rowTotal.manual_insu_amount=t},getDataPeriodYear:function(t){this.period_year=+t-543},getStatus:function(){var t=this;axios.get("/ir/ajax/lov/status").then((function(e){var a=e.data;t.status=a})).catch((function(t){swal("Error",t,"error")}))},setPropertyTableHeader:function(t){return t.filter((function(t){return t.status="INTERFACE",t}))},fetchShowTableHeader:function(t){console.log("fetchShowTableHeader ",t),this.tableHeader=t,this.rowTotal=this.rowTotalDefault}},components:{indexTableTotal:r,indexSearch:m,indexTableHeader:p}};const y=(0,n.Z)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading,expression:"showLoading"}]},[a("index-search",{ref:"indexIndexSearch",attrs:{search:t.search,showYearBE:t.funcs.showYearBE,setYearCE:t.funcs.setYearCE},on:{"click-search":t.getDataSearch,"change-period-year":t.getDataPeriodYear,"fetch-show-table-header":t.fetchShowTableHeader}}),t._v(" "),a("index-table-header",{ref:"indexIndexTableHeader",attrs:{isNullOrUndefined:t.funcs.isNullOrUndefined,tableHeader:t.tableHeader,showPeriodNameFormat:t.funcs.showPeriodNameFormat,setFirstLetterUpperCase:t.funcs.setFirstLetterUpperCase,showYearBE:t.funcs.showYearBE,checkStatusNew:t.funcs.checkStatusNew,formatCurrency:t.funcs.formatCurrency},on:{"click-row":t.getDataRowShowTableTotal}}),t._v(" "),a("index-table-total",{ref:"indexIndexTableTotal",attrs:{rowTotal:t.rowTotal,formatCurrency:t.funcs.formatCurrency},on:{"change-manual-insu-amount":t.getDataManualInsuAmount}})],1)}),[],!1,null,null,null).exports},48185:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});const o={name:"ir-stock-monthly-lov-department",data:function(){return{rows:[],loading:!1,result:this.value}},props:["placeholder","attrName","value"],methods:{remoteMethod:function(t){this.getDataRows({department_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.rows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({department_code:"",keyword:""})},change:function(t){this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})}};const n=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.attrName,"remote-method":t.remoteMethod,loading:t.loading,remote:"",clearable:!0,filterable:""},on:{focus:t.focus,change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.department_code+": "+t.description,value:t.department_code}})})),1)],1)}),[],!1,null,null,null).exports},51900:(t,e,a)=>{"use strict";function o(t,e,a,o,n,r,i,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):n&&(l=s?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var _=c.beforeCreate;c.beforeCreate=_?[].concat(_,l):[l]}return{exports:t,options:c}}a.d(e,{Z:()=>o})},75415:(t,e,a)=>{var o=a(49743);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,a(45346).Z)("1869a037",o,!0,{})}}]);