(self.webpackChunk=self.webpackChunk||[]).push([[2707],{32707:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>l});const s={props:["checkPoints","profile"],data:function(){return{hrefTarget:"_blank"}},mounted:function(){$(".dataTable").dataTable({searching:!1,bInfo:!1,columnDefs:[{orderable:!1,targets:4},{orderable:!1,targets:5}]})},methods:{removeFile:function(t){var a=this.profile.program_code;swal({title:"คุณแน่ใจ?",text:"คุณที่จะต้องการลบรูปภาพนี้ใช่ไหม ?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn btn-warning",confirmButtonText:"ยืนยัน",cancelButtonText:"ยกเลิก",closeOnConfirm:!1},(function(e){if(e)return axios.get("/qm/ajax/attachments/"+t+"/"+a+"/deleteByPKGCheckPoints").then((function(t){console.log(t.data.message),"Success"==t.data.message&&(swal({title:"success !",text:"ลบรูปภาพสำเร็จ !",type:"success",showConfirmButton:!0}),setTimeout((function(){window.location.reload(!1)}),3e3))}))}))}}};const l=(0,e(51900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table program_info_tb dataTable"},[t._m(0),t._v(" "),e("tbody",t._l(this.checkPoints,(function(a,s){return e("tr",{key:s,attrs:{row:a}},[e("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{"data-sort":a.enabled_flag}},["Y"==a.enabled_flag?e("div",[e("i",{staticClass:"fa fa-check-circle text-success"})]):e("div",[e("i",{staticClass:"fa fa-circle text-muted"})])]),t._v(" "),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[t._v("\n                    "+t._s(a.location_desc)+"\n                ")]),t._v(" "),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[t._v("\n                    "+t._s(a.locator_desc)+"\n                ")]),t._v(" "),e("td",{staticClass:"text-left",staticStyle:{"vertical-align":"middle"}},[t._v("\n                    "+t._s(a.qm_group)+"\n                ")]),t._v(" "),e("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalScrollable"+a.inventory_location_id,disabled:a.isAttachments}},[e("i",{staticClass:"fa fa-file-image-o",attrs:{"aria-hidden":"true"}}),t._v(" ดูรูปภาพ\n                    ")]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"exampleModalScrollable"+a.inventory_location_id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalScrollableTitle"+a.inventory_location_id,"aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1,!0),t._v(" "),e("div",{staticClass:"modal-body"},[e("ul",t._l(a.attachments,(function(a){return e("li",{key:a.attachment_id,staticStyle:{"text-align":"left"}},[e("a",{attrs:{target:t.hrefTarget,href:"attachments/"+a.attachment_id+"/imageCheckPoints"}},[t._v("\n                                            "+t._s(a.file_name)+"\n                                        ")]),t._v(" "),e("a",{on:{click:function(e){return t.removeFile(a.attachment_id)}}},[e("i",{staticClass:"fa fa-close",staticStyle:{color:"red","text-align":"right"}})])])})),0)]),t._v(" "),t._m(2,!0)])])])]),t._v(" "),e("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[e("a",{staticClass:"btn btn-warning",attrs:{type:"button",href:"/qm/settings/check-points-tobacco-leaf/"+a.inventory_location_id+"/edit"}},[e("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}),t._v(" แก้ไข\n                    ")])])])})),0)])])}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"text-center"},[e("div",[t._v("สถานะการใช้งาน")])]),t._v(" "),e("th",{staticClass:"text-left"},[e("div",[t._v("ชื่อจุดตรวจสอบ")])]),t._v(" "),e("th",{staticClass:"text-left"},[e("div",[t._v("รายละเอียดจุดตรวจสอบ")])]),t._v(" "),e("th",{staticClass:"text-left"},[e("div",[t._v("กลุ่มงาน")])]),t._v(" "),e("th",{staticClass:"text-center"},[e("div",[t._v("รูปภาพประกอบ")])]),t._v(" "),e("th",{staticClass:"text-center"},[e("div")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalScrollableTitle"}},[t._v("ดูแนบรูปภาพ")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("ปิด")])])}],!1,null,null,null).exports}}]);