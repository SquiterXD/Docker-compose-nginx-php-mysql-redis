(self.webpackChunk=self.webpackChunk||[]).push([[8134],{98134:(o,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>r});var s=t(7398),i=t.n(s);t(19371),t(30381);const n={props:["periodYears","periodYearValue","versionNos","cigVersions","filterVersions","versionNoValue","planVersionNos","planVersionNoValue","costCodes","costCodeFromValue","costCodeToValue"],components:{Loading:i()},data:function(){return{periodYear:this.periodYearValue,versionNo:this.versionNoValue,planVersionNo:this.planVersionNoValue,costCodeFrom:this.costCodeFromValue,costCodeTo:this.costCodeToValue,versionNoOptions:[],planVersionNoOptions:[],costCodeFromOptions:[],costCodeToOptions:[]}},mounted:function(){this.periodYearValue&&(this.filterVersionOptions(this.periodYearValue),this.filterPlanVersionNoOptions(this.periodYearValue),this.filterCostCodeFromOptions(this.periodYearValue),this.costCodeFromValue?this.filterCostCodeToOptions(this.periodYearValue,this.costCodeFromValue):this.filterCostCodeToOptions(this.periodYearValue,null))},methods:{setUrlParams:function(){var o=new URLSearchParams(window.location.search);o.set("period_year",this.periodYear?this.periodYear:""),o.set("version_no",this.versionNo?this.versionNo:""),o.set("plan_version_no",this.planVersionNo?this.planVersionNo:""),o.set("cost_code_from",this.costCodeFrom?this.costCodeFrom:""),o.set("cost_code_to",this.costCodeTo?this.costCodeTo:""),window.history.replaceState(null,null,"?"+o.toString())},onPeriodYearChanged:function(o){this.periodYear=o,this.filterVersionOptions(this.periodYear),this.versionNoOptions.length>0&&(this.versionNo=this.versionNoOptions[0].version_no),this.filterPlanVersionNoOptions(this.periodYear),this.planVersionNoOptions.length>0&&(this.planVersionNo=this.planVersionNoOptions[0].plan_version_no),this.filterCostCodeFromOptions(this.periodYear),this.costCodeFromOptions.length>0?(this.costCodeFrom=this.costCodeFromOptions[0].cost_code_value,this.filterCostCodeToOptions(this.periodYear,this.costCodeFrom)):this.filterCostCodeToOptions(this.periodYear,null),this.costCodeToOptions.length>0&&(this.costCodeTo=this.costCodeToOptions[0].cost_code_value),this.setUrlParams()},onVersionNoChanged:function(o){this.versionNo=o,this.setUrlParams()},onPlanVersionNoChanged:function(o){this.planVersionNo=o,this.setUrlParams()},onCostCodeFromChanged:function(o){this.costCodeFrom=o,this.filterCostCodeToOptions(this.periodYear,this.costCodeFrom),this.costCodeToOptions.length>0&&(this.costCodeTo=this.costCodeToOptions[0].cost_code_value),this.setUrlParams()},onCostCodeToChanged:function(o){this.costCodeTo=o,this.setUrlParams()},filterVersionOptions:function(o){this.versionNoOptions=o?this.versionNos.filter((function(e){return e.period_year==o})):[]},filterPlanVersionNoOptions:function(o){this.planVersionNoOptions=o?this.planVersionNos.filter((function(e){return e.period_year==o})):[]},filterCostCodeFromOptions:function(o){this.costCodeFromOptions=o?this.costCodes.filter((function(e){return e.period_year==o})):[]},filterCostCodeToOptions:function(o,e){this.costCodeToOptions=o?e?this.costCodes.filter((function(t){return t.period_year==o&&parseInt(t.cost_code)>=parseInt(e)})):this.costCodes.filter((function(e){return e.period_year==o})):[]}}};const r=(0,t(51900).Z)(n,(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"offset-md-2 col-md-8"},[t("div",{staticClass:"row form-group"},[t("label",{staticClass:"col-md-4 required"},[o._v(" ปี ")]),o._v(" "),t("div",{staticClass:"col-md-8"},[t("qm-el-select",{attrs:{name:"period_year",id:"input_period_year",placeholder:"ปี ","option-key":"period_year_value","option-value":"period_year_value","option-label":"period_year_label","select-options":o.periodYears,clearable:!1,filterable:!0,value:o.periodYear},on:{onSelected:function(e){return o.onPeriodYearChanged(e)}}})],1)]),o._v(" "),t("div",{staticClass:"row form-group"},[t("label",{staticClass:"col-md-4 required"},[o._v(" ครั้งที่ ")]),o._v(" "),t("div",{staticClass:"col-md-8"},[t("qm-el-select",{attrs:{name:"version_no",id:"input_version_no",placeholder:"ครั้งที่ ","option-key":"version_no","option-value":"version_no","option-label":"version_no","select-options":o.versionNoOptions,clearable:!1,filterable:!0,value:o.versionNo},on:{onSelected:function(e){return o.onVersionNoChanged(e)}}})],1)]),o._v(" "),t("div",{staticClass:"row form-group"},[t("label",{staticClass:"col-md-4 required"},[o._v(" แผนการผลิตครั้งที่ ")]),o._v(" "),t("div",{staticClass:"col-md-8"},[t("qm-el-select",{attrs:{name:"plan_version_no",id:"input_plan_version_no",placeholder:"แผนการผลิตครั้งที่ ","option-key":"plan_version_no","option-value":"plan_version_no","option-label":"plan_version_no","select-options":o.planVersionNoOptions,clearable:!1,filterable:!0,value:o.planVersionNo},on:{onSelected:function(e){return o.onPlanVersionNoChanged(e)}}})],1)]),o._v(" "),t("div",{staticClass:"row form-group"},[t("label",{staticClass:"col-md-4 required"},[o._v(" ศูนย์ต้นทุน ")]),o._v(" "),t("div",{staticClass:"col-md-8"},[t("qm-el-select",{attrs:{name:"cost_code_from",id:"input_cost_code_from",placeholder:"ศูนย์ต้นทุน ","option-key":"cost_code_value","option-value":"cost_code_value","option-label":"cost_code_label","select-options":o.costCodeFromOptions,clearable:!1,filterable:!0,value:o.costCodeFrom},on:{onSelected:function(e){return o.onCostCodeFromChanged(e)}}})],1)]),o._v(" "),t("div",{staticClass:"row form-group"},[t("label",{staticClass:"col-md-4 required"},[o._v(" ถึงศูนย์ต้นทุน ")]),o._v(" "),t("div",{staticClass:"col-md-8"},[t("qm-el-select",{attrs:{name:"cost_code_to",id:"input_cost_code_to",placeholder:"ถึงศูนย์ต้นทุน ","option-key":"cost_code_value","option-value":"cost_code_value","option-label":"cost_code_label","select-options":o.costCodeToOptions,clearable:!1,filterable:!0,value:o.costCodeTo},on:{onSelected:function(e){return o.onCostCodeToChanged(e)}}})],1)])]),o._v(" "),t("div",{staticClass:"offset-md-2 col-md-8 text-right tw-mt-2 tw-mb-4"},[t("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit",disabled:!(o.periodYear&&o.versionNo&&o.planVersionNo&&o.costCodeFrom)}},[t("i",{staticClass:"fa fa fa-file-excel-o tw-mr-1"}),o._v(" พิมพ์รายงาน\n        ")])])])}),[],!1,null,null,null).exports}}]);