(self.webpackChunk=self.webpackChunk||[]).push([[8912],{28912:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(87757),s=t.n(r),o=t(7398),n=t.n(o),d=(t(19371),t(30381)),i=t.n(d),c=t(80455);function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){m(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function m(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const _={props:["paramHeader","workorderProcesses","uomCodes"],components:{VueNumeric:t.n(c)()},watch:{paramHeader:function(e){this.paramHeaderData=e},workorderProcesses:function(e){var a=this;this.workorderProcessItems=e?e.map((function(e){return p(p({},e),{},{selected:"no",uom_code_desc:a.getUomCodeDescription(a.uomCodes,e.uom_code),complete_date_ts:e.complete_date?i()(e.complete_date):null,complete_date_thai:e.complete_date?i()(e.complete_date).add(543,"year").format("DD/MM/YYYY"):"-",closed_date_thai:e.closed_date?i()(e.closed_date).add(543,"year").format("DD/MM/YYYY"):"-"})})):[]}},data:function(){var e=this;return{paramHeaderData:this.paramHeader,workorderProcessItems:this.workorderProcesses.map((function(a){return p(p({},a),{},{selected:"no",uom_code_desc:e.getUomCodeDescription(e.uomCodes,a.uom_code),complete_date_ts:a.complete_date?i()(a.complete_date):null,complete_date_thai:a.complete_date?i()(a.complete_date).add(543,"year").format("DD/MM/YYYY"):"-",closed_date_thai:a.closed_date?i()(a.closed_date).add(543,"year").format("DD/MM/YYYY"):"-"})}))}},mounted:function(){},computed:{},methods:{formatter:function(e,a){return e.address},numberFormatter:function(e,a,t){return t?Number(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"-"},sortCompleteQty:function(e,a){return e.complete_qty-a.complete_qty},sortRemainQuantity:function(e,a){return e.remain_quantity-a.remain_quantity},sortCompleteDateThai:function(e,a){return i()(e.complete_date)-i()(a.complete_date)},sortClosedDateThai:function(e,a){return i()(e.closed_date)-i()(a.closed_date)},emitWorkorderProcessChanged:function(){this.$emit("onWorkorderProcessChanged",{workorderProcessItems:this.workorderProcessItems})},formatNumber:function(e){return e.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},isNumber:function(e){var a=(e=e||window.event).which?e.which:e.keyCode;if(!(a>31&&(a<48||a>57)&&46!==a))return!0;e.preventDefault()},getUomCodeDescription:function(e,a){var t=e.find((function(e){return e.uom_code==a}));return t?t.unit_of_measure:""}}};var u=t(51900);const b=(0,u.Z)(_,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"text-left tw-mb-2"},[t("button",{staticClass:"btn btn-inline-block btn-sm btn-primary tw-w-40",attrs:{disabled:e.workorderProcessItems.length<=0}},[t("i",{staticClass:"fa fa-save tw-mr-1"}),e._v(" บันทึก \n        ")])]),e._v(" "),t("div",{staticClass:"table-responsive",staticStyle:{"max-height":"400px"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.workorderProcessItems,"default-sort":{prop:"complete_date_ts",order:"descending"},height:"400"}},[t("el-table-column",{attrs:{prop:"complete_date_thai",label:"วันที่บันทึกผลผลิต",sortable:"",align:"center","sort-method":e.sortCompleteDateThai,width:"160"}}),e._v(" "),t("el-table-column",{attrs:{prop:"batch_no",label:"เลขที่คำสั่งผลิต",sortable:"",align:"center",width:"160"}}),e._v(" "),t("el-table-column",{attrs:{prop:"batch_status",label:"สถานะ Batch",sortable:"",align:"center",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"product_item_number",label:"รหัสผลิตภัณฑ์",sortable:"",align:"center",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"item_desc",label:"ผลิตภัณฑ์",sortable:"",align:"left",width:"250"}}),e._v(" "),t("el-table-column",{attrs:{prop:"complete_qty",label:"จำนวนที่ผลิตได้",sortable:"",align:"right",width:"250","sort-method":e.sortCompleteQty,formatter:e.numberFormatter}}),e._v(" "),t("el-table-column",{attrs:{prop:"remain_quantity",label:"รวมจำนวนคงค้างในขั้นตอน",sortable:"",align:"right",width:"250","sort-method":e.sortRemainQuantity,formatter:e.numberFormatter}}),e._v(" "),t("el-table-column",{attrs:{prop:"uom_code_desc",label:"หน่วยนับ",sortable:"",align:"center",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"closed_date_thai",label:"วันที่ปิดคำสั่งผลิต",sortable:"",align:"center","sort-method":e.sortClosedDateThai,width:"150"}})],1)],1)])}),[],!1,null,null,null).exports;function h(e,a,t,r,s,o,n){try{var d=e[o](n),i=d.value}catch(e){return void t(e)}d.done?a(i):Promise.resolve(i).then(r,s)}function f(e){return function(){var a=this,t=arguments;return new Promise((function(r,s){var o=e.apply(a,t);function n(e){h(o,r,s,n,d,"next",e)}function d(e){h(o,r,s,n,d,"throw",e)}n(void 0)}))}}const v={components:{Loading:n(),TableWorkorderProcesses:b},props:["defaultData","paramIdValue","processStepValue","periodYearValue","periodNameValue","processStatusValue","postingStatusValue","costCodeValue","deptCodeFromValue","deptCodeToValue","batchNoFromValue","batchNoToValue","processSteps","periodYears","processStatuses","postingStatuses","costCenters","uomCodes"],mounted:function(){var e=this;this.periodYearValue&&this.getListPeriodNumbers(this.periodYearValue).then((function(a){e.periodNameValue&&(e.paramHeader.period_number=e.getPeriodNumber(e.periodNumbers,e.periodNameValue),e.paramHeader.start_date=e.getPeriodStartDate(e.periodNumbers,e.periodNameValue,"EN"),e.paramHeader.end_date=e.getPeriodEndDate(e.periodNumbers,e.periodNameValue,"EN"),e.paramHeader.start_date_thai=e.getPeriodStartDate(e.periodNumbers,e.periodNameValue,"TH"),e.paramHeader.end_date_thai=e.getPeriodEndDate(e.periodNumbers,e.periodNameValue,"TH"))})),this.paramIdValue&&this.onGetWorkorderProcesss(this.paramIdValue),this.costCodeValue&&(this.getListCostDepartment(this.costCodeValue),this.getBatchNumbers(this.costCodeValue))},data:function(){return{organizationId:this.defaultData?JSON.parse(this.defaultData).organization_id:null,organizationCode:this.defaultData?JSON.parse(this.defaultData).organization_code:null,department:this.defaultData?JSON.parse(this.defaultData).department:null,paramId:this.paramIdValue,paramHeader:{process_step:this.processStepValue,process_step_label:this.getProcessStepLabel(this.processSteps,this.processStepValue),period_year:this.periodYearValue,period_year_label:this.getPeriodYearLabel(this.periodYears,this.periodYearValue),period_name:this.periodNameValue,period_number:"",start_date:"",end_date:"",start_date_thai:"",end_date_thai:"",cost_code:this.costCodeValue,dept_code_from:this.deptCodeFromValue,dept_code_to:this.deptCodeToValue,batch_no_from:this.batchNoFromValue,batch_no_to:this.batchNoToValue,process_status:this.processStatusValue,posting_status:this.postingStatusValue},batchNumbers:[],periodNumbers:[],ccDepartments:[],workorderProcesses:[],workorderImportFileList:[],isVerified:!1,isLoading:!1}},computed:{},methods:{setUrlParams:function(){var e=new URLSearchParams(window.location.search);e.set("param_id",this.paramId),e.set("process_step",this.paramHeader.process_step),e.set("period_year",this.paramHeader.period_year),e.set("period_name",this.paramHeader.period_name),e.set("process_status",this.paramHeader.process_status),e.set("posting_status",this.paramHeader.posting_status),e.set("cost_code",this.paramHeader.cost_code),e.set("dept_code_from",this.paramHeader.dept_code_from),e.set("dept_code_to",this.paramHeader.dept_code_to),e.set("batch_no_from",this.paramHeader.batch_no_from),e.set("batch_no_to",this.paramHeader.batch_no_to),window.history.replaceState(null,null,"?"+e.toString())},getListPeriodNumbers:function(e){var a=this;return f(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.isLoading=!0,a.periodNumbers=[],r={period_year:e},t.next=5,axios.get("/ajax/ct/workorders/processes/get-period-numbers",{params:r}).then((function(e){var a=e.data.data;return a.period_numbers?JSON.parse(a.period_numbers):[]})).catch((function(e){console.log(e),swal("เกิดข้อผิดพลาด","ข้อมูลปี ".concat(a.paramHeader.period_year_label," ไม่ถูกต้อง | ").concat(e.message),"error")}));case 5:a.periodNumbers=t.sent,a.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},getListCostDepartment:function(e){var a=this;return f(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.isLoading=!0,r={cost_code:e},t.next=4,axios.get("/ajax/ct/workorders/processes/get-cost-departments",{params:r}).then((function(e){var a=e.data.data;return a.departments?JSON.parse(a.departments):[]})).catch((function(a){console.log(a),swal("เกิดข้อผิดพลาด","ไม่พบข้อมูล หน่วยงาน จากศูนย์ต้นทุน ".concat(e," | ").concat(a.message),"error")}));case 4:a.ccDepartments=t.sent,a.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},getBatchNumbers:function(e){var a=this;return f(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.isLoading=!0,r={cost_code:e},t.next=4,axios.get("/ajax/ct/workorders/processes/get-batch-numbers",{params:r}).then((function(e){var a=e.data.data;return a.batch_numbers?JSON.parse(a.batch_numbers):[]})).catch((function(a){console.log(a),swal("เกิดข้อผิดพลาด","ไม่พบข้อมูล เลขที่คำสั่งผลิต จากศูนย์ต้นทุน ".concat(e," | ").concat(a.message),"error")}));case 4:a.batchNumbers=t.sent,a.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},onProcessStepChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.process_step=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},onPeriodYearChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.period_year=e,a.paramHeader.period_year_label=a.getPeriodYearLabel(a.periodYears,e),a.paramHeader.period_name="",a.paramHeader.period_number="",a.paramHeader.start_date="",a.paramHeader.end_date="",a.paramHeader.start_date_thai="",a.paramHeader.end_date_thai="",a.getListPeriodNumbers(a.paramHeader.period_year),a.setUrlParams();case 10:case"end":return t.stop()}}),t)})))()},onCostCenterCodeChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.cost_code=e,a.getBatchNumbers(a.paramHeader.cost_code),a.getBatchNumbers(a.paramHeader.cost_code),a.setUrlParams();case 4:case"end":return t.stop()}}),t)})))()},onPeriodNumberChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.period_name=e,a.paramHeader.period_number=a.getPeriodNumber(a.periodNumbers,e),a.paramHeader.start_date=a.getPeriodStartDate(a.periodNumbers,e,"EN"),a.paramHeader.end_date=a.getPeriodEndDate(a.periodNumbers,e,"EN"),a.paramHeader.start_date_thai=a.getPeriodStartDate(a.periodNumbers,e,"TH"),a.paramHeader.end_date_thai=a.getPeriodEndDate(a.periodNumbers,e,"TH"),a.setUrlParams();case 7:case"end":return t.stop()}}),t)})))()},onDeptCodeFromChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.dept_code_from=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},onDeptCodeToChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.dept_code_to=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},onBatchNoFromChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.batch_no_from=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},onBatchNoToChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.batch_no_to=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},onProcessStatusChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.process_status=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},onPostingStatusChanged:function(e){var a=this;return f(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.paramHeader.posting_status=e,a.setUrlParams();case 2:case"end":return t.stop()}}),t)})))()},getProcessStepLabel:function(e,a){var t=e.find((function(e){return e.step_code==a}));return t?t.description:""},getPeriodYearLabel:function(e,a){var t=e.find((function(e){return e.period_year_value==a}));return t?t.period_year_label:""},getPeriodNumber:function(e,a){var t=e.find((function(e){return e.period_number_value==a}));return t?t.period_number_label:""},getPeriodStartDate:function(e,a,t){var r=null,s=e.find((function(e){return e.period_number_value==a}));return r=s?s.start_date:"","TH"==t&&(r=s?s.start_date_thai:""),r},getPeriodEndDate:function(e,a,t){var r=null,s=e.find((function(e){return e.period_number_value==a}));return r=s?s.end_date:"","TH"==t&&(r=s?s.end_date_thai:""),r},getProcessStatusDesc:function(e){var a="-";if(e){var t=this.processStatuses.find((function(a){return a.process_status==e}));a=t?t.description:"-"}return a},getPostingStatusDesc:function(e){var a="-";if(e){var t=this.postingStatuses.find((function(a){return a.posting_status==e}));a=t?t.description:"-"}return a},onClearParamHeader:function(){var e=this;return f(s().mark((function a(){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.paramHeader.process_step="",e.paramHeader.process_step_label="",e.paramHeader.period_year="",e.paramHeader.period_year_label="",e.paramHeader.period_name="",e.paramHeader.period_number="",e.paramHeader.start_date="",e.paramHeader.end_date="",e.paramHeader.start_date_thai="",e.paramHeader.end_date_thai="",e.paramHeader.cost_code="",e.paramHeader.dept_code_from="",e.paramHeader.dept_code_to="",e.paramHeader.batch_no_from="",e.paramHeader.batch_no_to="",e.paramHeader.process_status="",e.paramHeader.posting_status="",e.periodNumbers=[],e.ccDepartments=[],e.setUrlParams();case 20:case"end":return a.stop()}}),a)})))()},onGenerateWorkorderProcesss:function(){var e=this;return f(s().mark((function a(){var t,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.isLoading=!0,!(t=e.validateBeforeGenerate(e.paramHeader)).valid){a.next=8;break}return r={process_step:e.paramHeader.process_step,process_step_label:e.paramHeader.process_step_label,period_year:e.paramHeader.period_year,period_year_label:e.paramHeader.period_year_label,period_name:e.paramHeader.period_name,period_number:e.paramHeader.period_number,start_date:e.paramHeader.start_date,end_date:e.paramHeader.end_date,start_date_thai:e.paramHeader.start_date_thai,end_date_thai:e.paramHeader.end_date_thai,cost_code:e.paramHeader.cost_code,dept_code_from:e.paramHeader.dept_code_from,dept_code_to:e.paramHeader.dept_code_to,batch_no_from:e.paramHeader.batch_no_from,batch_no_to:e.paramHeader.batch_no_to,process_status:e.paramHeader.process_status,posting_status:e.paramHeader.posting_status},a.next=6,axios.post("/ajax/ct/workorders/processes/generate-trans",r).then((function(a){var t=a.data.data;return e.paramId=t.param_id?t.param_id:null,e.paramId?e.onGetWorkorderProcesss(e.paramId):swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต ( param_id is null ) | ".concat(t.message),"error"),t})).catch((function(e){console.log(e),swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต  | ".concat(e.message),"error")}));case 6:a.next=9;break;case 8:swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต | ".concat(t.message),"error");case 9:e.isLoading=!1,e.setUrlParams();case 11:case"end":return a.stop()}}),a)})))()},onQueryWorkorderProcesss:function(){var e=this;return f(s().mark((function a(){var t,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.isLoading=!0,!(t=e.validateBeforeQuery(e.paramHeader)).valid){a.next=8;break}return r={process_step:e.paramHeader.process_step,process_step_label:e.paramHeader.process_step_label,period_year:e.paramHeader.period_year,period_year_label:e.paramHeader.period_year_label,period_name:e.paramHeader.period_name,period_number:e.paramHeader.period_number,start_date:e.paramHeader.start_date,end_date:e.paramHeader.end_date,start_date_thai:e.paramHeader.start_date_thai,end_date_thai:e.paramHeader.end_date_thai,cost_code:e.paramHeader.cost_code,dept_code_from:e.paramHeader.dept_code_from,dept_code_to:e.paramHeader.dept_code_to,batch_no_from:e.paramHeader.batch_no_from,batch_no_to:e.paramHeader.batch_no_to,process_status:e.paramHeader.process_status,posting_status:e.paramHeader.posting_status},a.next=6,axios.post("/ajax/ct/workorders/processes/query-trans",r).then((function(a){var t=a.data.data;return e.paramId=t.param_id?t.param_id:null,e.paramId&&e.onGetWorkorderProcesss(e.paramId),swal("Success","แสดงข้อมูลคำสั่งผลิต","success"),t})).catch((function(e){console.log(e),swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต  | ".concat(e.message),"error")}));case 6:a.next=9;break;case 8:swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต | ".concat(t.message),"error");case 9:e.isLoading=!1,e.setUrlParams();case 11:case"end":return a.stop()}}),a)})))()},onProcessWorkorderProcesss:function(){var e=this;return f(s().mark((function a(){var t,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.isLoading=!0,!(t=e.validateBeforeProcess(e.paramHeader)).valid){a.next=8;break}return r={process_step:e.paramHeader.process_step,process_step_label:e.paramHeader.process_step_label,period_year:e.paramHeader.period_year,period_year_label:e.paramHeader.period_year_label,period_name:e.paramHeader.period_name,period_number:e.paramHeader.period_number,start_date:e.paramHeader.start_date,end_date:e.paramHeader.end_date,start_date_thai:e.paramHeader.start_date_thai,end_date_thai:e.paramHeader.end_date_thai,cost_code:e.paramHeader.cost_code,dept_code_from:e.paramHeader.dept_code_from,dept_code_to:e.paramHeader.dept_code_to,batch_no_from:e.paramHeader.batch_no_from,batch_no_to:e.paramHeader.batch_no_to,process_status:e.paramHeader.process_status,posting_status:e.paramHeader.posting_status},a.next=6,axios.post("/ajax/ct/workorders/processes/process-trans",r).then((function(a){var t=a.data.data;return e.paramId=t.param_id?t.param_id:null,e.paramId&&e.onGetWorkorderProcesss(e.paramId),swal("Success","ประมวลผลข้อมูลคำสั่งผลิต","success"),t})).catch((function(e){console.log(e),swal("เกิดข้อผิดพลาด","ไม่สามารถประมวลผลข้อมูลคำสั่งผลิต  | ".concat(e.message),"error")}));case 6:a.next=9;break;case 8:swal("เกิดข้อผิดพลาด","ไม่สามารถประมวลผลข้อมูลคำสั่งผลิต | ".concat(t.message),"error");case 9:e.isLoading=!1,e.setUrlParams();case 11:case"end":return a.stop()}}),a)})))()},onGetWorkorderProcesss:function(e){var a=this;return f(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.isLoading=!0,console.log("paramId : ",e),r={param_id:e},t.next=5,axios.get("/ajax/ct/workorders/processes/get-trans",{params:r}).then((function(e){var t=e.data.data;return"success"==t.status?a.workorderProcesses=t.transactions?JSON.parse(t.transactions):[]:swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต | ".concat(t.message),"error"),t})).catch((function(e){console.log(e),swal("เกิดข้อผิดพลาด","ไม่สามารถแสดงข้อมูลคำสั่งผลิต  | ".concat(e.message),"error")}));case 5:a.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},onWorkorderProcessChanged:function(e){this.workorderProcesses=e.workorderProcessItems},validateBeforeGenerate:function(e){var a={valid:!0,message:""};return e.process_step||(a.valid=!1,a.message="กรุณาเลือกหัวข้อดำเนินการ"),e.period_year||(a.valid=!1,a.message="กรุณาเลือกข้อมูลปีบัญชี"),e.period_number||(a.valid=!1,a.message="กรุณาเลือกข้อมูลงวดบัญชี"),e.cost_code||(a.valid=!1,a.message="กรุณากรอกข้อมูลศูนย์ต้นทุน"),a},validateBeforeQuery:function(e){var a={valid:!0,message:""};return e.process_step||(a.valid=!1,a.message="กรุณาเลือกหัวข้อดำเนินการ"),e.period_year||(a.valid=!1,a.message="กรุณาเลือกข้อมูลปีบัญชี"),e.period_number||(a.valid=!1,a.message="กรุณาเลือกข้อมูลงวดบัญชี"),e.cost_code||(a.valid=!1,a.message="กรุณากรอกข้อมูลศูนย์ต้นทุน"),a},validateBeforeProcess:function(e){var a={valid:!0,message:""};return e.process_step||(a.valid=!1,a.message="กรุณาเลือกหัวข้อดำเนินการ"),e.period_year||(a.valid=!1,a.message="กรุณาเลือกข้อมูลปีบัญชี"),e.period_number||(a.valid=!1,a.message="กรุณาเลือกข้อมูลงวดบัญชี"),e.cost_code||(a.valid=!1,a.message="กรุณากรอกข้อมูลศูนย์ต้นทุน"),a},validateBeforeSave:function(e,a){return{valid:!0,message:""}}}};const g=(0,u.Z)(v,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"ibox"},[t("div",{staticClass:"ibox-content tw-pt-8",staticStyle:{"min-height":"600px"}},[t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"row form-group"},[t("label",{staticClass:"col-md-2 col-form-label tw-font-bold tw-pt-0 required"},[e._v(" เลือกหัวข้อดำเนินการ ")]),e._v(" "),t("div",{staticClass:"col-md-10"},[t("ct-el-select",{attrs:{name:"process_step",id:"input_process_step","select-options":e.processSteps,"option-key":"process_step_value","option-value":"process_step_value","option-label":"process_step_full_label",value:e.paramHeader.process_step,filterable:!0,clearable:!0},on:{onSelected:e.onProcessStepChanged}})],1)])])]),e._v(" "),t("div",{staticClass:"row form-group"},[t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold tw-pt-0 required"},[e._v(" ปีบัญชี ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"period_year",id:"input_period_year","select-options":e.periodYears,"option-key":"period_year_value","option-value":"period_year_value","option-label":"period_year_label",value:e.paramHeader.period_year,filterable:!0,clearable:!0},on:{onSelected:e.onPeriodYearChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold required"},[e._v(" งวดบัญชี ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"period_number",id:"input_period_number","select-options":e.periodNumbers,"option-key":"period_number_value","option-value":"period_number_value","option-label":"period_number_full_label",value:e.paramHeader.period_number,filterable:!0,clearable:!0},on:{onSelected:e.onPeriodNumberChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold required"},[e._v(" ตั้งแต่วันที่ ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("p",{staticClass:"col-form-label"},[e._v(" "+e._s(e.paramHeader.start_date_thai?e.paramHeader.start_date_thai:"-")+" ")])])])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold required"},[e._v(" ถึงวันที่ ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("p",{staticClass:"col-form-label"},[e._v(" "+e._s(e.paramHeader.end_date_thai?e.paramHeader.end_date_thai:"-")+" ")])])])])]),e._v(" "),t("div",{staticClass:"row form-group"},[t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold required"},[e._v(" ศูนย์ต้นทุน ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"cost_code",id:"input_cost_code","select-options":e.costCenters,"option-key":"cost_code_value","option-value":"cost_code_value","option-label":"cost_code_label",value:e.paramHeader.cost_code,filterable:!0,clearable:!0},on:{onSelected:e.onCostCenterCodeChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold"},[e._v(" หน่วยงาน (From) ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"dept_code_from",id:"input_dept_code_from","select-options":e.ccDepartments,"option-key":"department_code","option-value":"department_code","option-label":"department_code",value:e.paramHeader.dept_code_from,filterable:!0,clearable:!0},on:{onSelected:e.onDeptCodeFromChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold"},[e._v(" หน่วยงาน (To) ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"dept_code_to",id:"input_dept_code_to","select-options":e.ccDepartments,"option-key":"department_code","option-value":"department_code","option-label":"department_code",value:e.paramHeader.dept_code_to,filterable:!0,clearable:!0},on:{onSelected:e.onDeptCodeToChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"})]),e._v(" "),t("div",{staticClass:"row form-group"},[t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold"},[e._v(" เลขที่คำสั่งผลิต (From) ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"batch_no_from",id:"input_batch_no_from","select-options":e.batchNumbers,"option-key":"batch_no","option-value":"batch_no","option-label":"batch_no",value:e.paramHeader.batch_no_from,filterable:!0,clearable:!0},on:{onSelected:e.onBatchNoFromChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold"},[e._v(" เลขที่คำสั่งผลิต (To) ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"batch_no_to",id:"input_batch_no_to","select-options":e.batchNumbers,"option-key":"batch_no","option-value":"batch_no","option-label":"batch_no",value:e.paramHeader.batch_no_to,filterable:!0,clearable:!0},on:{onSelected:e.onBatchNoToChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold"},[e._v(" สถานะประมวลผล ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"process_status",id:"input_process_status","select-options":e.processStatuses,"option-key":"process_status","option-value":"process_status","option-label":"description",value:e.paramHeader.process_status,filterable:!0,clearable:!0},on:{onSelected:e.onProcessStatusChanged}})],1)])]),e._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"row"},[t("label",{staticClass:"col-md-4 col-form-label tw-font-bold"},[e._v(" สถานะส่งเข้า GL ")]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("ct-el-select",{attrs:{name:"posting_status",id:"input_posting_status","select-options":e.postingStatuses,"option-key":"posting_status","option-value":"posting_status","option-label":"description",value:e.paramHeader.posting_status,filterable:!0,clearable:!0},on:{onSelected:e.onPostingStatusChanged}})],1)])])])]),e._v(" "),t("hr"),e._v(" "),t("div",[t("div",{staticClass:"text-left tw-mb-2"},[t("button",{staticClass:"btn btn-inline-block btn-sm btn-success tw-w-40",attrs:{disabled:!(e.paramHeader.process_step&&e.paramHeader.period_year&&e.paramHeader.period_name&&e.paramHeader.cost_code)},on:{click:e.onQueryWorkorderProcesss}},[t("i",{staticClass:"fa fa-search tw-mr-1"}),e._v(" แสดงข้อมูล \n                ")]),e._v(" "),t("button",{staticClass:"btn btn-inline-block btn-sm btn-white tw-w-40",on:{click:e.onClearParamHeader}},[t("i",{staticClass:"fa fa-times tw-mr-1"}),e._v(" ล้างการค้นหา \n                ")]),e._v(" "),t("button",{staticClass:"btn btn-inline-block btn-sm btn-warning tw-w-40",attrs:{disabled:!(e.paramHeader.process_step&&e.paramHeader.period_year&&e.paramHeader.period_name&&e.paramHeader.cost_code)},on:{click:e.onProcessWorkorderProcesss}},[t("i",{staticClass:"fa fa-retweet tw-mr-1"}),e._v(" ประมวลผล \n                ")])])]),e._v(" "),t("hr"),e._v(" "),t("div",[t("div",{staticClass:"text-left tw-mb-2"},[t("button",{staticClass:"btn btn-inline-block btn-sm btn-white tw-w-52",attrs:{disabled:!0}},[e._v(" \n                    รายงานการบันทึกบัญชี \n                ")]),e._v(" "),t("button",{staticClass:"btn btn-inline-block btn-sm btn-white tw-w-52",attrs:{disabled:!0}},[e._v("\n                    รายงานรายละเอียดวัตถุดิบที่ใช้ไป\n                ")]),e._v(" "),t("button",{staticClass:"btn btn-inline-block btn-sm btn-white tw-w-52",attrs:{disabled:!0}},[e._v(" \n                    งานระหว่างผลิตปลายงวด\n                ")]),e._v(" "),t("button",{staticClass:"btn btn-inline-block btn-sm btn-white tw-w-52",attrs:{disabled:!0}},[e._v(" \n                    รายงานบัตรต้นทุน\n                ")]),e._v(" "),t("button",{staticClass:"btn btn-inline-block btn-sm btn-white tw-w-52",attrs:{disabled:!0}},[e._v(" \n                    รายงานสรุปต้นทุนผลิต\n                ")])])]),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"tw-m-8"},[t("div",{staticClass:"row tw-mb-5"},[t("div",{staticClass:"col-12"},[t("table-workorder-processes",{attrs:{"param-header":e.paramHeader,"workorder-processes":e.workorderProcesses,"uom-codes":e.uomCodes},on:{onWorkorderProcessChanged:e.onWorkorderProcessChanged}})],1)])])]),e._v(" "),t("loading",{attrs:{active:e.isLoading,"is-full-page":!0},on:{"update:active":function(a){e.isLoading=a}}})],1)}),[],!1,null,null,null).exports}}]);