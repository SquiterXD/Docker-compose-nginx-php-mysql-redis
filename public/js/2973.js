(self.webpackChunk=self.webpackChunk||[]).push([[2973],{12973:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>T});var s=a(87757),n=a.n(s);function r(t,e,a,s,n,r,i){try{var l=t[r](i),c=l.value}catch(t){return void a(t)}l.done?e(c):Promise.resolve(c).then(s,n)}const i={props:["btnTrans","url","modalCreateInput"],data:function(){return{loading:!1,html:""}},mounted:function(){},computed:{},watch:{},methods:{openModal:function(){$("#modal_create").modal("show")},submit:function(){var t=this;t.loading=!0,axios.post(t.url.adjusts_store,{product_main_id:t.modalCreateInput.pp04.product_main_id}).then((function(t){swal({title:"สร้างข้อมูลปรับแผน",text:'<span style="font-size: 16px; text-align: left;"> สร้างข้อมูลปรับแผนรายปักษ์สำเร็จแล้ว </span>',type:"success",html:!0}),window.location.href=t.data.data.redirect_show_page})).catch((function(t){})).then((function(){t.loading=!1}))},searchForm:function(){var t,e=this;return(t=n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=e).loading=!0,t.next=4,axios.get(a.url.ajax_adjusts_search_create,{params:{period_year_thai:a.period_year_thai,biweekly:a.biweekly,approved_status:a.status}}).then((function(t){a.html=t.data.data.html})).catch((function(t){a.html="";var e=t.response.data;alert(e.message)})).then((function(){a.loading=!1}));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function l(t){r(i,s,n,l,c,"next",t)}function c(t){r(i,s,n,l,c,"throw",t)}l(void 0)}))})()},getBiweekly:function(){var t=this;this.search||(this.biweekly="",this.month="",this.times=""),this.biWeeklyLists=this.pBiweekly.filter((function(e){return e.thai_year.indexOf(t.period_year_thai)>-1}))}}};var l=a(51900);const c=(0,l.Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("button",{class:t.btnTrans.create.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:t.openModal}},[a("i",{class:t.btnTrans.create.icon}),t._v("\n        "+t._s(t.btnTrans.create.text)+"ปรับแผน\n    ")]),t._v(" "),a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_create",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",staticStyle:{width:"90%","max-width":"950px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body text-left"},[a("div",{staticClass:"row col-12"},[a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปีงบประมาณ :")]),t._v(" "),a("div",{staticClass:"input-group "},[a("el-input",{attrs:{value:t.modalCreateInput.pp04.period_year_thai,size:"large",readonly:!0}})],1)]),t._v(" "),a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปักษ์ปัจจุบันที่ :")]),t._v(" "),a("div",{},[a("el-input",{attrs:{value:t.modalCreateInput.pp04.current_biweekly,size:"large",readonly:!0}})],1)]),t._v(" "),a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปรับครั้งที่ :")]),t._v(" "),a("div",{},[a("el-input",{attrs:{value:t.modalCreateInput.pp04.adjust_no,size:"large",readonly:!0}})],1)]),t._v(" "),a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ประจำเดือน :")]),t._v(" "),a("div",{},[a("el-input",{attrs:{value:t.modalCreateInput.pp04.thai_month,size:"large",readonly:!0}})],1)])]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.html)}})]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-white",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{class:t.btnTrans.create.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submit()}}},[a("i",{class:t.btnTrans.create.icon}),t._v("\n                        "+t._s(t.btnTrans.create.text)+"\n                    ")])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("ปรับแผนประมาณการผลิต")]),t._v(" "),a("small",{staticClass:"font-bold"},[t._v("\n                         \n                    ")])])}],!1,null,null,null).exports;function o(t,e,a,s,n,r,i){try{var l=t[r](i),c=l.value}catch(t){return void a(t)}l.done?e(c):Promise.resolve(c).then(s,n)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function i(t){o(r,s,n,i,l,"next",t)}function l(t){o(r,s,n,i,l,"throw",t)}i(void 0)}))}}var u,_;const v={props:["budgetYears","monthList","pBiweekly","search","productTypes","btnTrans","url"],data:function(){return{budget_year:this.search?this.search.budget_year:"",biweekly:this.search?String(this.search.biweekly):"",month:"",status:"Active",statusLists:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],biWeeklyLists:[],loading:!1,b_loading:!1,html:""}},mounted:function(){this.budget_year&&this.getBiWeekly()},computed:{},watch:{errors:{handler:function(t){t.budget_year?this.setError("budget_year"):this.resetError("budget_year"),t.biweekly?this.setError("biweekly"):this.resetError("biweekly")},deep:!0},budget_year:(_=d(n().mark((function t(e,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.month="";case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return _.apply(this,arguments)}),month:(u=d(n().mark((function t(e,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.biweekly="";case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},methods:{openModal:function(){$("#modal_search").modal("show")},searchForm:function(){var t=this;return d(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t).loading=!0,e.next=4,axios.get(a.url.ajax_adjusts_search,{params:{budget_year:a.budget_year,biweekly:a.biweekly,thai_month:a.month}}).then((function(t){a.html=t.data.data.html})).catch((function(t){a.html="";var e=t.response.data;alert(e.message)})).then((function(){a.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},getBiWeekly:function(){var t=this;this.search||(this.biweekly="",this.month="",this.times=""),this.biWeeklyLists=this.pBiweekly.filter((function(e){return e.thai_year.indexOf(t.budget_year)>-1}))}}};function m(t,e,a,s,n,r,i){try{var l=t[r](i),c=l.value}catch(t){return void a(t)}l.done?e(c):Promise.resolve(c).then(s,n)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function i(t){m(r,s,n,i,l,"next",t)}function l(t){m(r,s,n,i,l,"throw",t)}i(void 0)}))}}const h={props:["adjustData","btnTrans","canEdit","url"],data:function(){return{statusLists:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],oldNote:this.adjustData?this.adjustData.note:"",note:this.adjustData?this.adjustData.note:"",loading:!1}},methods:{updateNoteForm:function(){var t=this;return p(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,swal({title:"อัพเดทหมายเหตุ",text:"ยืนยันอัพเดทหมายเหตุ ?",html:!0,showCancelButton:!0,confirmButtonText:a.btnTrans.ok.text,cancelButtonText:a.btnTrans.cancel.text,confirmButtonClass:a.btnTrans.ok.class+" btn-lg tw-w-25",cancelButtonClass:a.btnTrans.cancel.class+" btn-lg tw-w-25",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(){var t=p(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&a.update();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},update:function(){var t=this;return p(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,(a=t).loading=!0,e.next=5,axios.patch(a.url.ajax_update_note).then((function(t){"S"==t.data.data.status&&(!0,swal({title:"อัพเดทหมายเหตุ",text:'<span style="font-size: 16px; text-align: left;"> อัพเดทหมายเหตุเรียบร้อย </span>',type:"success",html:!0}),a.oldNote=a.note),"S"!=t.data.data.status&&swal({title:"Error !",text:t.data.data.msg,type:"error",showConfirmButton:!0})})).catch((function(t){var e=t.response.data;alert(e.message)})).then((function(){a.loading=!1}));case 5:case"end":return e.stop()}}),e)})))()}},watch:{},computed:{showSaveNote:function(){return this.note!=this.oldNote}}};function f(t,e,a,s,n,r,i){try{var l=t[r](i),c=l.value}catch(t){return void a(t)}l.done?e(c):Promise.resolve(c).then(s,n)}const b={props:["pHeader","inventoryItemId","url"],computed:{},watch:{},data:function(){return{itemId:null!=this.inventoryItemId&&""!=this.inventoryItemId?parseInt(this.inventoryItemId):"",loading:!1,items:[]}},mounted:function(){console.log("Component mounted."),""!==this.itemId?this.getItems({inventory_item_id:this.itemId,header:this.pHeader}):this.items=[]},methods:{itemWasSelected:function(t){var e,a=this;return(e=n().mark((function e(){var s,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=(s=a).items.filter((function(e){return e.inventory_item_id==t}))).length&&(r=r[0]),s.$emit("itemWasSelected",r);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,n){var r=e.apply(t,a);function i(t){f(r,s,n,i,l,"next",t)}function l(t){f(r,s,n,i,l,"throw",t)}i(void 0)}))})()},remoteMethod:function(t){""!==t?this.getItems({number:t,header:this.pHeader}):this.items=[]},getItems:function(t){var e=this;e.loading=!0,axios.get(e.url.ajax_get_item,{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.items=a.items}))}}};function g(t,e,a,s,n,r,i){try{var l=t[r](i),c=l.value}catch(t){return void a(t)}l.done?e(c):Promise.resolve(c).then(s,n)}function y(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function i(t){g(r,s,n,i,l,"next",t)}function l(t){g(r,s,n,i,l,"throw",t)}i(void 0)}))}}var x,w,C;const k={components:{ModalCreate:c,ModalSearch:(0,l.Z)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("button",{class:t.btnTrans.search.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:t.openModal}},[a("i",{class:t.btnTrans.search.icon}),t._v("\n        "+t._s(t.btnTrans.search.text)+"\n    ")]),t._v(" "),a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_search",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",staticStyle:{width:"90%","max-width":"950px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body text-left"},[a("div",{staticClass:"row col-12"},[a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปีงบประมาณ :")]),t._v(" "),a("div",{staticClass:"input-group "},[a("input",{attrs:{type:"hidden",name:"search[budget_year]"},domProps:{value:t.budget_year}}),t._v(" "),a("el-select",{attrs:{size:"large",placeholder:"ปีงบประมาณ",clearable:"",filterable:""},model:{value:t.budget_year,callback:function(e){t.budget_year=e},expression:"budget_year"}},t._l(t.budgetYears,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1),t._v(" "),a("div",{staticClass:"error_msg text-left",attrs:{id:"el_explode_budget_year"}})],1)]),t._v(" "),a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" เดือน :")]),t._v(" "),a("div",{staticClass:"input-group "},[a("input",{attrs:{type:"hidden"},domProps:{value:t.month}}),t._v(" "),a("el-select",{attrs:{size:"large",placeholder:"เดือน",clearable:"",filterable:""},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}},t._l(t.monthList[t.budget_year],(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),t._v(" "),a("div",{staticClass:"error_msg text-left",attrs:{id:"el_explode_month"}})],1)]),t._v(" "),a("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[a("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปักษ์ที่ :")]),t._v(" "),a("div",{},[a("input",{attrs:{type:"hidden",name:"search[bi_weekly]"},domProps:{value:t.biweekly}}),t._v(" "),""!=t.budget_year&&""!=t.month?a("el-select",{attrs:{clearable:"",size:"large",placeholder:"ปักษ์"},model:{value:t.biweekly,callback:function(e){t.biweekly=e},expression:"biweekly"}},t._l(t.monthList[t.budget_year][t.month],(function(t,e){return a("el-option",{key:e,attrs:{label:t.biweekly,value:t.biweekly}})})),1):a("el-select",{attrs:{disabled:"",clearable:"",size:"large",placeholder:"ปักษ์",filterable:""},model:{value:t.biweekly,callback:function(e){t.biweekly=e},expression:"biweekly"}},[a("el-option",{key:"",attrs:{label:"",value:""}})],1),t._v(" "),a("div",{staticClass:"error_msg text-left",attrs:{id:"el_explode_bi_weekly"}})],1)]),t._v(" "),a("div",{staticClass:"form-group text-right  pr-2 mb-0 col-lg-2 col-md-10 col-sm-12 col-xs-12"},[a("label",{staticClass:" tw-font-bold tw-uppercase mt-2"},[t._v(" ")]),t._v(" "),a("div",{staticClass:"text-left"},[a("button",{class:t.btnTrans.search.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:t.searchForm}},[a("i",{class:t.btnTrans.search.icon}),t._v("\n                                    "+t._s(t.btnTrans.search.text)+"\n                                ")])])])]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.html)}})]),t._v(" "),t._m(1)])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("ค้นหาแผนประมาณการผลิต")]),t._v(" "),a("small",{staticClass:"font-bold"},[t._v("\n                         \n                    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-white",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],!1,null,null,null).exports,HeaderDetail:(0,l.Z)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("form",{attrs:{id:"production-plan-form",action:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 b-r"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("dl",{staticClass:"row mb-0"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.pp_bi_weekly.period_year_thai)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(1),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.current_biweekly)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(2),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.version_no)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(3),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.pt_biweekly.pp_month)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(4),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.pp_bi_weekly.thai_combine_date)+"\n                                    ")]):t._e()])])]),t._v(" "),t._m(5)]),t._v(" "),a("div",{staticClass:"col-lg-6",attrs:{id:"cluster_info"}},[a("dl",{staticClass:"row mb-0"},[t._m(6),t._v(" "),a("div",{staticClass:"col-sm-9 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.adjust_no)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(7),t._v(" "),a("div",{staticClass:"col-sm-9 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[a("el-input",{staticClass:"required",attrs:{disabled:!t.canEdit,type:"textarea",name:"note",rows:"4",maxlength:"240","show-word-limit":""},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),t._v(" "),a("transition",{attrs:{"enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[t.showSaveNote?a("div",{staticClass:"text-right mt-2"},[a("button",{class:t.btnTrans.save.class+" btn-sm tw-w-25",attrs:{type:"button"},on:{click:t.updateNoteForm}},[a("i",{class:t.btnTrans.save.icon}),t._v("\n                                                    "+t._s(t.btnTrans.save.text)+"\n                                                ")]),t._v(" "),a("button",{class:t.btnTrans.cancel.class+" btn-sm tw-w-25",attrs:{type:"button"},on:{click:function(e){t.note=t.oldNote}}},[a("i",{class:t.btnTrans.cancel.icon}),t._v("\n                                                    "+t._s(t.btnTrans.cancel.text)+"\n                                                ")])]):t._e()])],1):t._e()])])])])])]),t._v(" "),a("div",{staticClass:"col-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("dl",{staticClass:"row mb-0"},[t._m(8),t._v(" "),a("div",{staticClass:"col-sm-6 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.creation_date_format)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(9),t._v(" "),a("div",{staticClass:"col-sm-6 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.last_update_date_format)+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(10),t._v(" "),a("div",{staticClass:"col-sm-6 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[a("span",{domProps:{innerHTML:t._s(t.adjustData.status_lable_html)}})]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(11),t._v(" "),a("div",{staticClass:"col-sm-6 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.updated_by?t.adjustData.updated_by.name:"-")+"\n                                    ")]):t._e()])])]),t._v(" "),a("dl",{staticClass:"row mb-0"},[t._m(12),t._v(" "),a("div",{staticClass:"col-sm-6 text-sm-left"},[a("dd",{staticClass:"mb-1"},[t.adjustData?a("div",[t._v("\n                                        "+t._s(t.adjustData.approved_at_format)+"\n                                    ")]):t._e()])])])])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-4 pl-0 text-sm-right"},[a("dt",[t._v("ปีงบประมาณ:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-4 pl-0 text-sm-right"},[a("dt",[t._v("ปักษ์ที่:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-4 pl-0 text-sm-right"},[a("dt",[t._v("ครั้งที่:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-4 pl-0 text-sm-right"},[a("dt",[t._v("ประจำเดือน:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-4 pl-0 text-sm-right"},[a("dt",[t._v("ประจำวันที่:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dl",{staticClass:"row mb-0"},[a("div",{staticClass:"col-sm-4 pl-0 text-sm-right"},[a("dt",[t._v("ส่งข้อมูลครั้งที่:")])]),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("dd",{staticClass:"mb-1 text-danger"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-3  pl-0 text-sm-right"},[a("dt",[t._v("\n                                    ปรับครังที่:\n                                ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-3  pl-0 text-sm-right"},[a("dt",[t._v("\n                                    หมายเหตุ:\n                                ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 text-sm-right"},[a("dt",[t._v("วันที่สร้าง:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 text-sm-right"},[a("dt",{attrs:{title:""}},[t._v("วันที่แก้ไขล่าสุด:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 text-sm-right"},[a("dt",[t._v("สถานะ:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 text-sm-right"},[a("dt",[t._v("ผู้บันทึก:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 text-sm-right"},[a("dt",[t._v("วันที่อนุมัติ:")])])}],!1,null,null,null).exports,SearchItem:(0,l.Z)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{attrs:{filterable:"",remote:"",placeholder:"รหัสวัตถุดิบ","remote-method":t.remoteMethod,loading:t.loading},on:{change:t.itemWasSelected},model:{value:t.itemId,callback:function(e){t.itemId=e},expression:"itemId"}},t._l(t.items,(function(t,e){return a("el-option",{key:parseInt(t.inventory_item_id),attrs:{label:t.display,value:parseInt(t.inventory_item_id)}})})),1)],1)}),[],!1,null,null,null).exports},props:["adjustData","modalCreateInput","modalSearchInput","colorCode","tabs","pDateFormat","productTypes","ppBiWeekly","workingHour","omBiweeklyList","calTypes","calTypeDefault","btnTrans","url"],data:function(){return{loading2:!1,loading:{},defaultInput:null!=this.pDefaultInput&&""!=this.pDefaultInput?this.pDefaultInput:null,selTabName:String(Object.keys(this.tabs)[0]),clickSelTabName:"tab1",productType:String(Object.keys(this.tabs)[0]),canEdit:!1,canApprove:!1,adjBiweeklyData:{},adjSummaryData:{},adjKkTableHtml:{},tab1Html:"",modalTotalWorking:{title:"รายละเอียดชั่วโมงการทำงาน",btn_name:"รายละเอียดการทำงาน"},showData:!1,changeData:{},addLineData:{}}},mounted:function(){var t=this;return y(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=t.adjustData&&""!=t.adjustData&&(t.canEdit="INACTIVE"==t.adjustData.approved_status.toUpperCase(),t.canApprove="INACTIVE"==t.adjustData.approved_status.toUpperCase()),a=t,Object.keys(a.tabs).forEach(function(){var t=y(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.$set(a.loading,e,!1),a.$set(a.adjBiweeklyData,e,!1),a.$set(a.adjSummaryData,e,[]),a.$set(a.adjKkTableHtml,e,"");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.getAdjData();case 4:case"end":return e.stop()}}),e)})))()},computed:{},watch:{selTabName:(C=y(n().mark((function t(e,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showData=!1,this.getAdjData();case 2:case"end":return t.stop()}}),t,this)}))),function(t,e){return C.apply(this,arguments)}),clickSelTabName:(w=y(n().mark((function t(e,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showData=!1,this.getAdjData();case 2:case"end":return t.stop()}}),t,this)}))),function(t,e){return w.apply(this,arguments)}),productType:(x=y(n().mark((function t(e,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showData=!1,this.getAdjData();case 2:case"end":return t.stop()}}),t,this)}))),function(t,e){return x.apply(this,arguments)})},methods:{addLine:function(){var t=this;return y(n().mark((function e(){var a,s,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,s=JSON.parse(JSON.stringify(a.adjBiweeklyData[a.productType][a.adjustData.current_biweekly])),r=Object.keys(s).length,(s=s[Object.keys(s)[0]]).is_new_line=!0,s.stamp_desc="",s.item_id="",s.item_code="",s.item_description="",s.curr_onhnad_qty="",s.def_planning_qty="",s.def_bal_sale_day="",s.def_forcast_qty="",s.def_bal_onhand_qty="",s.def_ending_sale_day="",s.bal_sale_day="",s.forcast_qty="",s.bal_onhand_qty="",s.ending_sale_day="",t.$set(a.adjBiweeklyData[a.productType][a.adjustData.current_biweekly],"new-"+r,s),t.remoteMethod(" ",a.adjBiweeklyData[a.productType][a.adjustData.current_biweekly]["new-"+r]);case 21:case"end":return e.stop()}}),e)})))()},changeInput:function(t){var e=this;return y(n().mark((function a(){var s;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Object.keys(e.changeData).length,(s=JSON.parse(JSON.stringify(t))).value=s.planning_qty,e.$set(e.changeData,"case3-"+s.item_id,s),console.log("changeInput",s.planning_qty,t.planning_qty),console.log("changeInput",e.changeData["case3-"+s.item_id].value);case 6:case"end":return a.stop()}}),a)})))()},getAdjData:function(){var t=arguments,e=this;return y(n().mark((function a(){var s,r,i;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.length>0&&void 0!==t[0]&&t[0],r=e,s){a.next=7;break}if(null!=r.productType&&""!=r.productType&&0!=Object.keys(r.tabs).length){a.next=5;break}return a.abrupt("return");case 5:if(r.adjustData&&r.productType&&!r.loading[r.productType]){a.next=7;break}return a.abrupt("return");case 7:return r.changeData={},r.addLineData={},r.loading2=!0,r.loading[r.productType]=!0,r.adjBiweeklyData[r.productType]=!1,r.adjKkTableHtml[r.productType]="",r.adjSummaryData[r.productType]=[],i={product_main_id:r.adjustData.product_main_id,product_type:r.productType},a.next=17,axios.get(r.url.ajax_get_adj_data,{params:i}).then((function(t){var e=t.data.data;r.adjBiweeklyData[r.productType]=e.adj_biweekly,r.adjKkTableHtml[r.productType]=e.adj_kk_table_html,r.adjSummaryData[r.productType]=e.adj_summary,r.tab1Html=e.tab1_html,r.showData=!0})).catch((function(t){console.log("error");var e=t.response.data;alert(e.message)})).then((function(){r.loading[r.productType]=!1,r.loading2=!1}));case 17:case"end":return a.stop()}}),a)})))()},saveChangeInput:function(){var t=this;return y(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t).canEdit){e.next=3;break}return e.abrupt("return");case 3:if(0!=Object.keys(a.changeData).length||0!=Object.keys(a.addLineData).length){e.next=6;break}return swal({title:"อัพเดทแผนการผลิต",text:'<span style="font-size: 16px; text-align: left;"> ไม่พบข้อูลการอัพเดท </span>',type:"warning",html:!0}),e.abrupt("return");case 6:swal({html:!0,title:"อัพเดทแผนการผลิต ?",text:'<h2 class="m-t-sm m-b-lg"><span style="font-size: 18px"> คุณต้องการอัพเดทแผนการผลิต ? </span></h2>',showCancelButton:!0,confirmButtonText:a.btnTrans.ok.text,cancelButtonText:a.btnTrans.cancel.text,confirmButtonClass:a.btnTrans.ok.class+" btn-lg tw-w-25",cancelButtonClass:a.btnTrans.cancel.class+" btn-lg tw-w-25",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(){var t=y(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,axios.patch(a.url.ajax_adjusts_update,{lines:a.changeData,new_lines:a.addLineData}).then((function(t){"S"==t.data.data.status&&(swal({title:"อัพเดทแผนการผลิต",text:'<span style="font-size: 16px; text-align: left;"> อัพเดทแผนการผลิตสำเร็จ </span>',type:"success",html:!0}),a.getAdjData(!0)),t.data.data.status})).catch((function(t){var e=t.response.data;alert(e.message)})).then((function(){}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})))()},selectItem:function(t){var e=this;return y(n().mark((function a(){var s,r;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=t.item_list.findIndex((function(e){return e.inventory_item_id==t.item_id})),s=t.item_list[s],t.stamp=s.stamp,t.stamp_desc=s.stamp_desc,t.item_code=s.item_code,t.item_description=s.item_description,t.organization_id=s.organization_id,t.inventory_item_id=s.inventory_item_id,console.log("selectItem",t.item_list,"xx1",s,"xx",t.item_id,t.item_code,t),Object.keys(e.addLineData).length,r=JSON.parse(JSON.stringify(t)),e.$set(e.addLineData,"add-"+r.item_id,r);case 12:case"end":return a.stop()}}),a)})))()},remoteMethod:function(t,e){var a=this;return y(n().mark((function s(){var r,i;return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:console.log("remoteMethod"),i={number:t,product_main_id:(r=a).adjustData.product_main_id,product_type:r.productType},axios.get(r.url.ajax_search_item,{params:i}).then((function(t){var a=t.data.data;e.item_list=a.item_list}));case 4:case"end":return s.stop()}}),s)})))()},delLine:function(t,e){var a=this;a.$delete(a.adjBiweeklyData[a.productType][a.adjustData.current_biweekly],e),a.$delete(a.changeData,"case3-"+t.item_id),a.$delete(a.addLineData,"add-"+t.item_id)},checkApprove:function(){var t=this;return y(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t).canApprove){e.next=3;break}return e.abrupt("return");case 3:return a.loading.approveProcess=!0,e.next=6,axios.get(a.url.ajax_check_approve).then((function(t){"S"==t.data.data.status?swal({html:!0,title:"อนุมัตปรับประมาณการผลิตประจำปักษ์",text:'<h2 class="m-t-sm m-b-lg"><span style="font-size: 18px"> คุณต้องการอนุมัตปรับประมาณการผลิตประจำปักษ์ ? </span></h2>',showCancelButton:!0,confirmButtonText:a.btnTrans.ok.text,cancelButtonText:a.btnTrans.cancel.text,confirmButtonClass:a.btnTrans.ok.class+" btn-lg tw-w-25",cancelButtonClass:a.btnTrans.cancel.class+" btn-lg tw-w-25",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(){var t=y(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&a.approve();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):swal({title:"อนุมัตปรับประมาณการผลิตประจำปักษ์",text:t.data.data.msg,html:!0,showCancelButton:!0,confirmButtonText:a.btnTrans.ok.text,cancelButtonText:a.btnTrans.cancel.text,confirmButtonClass:a.btnTrans.ok.class+" btn-lg tw-w-25",cancelButtonClass:a.btnTrans.cancel.class+" btn-lg tw-w-25",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(){var t=y(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(console.log("Approve"),a.approve());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).catch((function(t){var e=t.response.data;alert(e.message)})).then((function(){a.loading.approveProcess=!1}));case 6:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;return y(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,axios.patch(a.url.ajax_approve).then((function(t){"S"==t.data.data.status&&(swal({title:"อนุมัตปรับประมาณการผลิตประจำปักษ์",text:'<span style="font-size: 16px; text-align: left;"> อนุมัตปรับประมาณการผลิตประจำปักษ์เรียบร้อย </span>',type:"success",html:!0}),a.tab2AvgChangeData={},"tab2"==a.productType&&(a.refreshTab2=a.refreshTab2+1),a.canEdit=!1,a.canApprove=!1,a.adjustData=t.data.data.prod_biweekly_main),"S"!=t.data.data.status&&swal({title:"Error !",text:t.data.data.msg,type:"error",showConfirmButton:!0})})).catch((function(t){var e=t.response.data;alert(e.message)})).then((function(){}));case 3:case"end":return e.stop()}}),e)})))()}}};const T=(0,l.Z)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.approveProcess,expression:"loading.approveProcess"}]},[a("div",{staticClass:"ibox float-e-margins mb-2"},[a("div",{staticClass:"col-12 text-right mt-1"},[a("modal-search",{attrs:{btnTrans:t.btnTrans,url:t.url,budgetYears:t.modalSearchInput.budget_years,monthList:t.modalSearchInput.month_list,canEdit:t.canEdit,search:[]}}),t._v(" "),a("modal-create",{staticClass:"pr-2",attrs:{btnTrans:t.btnTrans,url:t.url,modalCreateInput:t.modalCreateInput}}),t._v(" "),t.canEdit?a("button",{class:t.btnTrans.save.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.saveChangeInput()}}},[a("i",{class:t.btnTrans.save.icon}),t._v("\n                "+t._s(t.btnTrans.save.text)+"\n            ")]):t._e(),t._v(" "),t.canApprove?a("button",{class:t.btnTrans.approve.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.checkApprove()}}},[a("i",{class:t.btnTrans.approve.icon}),t._v("\n                "+t._s(t.btnTrans.approve.text)+"\n            ")]):t._e(),t._v(" "),a("button",{class:t.btnTrans.print.class+" btn-lg tw-w-25",attrs:{type:"button"}},[a("i",{class:t.btnTrans.print.icon}),t._v("\n                "+t._s(t.btnTrans.print.text)+"\n            ")])],1)]),t._v(" "),a("div",{staticClass:"card border-primary mb-3 mt-3"},[a("div",{staticClass:"card-body"},[a("header-detail",{attrs:{url:t.url,canEdit:t.canEdit,btnTrans:t.btnTrans,adjustData:t.adjustData}}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 b-r"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("dl",{staticClass:"row mb-0 mt-3"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-8 text-sm-left"},[a("div",[a("el-radio-group",{attrs:{size:"small"},model:{value:t.productType,callback:function(e){t.productType=e},expression:"productType"}},[t._l(t.productTypes,(function(e,s){return[a("el-radio",{staticClass:"mr-1 mb-1",attrs:{label:e.lookup_code,border:""}},[t._v("\n                                                "+t._s(e.meaning)+"\n                                            ")])]}))],2)],1)])])])])])])],1)]),t._v(" "),a("div",{staticClass:"tabs-container mb-3"},[a("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[a("li",[a("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#tab1"},on:{click:function(e){t.clickSelTabName="tab1"}}},[t._v("\n                    ประมาณกำลังการผลิต\n                ")])]),t._v(" "),a("li",[a("a",{staticClass:"nav-link ",attrs:{"data-toggle":"tab",href:"#tab2"},on:{click:function(e){t.clickSelTabName="tab2"}}},[t._v("\n                    ประมาณการผลิตแยกรายตรา\n                ")])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],staticClass:"tab-content"},[a("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"tab1"}},[a("div",{staticClass:"panel-body "},[a("div",{domProps:{innerHTML:t._s(t.tab1Html)}})])]),t._v(" "),a("div",{staticClass:"tab-pane ",attrs:{role:"tabpanel",id:"tab2"}},[a("div",{staticClass:"panel-body "},["KK"==t.productType?a("div",{domProps:{innerHTML:t._s(t.adjKkTableHtml[t.productType])}}):a("div",{},[(t.showData,t._e()),t._v(" "),a("div",{staticClass:"hr-line-dashed"}),t._v(" "),a("div",{staticClass:"table-responsive m-t mb-3"},[t.adjBiweeklyData[t.productType]?a("table",{staticClass:"table-freeze table text-nowrap table-bordered"},[a("thead",[a("tr",[a("th",{staticClass:"align-middle text-center",attrs:{rowspan:"2"}},[t._v("ลำดับ")]),t._v(" "),t._m(1),t._v(" "),a("th",{staticClass:"align-middle text-center",attrs:{rowspan:"2"}},[t._v("ตราบุหรี่")]),t._v(" "),t._l(t.adjBiweeklyData[t.productType],(function(e,s,n){return[a("th",{staticClass:"text-center text-white",style:"background-color: "+t.colorCode.biweekly[n],attrs:{colspan:"7"}},[t._v("\n                                            ปักษ์ที่ "+t._s(s)+"\n                                        ")])]})),t._v(" "),t._l(t.adjBiweeklyData[t.productType],(function(e,s,n){return[a("th",{staticClass:"text-center text-white",style:"background-color: "+t.colorCode.adj_biweekly[n],attrs:{colspan:"6"}},[t._v("\n                                            ปักษ์ที่ "+t._s(s)+" (ปรับ)\n                                        ")])]}))],2),t._v(" "),a("tr",[a("th",{staticClass:"align-middle text-center"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.adjustData.as_of_date_format,placement:"top"}},[a("div",[t._v("คงคลังปัจจุบัน"),a("br"),t._v("(ล้านมวน)")])])],1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13)])]),t._v(" "),a("tbody",[t._l(t.adjBiweeklyData[t.productType][Object.keys(t.adjBiweeklyData[t.productType])[0]],(function(e,s,n){return[a("tr",[a("td",{staticClass:"text-center"},[t._v(t._s(n+=1))]),t._v(" "),a("td",[e.is_new_line?[a("div",{staticStyle:{display:"flex"}},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:"","remote-method":function(a){return t.remoteMethod(a,e)},disabled:!1},on:{change:function(a){return t.selectItem(e)}},model:{value:e.item_id,callback:function(a){t.$set(e,"item_id",a)},expression:"item.item_id"}},t._l(e.item_list,(function(t,e){return a("el-option",{key:t.inventory_item_id,attrs:{label:t.item_code+": "+t.item_description,value:String(t.inventory_item_id)}})})),1),t._v(" "),a("button",{staticClass:"btn btn-outline btn-danger ml-2",attrs:{type:"button",title:"ลบรายการ"},on:{click:function(a){return a.preventDefault(),t.delLine(e,s)}}},[a("i",{class:t.btnTrans.delete.icon})])],1)]:[t._v("\n                                                "+t._s(e.item_code)+"\n                                            ")]],2),t._v(" "),a("td",[t._v(t._s(e.item_description))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.curr_onhnad_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right "},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.dff_actual_forecast_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.def_planning_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number2Digit")(e.def_bal_sale_day))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.def_forcast_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.def_bal_onhand_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number2Digit")(e.def_ending_sale_day))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.actual_forecase_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.planning_qty))+"\n                                            ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number2Digit")(e.bal_sale_day))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.forcast_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number3Digit")(e.bal_onhand_qty))+"\n                                        ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                            "+t._s(t._f("number2Digit")(e.ending_sale_day))+"\n                                        ")]),t._v(" "),t._l(t.adjBiweeklyData[t.productType],(function(e){return t._e()})),t._v(" "),t._l(t.adjBiweeklyData[t.productType],(function(e){return t._e()}))],2)]})),t._v(" "),a("tr",[a("th",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("รวม")]),t._v(" "),t._l(t.adjBiweeklyData[t.productType],(function(e,s){return[a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].curr_onhnad_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].dff_actual_forecast_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].def_planning_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].def_bal_sale_days)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].def_forcast_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].def_bal_onhand_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].def_ending_sale_day)+"\n                                        ")])]})),t._v(" "),t._l(t.adjBiweeklyData[t.productType],(function(e,s){return[a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].actual_forecase_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].planning_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].bal_sale_days)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].forcast_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].bal_onhand_qty)+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-right text-white",staticStyle:{"background-color":"#34d399"}},[t._v("\n                                            "+t._s(t.adjSummaryData[t.productType][s].ending_sale_day)+"\n                                        ")])]}))],2)],2)]):t._e()])])])])])]),t._v(" "),t._e()])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-2 pl-0 text-sm-right"},[a("dt",[t._v("ประมาณการผลิต:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center",attrs:{rowspan:"2"}},[t._v("\n                                                      \n                                                      \n                                                      \n                                                      \n                                        "),a("br"),t._v("รหัสบุหรี่"),a("br"),t._v("\n                                                      \n                                                      \n                                                      \n                                                      \n                                    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("เฉลี่ยขายย้อนหลัง"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการผลิต"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("เหลือวันขาย"),a("br"),t._v("(วัน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการขาย"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("คงคลังสิ้นปักษ์"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("จำนวนวันพอจำหน่าย"),a("br"),t._v("(วัน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("เฉลี่ยขายย้อนหลัง"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการผลิต"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("เหลือวันขาย"),a("br"),t._v("(วัน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการขาย"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("คงคลังสิ้นปักษ์"),a("br"),t._v("(ล้านมวน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center"},[t._v("จำนวนวันพอจำหน่าย"),a("br"),t._v("(วัน)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"align-middle text-center",attrs:{rowspan:"2"}},[t._v("\n                                                      \n                                                      \n                                                      \n                                                      \n                                        "),a("br"),t._v("รหัสบุหรี่"),a("br"),t._v("\n                                                      \n                                                      \n                                                      \n                                                      \n                                    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"align-middle text-center"},[t._v("คงคลังปัจจุบัน"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("เฉลี่ยขายย้อนหลัง"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการผลิต"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("เหลือวันขาย"),a("br"),t._v("(วัน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการขาย"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("คงคลังสิ้นปักษ์"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("จำนวนวันพอจำหน่าย"),a("br"),t._v("(วัน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการผลิต"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("เหลือวันขาย"),a("br"),t._v("(วัน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("ประมาณการขาย"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("คงคลังสิ้นปักษ์"),a("br"),t._v("(ล้านมวน)")]),t._v(" "),a("th",{staticClass:"align-middle text-center"},[t._v("จำนวนวันพอจำหน่าย"),a("br"),t._v("(วัน)")])])}],!1,null,null,null).exports},51900:(t,e,a)=>{"use strict";function s(t,e,a,s,n,r,i,l){var c,o="function"==typeof t?t.options:t;if(e&&(o.render=e,o.staticRenderFns=a,o._compiled=!0),s&&(o.functional=!0),r&&(o._scopeId="data-v-"+r),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},o._ssrRegister=c):n&&(c=l?function(){n.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(o.functional){o._injectStyles=c;var d=o.render;o.render=function(t,e){return c.call(e),d(t,e)}}else{var u=o.beforeCreate;o.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:o}}a.d(e,{Z:()=>s})}}]);