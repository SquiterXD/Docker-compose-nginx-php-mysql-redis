(self.webpackChunk=self.webpackChunk||[]).push([[8761],{89008:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(23645),n=a.n(s)()((function(e){return e[1]}));n.push([e.id,"td[data-v-9a804db2],th[data-v-9a804db2]{padding:.25rem}th[data-v-9a804db2]{background:#fff;position:-webkit-sticky;position:sticky;top:0}",""]);const i=n},22385:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s={name:"ir-components-dropdown-active-flag",data:function(){return{result:this.value,rows:[{label:"Active",value:"Y"},{label:"Inactive",value:"N"}]}},props:["value","placeholder","name","disabled","size","popperBody"],methods:{onchange:function(e){this.$emit("change-dropdown",e)}},watch:{value:function(e,t){this.result=e}}};const n=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,clearable:!0,disabled:e.disabled,size:e.size,"popper-append-to-body":e.popperBody},on:{change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)}),[],!1,null,null,null).exports},22377:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s={name:"ir-components-dropdown-return-vat-flag",data:function(){return{result:this.value,rows:[{label:"ขอคืนภาษีได้",value:"Y"},{label:"ขอคืนภาษีไม่ได้",value:"N"}]}},props:["value","placeholder","name","disabled","size","popperBody"],methods:{onchange:function(e){this.$emit("change-dropdown",e)}},watch:{value:function(e,t){this.result=e}}};const n=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,clearable:!0,disabled:e.disabled,size:e.size,"popper-append-to-body":e.popperBody},on:{change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)}),[],!1,null,null,null).exports},68761:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var s=a(60035);const n={name:"ir-settings-vehicle-lov-vehicle-type",data:function(){return{rows:[],loading:!1,result:this.value,first:!0}},props:["value","name","placeholder","size","popperBody","disabled"],methods:{remoteMethod:function(e){this.getDataRows({keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/vehicles-type",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.result||this.getDataRows({keyword:""})},onchange:function(e){var t={code:"",desc:"",id:""};if(e){for(var a in this.rows){var s=this.rows[a];s.vehicle_type_code==e&&(t.code=s.vehicle_type_code,t.desc=s.vehicle_type_name,t.id="")}this.result=e,this.getDataRows({keyword:""})}else t.code="",t.desc="",t.id="",this.result=e;this.$emit("change-lov",t)},onclick:function(){0===this.rows.length&&this.getDataRows({keyword:""})},onblur:function(){var e=this;this.rows.filter((function(t){t.vehicle_type_code!=e.result&&(e.result="")}))}},mounted:function(){this.getDataRows({keyword:""})},watch:{value:function(e,t){this.result=e,this.first&&(this.getDataRows({keyword:""}),this.first=!1)},result:function(e,t){if(!e){var a={code:e,desc:"",id:""};this.$emit("change-lov",a)}}}};var i=a(51900);const l=(0,i.Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange,focus:e.onfocus,blur:e.onblur},nativeOn:{click:function(t){return e.onclick()}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.vehicle_type_name,value:e.vehicle_type_code}})})),1)],1)}),[],!1,null,null,null).exports;var r=a(99075),c=a(22377),o=a(22385),d=a(87757),u=a.n(d);function h(e,t,a,s,n,i,l){try{var r=e[i](l),c=r.value}catch(e){return void a(e)}r.done?t(c):Promise.resolve(c).then(s,n)}function p(e){return function(){var t=this,a=arguments;return new Promise((function(s,n){var i=e.apply(t,a);function l(e){h(i,s,n,l,r,"next",e)}function r(e){h(i,s,n,l,r,"throw",e)}l(void 0)}))}}var v;const _={props:["setName","setData","placeholder"],data:function(){return{options:[],value:"",loading:!1}},mounted:function(){this.value=this.setData,this.getValueSetList(this.value),this.changeInput()},watch:{setData:function(){this.value=this.setData,this.getValueSetList(this.value),this.options=this.setOptions},setOptions:(v=p(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.options=t;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},methods:{getValueSetList:function(e){var t=this;return p(u().mark((function a(){return u().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,axios.get("/ir/ajax/vehicles/getlookupData",{params:{flex_value_set_name:t.setName,flex_value_set_data:t.value,query:e}}).then((function(e){t.options=e.data,t.changeInput()})).catch((function(e){console.log(e)})).then((function(){t.loading=!1}));case 3:case"end":return a.stop()}}),a)})))()},changeInput:function(){var e=this,t="",a="";this.options.find((function(s){s.meaning==e.value&&(t=s.meaning,a=s.description)})),this.$emit("getLocation",{name:this.setName,value:this.value,value_code:t,value_name:a})}}};const f=(0,i.Z)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:e.placeholder,"remote-method":e.getValueSetList,loading:e.loading,size:"large"},on:{change:e.changeInput},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+" : "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports,g={name:"ir-settings-vehicle-search",data:function(){return{license_plates:[],loading:!1,create:{license_plate:"",policy_set_header_id:"",group_code:"",vehicle_type_code:"",vehicle_brand_code:"",vehicle_cc:"",engine_number:"",tank_number:"",return_vat_flag:!0,vat_percent:"",revenue_stamp_percent:"",insurance_type_code:"",asset_number:"",account_id:"",account_description:"",active_flag:!0,vehicle_id:""}}},props:["search","btnTrans"],methods:{clickSearch:function(){this.$emit("click-search",this.search)},clickCancel:function(){this.search.license_plate="",this.search.vehicle_type_code="",this.search.insurance_type_code="",this.search.return_vat_flag="",this.search.active_flag="",this.search.location_code="",window.location.href="/ir/settings/vehicle"},remoteMethod:function(e){this.getDataRows({license_plate:e})},focus:function(){this.getDataRows({license_plate:""})},change:function(e){this.$emit("change-lov",e)},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/license-plate",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.license_plates=a.data})).catch((function(e){swal("Error",e,"error")}))},getDataVehicleType:function(e){this.search.vehicle_type_code=e},getValueVehicleType:function(e){this.search.vehicle_type_code=e.code},getValueInsuranceType:function(e){this.search.insurance_type_code=e.code},getValueReturnVatFlag:function(e){this.search.return_vat_flag=e},getValueActiveFlag:function(e){this.search.active_flag=e},getLocation:function(e){this.search.location_code=e.value_code}},components:{lovSearch:s.Z,lovVehicleType:l,dropdownReturnVatFlag:c.Z,dropdownActiveFlag:o.Z,lovInsuranceType:r.Z,LocationInputValue:f},mounted:function(){this.getDataRows({license_plate:""})}};const m=(0,i.Z)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-2 col-sm-2 padding_12 el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:"ระบุทะเบียนรถ","remote-method":e.remoteMethod,loading:e.loading,clearable:!0},on:{change:e.change,focus:e.focus},model:{value:e.search.license_plate,callback:function(t){e.$set(e.search,"license_plate",t)},expression:"search.license_plate"}},e._l(e.license_plates,(function(e,t){return a("el-option",{key:t,attrs:{label:e.license_plate,value:e.license_plate}})})),1)],1),e._v(" "),a("div",{staticClass:"col-lg-2 col-sm-2 padding_12"},[a("lov-vehicle-type",{attrs:{name:"vehicle_type_code",placeholder:"ระบุประเภทรถ",size:"",popperBody:!0,disabled:!1},on:{"change-lov":e.getValueVehicleType},model:{value:e.search.vehicle_type_code,callback:function(t){e.$set(e.search,"vehicle_type_code",t)},expression:"search.vehicle_type_code"}})],1),e._v(" "),a("div",{staticClass:"col-lg-2 col-sm-2 padding_12 "},[a("lov-insurance-type",{attrs:{name:"insurance_type_code",placeholder:"ระบุประเภทประกันภัย",size:"",popperBody:!0,disabled:!1},on:{"change-lov":e.getValueInsuranceType},model:{value:e.search.insurance_type_code,callback:function(t){e.$set(e.search,"insurance_type_code",t)},expression:"search.insurance_type_code"}})],1),e._v(" "),a("div",{staticClass:"col-lg-2 col-sm-2 padding_12 el_field"},[a("location-input-value",{attrs:{"set-name":"FA_LOCATION","set-data":e.search.location_code,placeholder:"รหัสสถานที่"},on:{getLocation:e.getLocation}})],1),e._v(" "),a("div",{staticClass:"col-lg-2 col-sm-2 padding_12 el_field"},[a("dropdown-return-vat-flag",{attrs:{placeholder:"ขอคืนภาษี",name:"return_vat_flag",disabled:!1,size:"",popperBody:!0},on:{"change-dropdown":e.getValueReturnVatFlag},model:{value:e.search.return_vat_flag,callback:function(t){e.$set(e.search,"return_vat_flag",t)},expression:"search.return_vat_flag"}})],1),e._v(" "),a("div",{staticClass:"col-lg-2 col-sm-2 padding_12 el_field"},[a("dropdown-active-flag",{attrs:{placeholder:"Status",name:"active_flag",disabled:!1,size:"",popperBody:!0},on:{"change-dropdown":e.getValueActiveFlag},model:{value:e.search.active_flag,callback:function(t){e.$set(e.search,"active_flag",t)},expression:"search.active_flag"}})],1)]),e._v(" "),a("div",{staticClass:"row text-right mt-3"},[a("div",{staticClass:"offset-md-9 col-md-3 col-sm-12 padding_12",staticStyle:{"margin-top":"auto","margin-bottom":"auto"}},[a("button",{class:e.btnTrans.search.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickSearch()}}},[a("i",{class:e.btnTrans.search.icon}),e._v("\n        "+e._s(e.btnTrans.search.text)+"\n      ")]),e._v(" "),a("button",{class:e.btnTrans.reset.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickCancel()}}},[a("i",{class:e.btnTrans.reset.icon}),e._v("\n        "+e._s(e.btnTrans.reset.text)+"\n      ")])])])])}),[],!1,null,null,null).exports;var b=a(19),y=a(67791),w=a(30381),x=a.n(w);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const V={name:"ir-settings-vehicle-modal-soldd",data:function(){return{rules:{sold_date:[{required:!0,message:"กรุณาระบุวันขาย",trigger:"change"}]}}},props:["vars","soldd","vehicle","tableVehicleindex","tableVehicle"],methods:{clickAgree:function(){$("#modal_soldd_car").modal("hide"),this.tableVehicle[this.tableVehicleindex].active_flag=!1;var e=C(C({},this.tableVehicle[this.tableVehicleindex]),{},{return_vat_flag:this.tableVehicle[this.tableVehicleindex].return_vat_flag?"Y":"N",active_flag:this.tableVehicle[this.tableVehicleindex].active_flag?"Y":"N",sold_flag:this.tableVehicle[this.tableVehicleindex].sold_flag?"Y":"N",program_code:"IRM0007"});axios.put("/ir/ajax/vehicles/sold-flag",{data:e}).then((function(e){var t=e.data;swal({title:"Success",text:t.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})).catch((function(e){swal("Error",e,"error")}))},getValueInsuranceExpireDate:function(e){var t=this.vars.formatDate;this.tableVehicle[this.tableVehicleindex].sold_date=e?x()(e).format(t):""}}};const D=(0,i.Z)(V,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_soldd_car",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),a("el-form",{ref:"form_soldd",staticClass:"demo-dynamic form_table_line",attrs:{model:e.tableVehicle[e.tableVehicleindex],"label-width":"120px",rules:e.rules}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              วันที่ขายรถ\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"soldd_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"sold_date","p-type":"date",placeholder:"วันที่ขายรถ",value:e.tableVehicle[e.tableVehicleindex].sold_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueInsuranceExpireDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n                  เหตุผล\n              ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"reason"}},[a("el-input",{attrs:{placeholder:"เหตุผล",disabled:!1},model:{value:e.tableVehicle[e.tableVehicleindex].reason,callback:function(t){e.$set(e.tableVehicle[e.tableVehicleindex],"reason",t)},expression:"tableVehicle[tableVehicleindex].reason"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),e._v(" ตกลง\n          ")])])])],1)])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("ขายรถ")])])}],!1,null,null,null).exports;function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){N(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const P={name:"ir-settings-vehicle-table",data:function(){return{tableVehicleindex:0,vars:y.gR}},props:["isNullOrUndefined","tableVehicle","formatCurrency","btnTrans"],mounted:function(){},methods:{isCheckedReturnVatFlg:function(e){return"Y"===e},changeCheckedReturnVatFlg:function(e){var t=j(j({},e),{},{return_vat_flag:e.return_vat_flag?"Y":"N",active_flag:e.active_flag?"Y":"N",sold_flag:e.sold_flag?"Y":"N",program_code:"IRM0007"});axios.put("/ir/ajax/vehicles/return-vat-flag",{data:t}).then((function(e){var t=e.data;swal({title:"Success",text:t.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})).catch((function(e){swal("Error",e,"error")}))},clickModalSold:function(e){this.tableVehicleindex=e,this.$refs.solddd[e].click(),this.tableVehicle.active_flag=!1},getDataGroup:function(e){var t=this;axios.get("/ir/ajax/lov/group-code-policy",{params:e}).then((function(e){var a=e.data;null===a.data?(t.vehicle.group_code="",t.group_desc=""):(t.vehicle.group_code=a.data.group_code,t.group_desc=a.data.group_desc)})).catch((function(e){swal("Error",e,"error")}))},changeCheckedActive:function(e){var t=j(j({},e),{},{return_vat_flag:e.return_vat_flag?"Y":"N",active_flag:e.active_flag?"Y":"N",program_code:"IRM0007"});axios.put("/ir/ajax/vehicles/active-flag",{data:t}).then((function(e){var t=e.data;swal({title:"Success",text:t.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})).catch((function(e){swal("Error",e,"error")}))},getValueSoldCar:function(e){this.sold=e},getFormatDate:function(e){var t=this.vars.formatDate;if(e)return x()(e).format(t)}},components:{lovPolicyGroup:b.Z,ModalNoti:D}};var R=a(93379),E=a.n(R),T=a(89008),A={insert:"head",singleton:!1};E()(T.Z,A);T.Z.locals;function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const z={name:"ir-settings-vehicle-index",props:["btnTrans"],data:function(){return{search:{license_plate:"",vehicle_type_code:"",return_vat_flag:"",active_flag:"",sold_flag:""},tableVehicle:[],funcs:y.sD}},methods:{getDataSearch:function(e){this.search=e,this.getTableVehicle()},getTableVehicle:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.search);axios.get("/ir/ajax/vehicles",{params:t}).then((function(t){var a=t.data.data;for(var s in a){var n=a[s];n.return_vat_flag="Y"===n.return_vat_flag,n.active_flag="Y"===n.active_flag,n.sold_flag="Y"===n.sold_flag,n.sold_date="",n.reason=""}e.tableVehicle=a,$(document).ready((function(){$(".data_tbx").dataTable({pageLength:10,responsive:!0,dom:'<"html5buttons"B>lTfgitp',bFilter:!1,aaSorting:[],bPaginate:!0,bInfo:!1,columnDefs:[{orderable:!1,targets:12}],language:{loadingRecords:'<div class="sk-spinner sk-spinner-wave"> <div class="sk-rect1"></div> <div class="sk-rect2"></div> <div class="sk-rect3"></div> <div class="sk-rect4"></div> <div class="sk-rect5"></div> </div>'},buttons:[]})}))})).catch((function(e){swal("Error",e,"error")}))}},components:{"search-vehicle":m,"table-vehicle":(0,i.Z)(P,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-bordered data_tb",style:0===e.tableVehicle.length?"":"display: block; overflow: auto; max-height: 550px;"},[e._m(0),e._v(" "),a("tbody",e._l(e.tableVehicle,(function(t,s){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.tableVehicle.length>0,expression:"tableVehicle.length > 0"}],key:s},[a("td",{staticClass:"text-center"},[e._v(" "+e._s(s+1))]),e._v(" "),a("td",{staticClass:"text-left"},[e._v(" "+e._s(e.isNullOrUndefined(t.license_plate)))]),e._v(" "),a("td",{staticClass:"text-left"},[e._v(" \n          "+e._s(e.isNullOrUndefined(t.policy_set_number))+" "+e._s(t.policy_set_number?":":"")+" "+e._s(e.isNullOrUndefined(t.policy_set_description))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-left"},[e._v(" "+e._s(e.isNullOrUndefined(t.group_desc)))]),e._v(" "),a("td",{staticClass:"text-left"},[e._v(" "+e._s(e.isNullOrUndefined(t.vehicle_type_name)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(" "+e._s(e.isNullOrUndefined(t.vehicle_brand_name)))]),e._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.return_vat_flag,expression:"data.return_vat_flag"}],staticClass:"form-check-input",staticStyle:{position:"inherit"},attrs:{type:"checkbox",disabled:!0},domProps:{checked:Array.isArray(t.return_vat_flag)?e._i(t.return_vat_flag,null)>-1:t.return_vat_flag},on:{change:[function(a){var s=t.return_vat_flag,n=a.target,i=!!n.checked;if(Array.isArray(s)){var l=e._i(s,null);n.checked?l<0&&e.$set(t,"return_vat_flag",s.concat([null])):l>-1&&e.$set(t,"return_vat_flag",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(t,"return_vat_flag",i)},function(a){return e.changeCheckedReturnVatFlg(t)}]}})])]),e._v(" "),a("td",{staticClass:"text-center"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.vat_percent)?e.formatCurrency(t.vat_percent):e.isNullOrUndefined(t.vat_percent))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.revenue_stamp_percent)?e.formatCurrency(t.revenue_stamp_percent):e.isNullOrUndefined(t.revenue_stamp_percent))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.asset_number))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-left"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.account_number))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v("\n          "+e._s(e.getFormatDate(t.creation_date))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.active_flag,expression:"data.active_flag"}],staticClass:"form-check-input",staticStyle:{position:"inherit"},attrs:{type:"checkbox",disabled:""!=t.reason||""!=t.sold_flag},domProps:{checked:Array.isArray(t.active_flag)?e._i(t.active_flag,null)>-1:t.active_flag},on:{change:[function(a){var s=t.active_flag,n=a.target,i=!!n.checked;if(Array.isArray(s)){var l=e._i(s,null);n.checked?l<0&&e.$set(t,"active_flag",s.concat([null])):l>-1&&e.$set(t,"active_flag",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(t,"active_flag",i)},function(a){return e.changeCheckedActive(t)}]}})])]),e._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sold_flag,expression:"data.sold_flag"},{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"form-check-input",staticStyle:{position:"inherit"},attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(t.sold_flag)?e._i(t.sold_flag,null)>-1:t.sold_flag},on:{change:[function(a){var s=t.sold_flag,n=a.target,i=!!n.checked;if(Array.isArray(s)){var l=e._i(s,null);n.checked?l<0&&e.$set(t,"sold_flag",s.concat([null])):l>-1&&e.$set(t,"sold_flag",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(t,"sold_flag",i)},function(t){return e.clickModalSold(s)}]}})])]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"solddd",refInFor:!0,staticClass:"btn btn-warning",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_soldd_car"}}),e._v(" "),a("td",{staticClass:"text-center"},[a("a",{class:e.btnTrans.edit.class+" btn-sm tw-w-25",attrs:{type:"button",href:"/ir/settings/vehicle/edit/"+t.asset_id+"/"+t.vehicle_id}},[a("i",{class:e.btnTrans.edit.icon,attrs:{"aria-hidden":"true"}}),e._v(" แก้ไข\n          ")])])])})),0),e._v(" "),a("tfoot")]),e._v(" "),e.tableVehicle.length>0?a("modal-noti",{attrs:{vars:e.vars,tableVehicleindex:e.tableVehicleindex,tableVehicle:e.tableVehicle},on:{sold:e.getValueSoldCar}}):e._e()],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"70px"}},[e._v("ลำดับ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"160px"}},[e._v("ทะเบียนรถ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"160px"}},[e._v("ชุดกรมธรรม์")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[e._v("กลุ่ม")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"400px",width:"1%"}},[e._v("ประเภทรถ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"135px"}},[e._v("ยี่ห้อรถ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("ขอคืนภาษีได้")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("ภาษี (%)")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("อากร (%)")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[e._v("รหัสทรัพย์สิน")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("รหัสบัญชี")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[e._v("วันที่ดึงข้อมูล")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("Active")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("สถานะการขาย")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("Action")])])])}],!1,null,"9a804db2",null).exports},created:function(){this.getTableVehicle()}};const B=(0,i.Z)(z,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("search-vehicle",{attrs:{search:e.search,"btn-trans":e.btnTrans},on:{"click-search":e.getDataSearch}}),e._v(" "),a("table-vehicle",{attrs:{isNullOrUndefined:e.funcs.isNullOrUndefined,tableVehicle:e.tableVehicle,formatCurrency:e.funcs.formatCurrency,"btn-trans":e.btnTrans}})],1)}),[],!1,null,null,null).exports},99075:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s={name:"ir-settings-vehicle-lov-insurance-type",data:function(){return{rows:[],loading:!1,result:this.value,first:!0}},props:["value","name","placeholder","size","popperBody","disabled","data"],methods:{remoteMethod:function(e){this.getDataRows({keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/renew-type-irm0007",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.result||this.getDataRows({keyword:""})},onchange:function(e){var t={code:"",desc:"",id:""};if(e){for(var a in this.rows){var s=this.rows[a];s.lookup_code==e&&(t.code=s.lookup_code,t.desc=s.description,t.id=s.meaning)}this.result=e,this.getDataRows({keyword:t.desc})}else t.code="",t.desc="",t.id="",this.result=e;this.$emit("change-lov",t)},onclick:function(){0===this.rows.length&&this.getDataRows({keyword:this.data.insurance_type_desc})},onblur:function(){var e=this;this.rows.filter((function(t){t.lookup_code!=e.result&&(e.result="")}))}},mounted:function(){this.getDataRows({keyword:""})},watch:{value:function(e,t){this.result=e,this.first&&(this.getDataRows({keyword:this.data.insurance_type_desc}),this.first=!1)},result:function(e,t){if(!e){var a={code:e,desc:"",id:""};this.$emit("change-lov",a)}}}};const n=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange,focus:e.onfocus,blur:e.onblur},nativeOn:{click:function(t){return e.onclick()}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.lookup_code+" : "+e.description,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports},19:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s={name:"ir-settings-vehicle-lov-policy-group",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","disabled","placeholder","assetId"],methods:{remoteMethod:function(e){this.getDataRows({policy_set_header_id:"",asset_id:this.assetId,keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header?policy_set_header_id&type=30").then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},focus:function(){this.getDataRows({asset_id:this.assetId,policy_set_header_id:"",keyword:""})},change:function(e){var t={code:"",id:"",desc:""};if(e)for(var a in this.rows){var s=this.rows[a];s.policy_set_header_id===e&&(t.code=s.policy_set_number,t.id=e,t.desc=s.policy_set_description)}else t.code="",t.id="",t.desc="";this.$emit("change-lov-policy-group",t)}},mounted:function(){this.result=this.value?+this.value:this.value,this.getDataRows({asset_id:this.assetId,policy_set_header_id:this.value,keyword:""})},watch:{value:function(e,t){this.result=e?+e:e,this.getDataRows({asset_id:this.assetId,keyword:""})}}};const n=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+" : "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},60035:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s={name:"ir-settings-vehicle-lov-search",data:function(){return{rows:[],loading:!1,code:"",desc:"",result:this.value}},props:["url","value","placeholder","attrName","propCode","propDesc","propCodeDisp","propDescDisp","disabled"],computed:{setProperty:function(){var e={};return e[this.propDesc]=this.desc,e}},methods:{remoteMethod:function(e){this.code="",this.desc=e,this.getDataRows(this.setProperty)},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/".concat(this.url),{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},focus:function(){this.code="",this.desc="",this.getDataRows(this.setProperty)},change:function(e){this.$emit("change-lov",e)}},mounted:function(){this.code="",this.desc="",this.getDataRows(this.setProperty)},watch:{value:function(e,t){e&&(this.result=e)}}};const n=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.attrName,clearable:!0,disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(t,s){return a("el-option",{key:s,attrs:{label:t[e.propDescDisp],value:t[e.propCodeDisp]}})})),1)],1)}),[],!1,null,null,null).exports}}]);