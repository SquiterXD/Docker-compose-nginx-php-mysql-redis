(self.webpackChunk=self.webpackChunk||[]).push([[4908],{9487:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>n});var s=a(80455);const l={components:{VueNumeric:a.n(s)()},props:["bankLists"],data:function(){return{loading:!1,loading_option:!1,disable_params:!1,disable_pdf:!1,disable_txt:!0,customerTypeLists:[{value:"p1",label:"ร้านค้าป.1"},{value:"mt",label:"Modern Trade"}],customerLists:[],defaultDate:"",bank:"",customer_type:"",customer:"",check_date:"",start_date:"",end_date:""}},mounted:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),s=t.getDate();this.defaultDate=new Date(e+543,a,s),1==this.bankLists.length&&(this.bank=this.bankLists[0].lookup_code)},methods:{getCustomerLists:function(){var t=this;t.loading_option=!0,t.customer="",axios.get("/om/transfer-txt-to-bank/customer-list?type="+t.customer_type).then((function(e){t.customerLists=e.data})).catch((function(t){console.log(t)})).then((function(){t.loading_option=!1}))},getPDF:function(){var t=this,e="",a=!1;if(t.bank||(e+="กรุณาบัญชีธนาคาร <br>",a=!0),t.customer_type||(e+="กรุณาเลือกประเภทร้านค้า <br>",a=!0),t.check_date||(e+="กรุณาระบุวันที่เช็ค <br>",a=!0),t.start_date||(e+="กรุณาระบุวันที่เริ่ม <br>",a=!0),t.end_date||(e+="กรุณาระบุวันที่สิ้นสุด <br>",a=!0),a)return swal({html:!0,title:"กรุณาระบุข้อมูลให้ครบถ้วน",text:e,type:"error"}),!1;t.disable_txt=!1;var s="/om/transfer-txt-to-bank/pdf?bank="+t.bank+"&customer_type="+t.customer_type+"&customer_id="+t.customer+"&check_date="+t.check_date+"&start_date="+t.start_date+"&end_date="+t.end_date;window.open(s,"_blank")},getTxt:function(){var t=this,e="",a=!1;if(t.bank||(e+="กรุณาบัญชีธนาคาร <br>",a=!0),t.customer_type||(e+="กรุณาเลือกประเภทร้านค้า <br>",a=!0),t.check_date||(e+="กรุณาระบุวันที่เช็ค <br>",a=!0),t.start_date||(e+="กรุณาระบุวันที่เริ่ม <br>",a=!0),t.end_date||(e+="กรุณาระบุวันที่สิ้นสุด <br>",a=!0),a)return swal({html:!0,title:"กรุณาระบุข้อมูลให้ครบถ้วน",text:e,type:"error"}),!1;var s="/om/transfer-txt-to-bank/txt?bank="+t.bank+"&customer_type="+t.customer_type+"&customer_id="+t.customer+"&check_date="+t.check_date+"&start_date="+t.start_date+"&end_date="+t.end_date;window.open(s,"_blank")},checkdateWasSelected:function(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();this.check_date=s+"/"+a+"/"+e},startdateWasSelected:function(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();this.start_date=s+"/"+a+"/"+e},enddateWasSelected:function(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();this.end_date=s+"/"+a+"/"+e}}};const n=(0,a(51900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-3"}),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-12"},[t._m(0),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",placeholder:"Select",disabled:t.disable_params},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}},t._l(t.bankLists,(function(t){return a("el-option",{key:t.lookup_code,attrs:{label:t.meaning,value:t.lookup_code}})})),1)],1)]),t._v(" "),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-12"},[t._m(1),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",placeholder:"Select",disabled:t.disable_params},on:{input:function(e){return t.getCustomerLists()}},model:{value:t.customer_type,callback:function(e){t.customer_type=e},expression:"customer_type"}},t._l(t.customerTypeLists,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._v(" "),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("รหัสร้านค้า")]),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{clearable:"true",placeholder:"Select",filterable:"",loading:t.loading_option,disabled:t.disable_params},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}},t._l(t.customerLists,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_number+" - "+t.customer_name,value:t.customer_id}})})),1)],1)]),t._v(" "),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-12"},[t._m(2),t._v(" "),a("datepicker-th",{class:"w-100 form-control md:tw-mb-0 tw-mb-2",attrs:{disabled:t.disabledDate,type:"date",value:t.check_date,name:"check_date",format:"DD/MM/YYYY"},on:{dateWasSelected:t.checkdateWasSelected},model:{value:t.check_date,callback:function(e){t.check_date=e},expression:"check_date"}})],1)]),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6"},[t._m(3),t._v(" "),a("datepicker-th",{class:"w-100 form-control md:tw-mb-0 tw-mb-2",attrs:{disabled:t.disabledDate,type:"date",value:t.start_date,name:"start_date",format:"DD/MM/YYYY"},on:{dateWasSelected:t.startdateWasSelected},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1),t._v(" "),a("div",{staticClass:"col-md-6"},[t._m(4),t._v(" "),a("datepicker-th",{class:"w-100 form-control md:tw-mb-0 tw-mb-2",attrs:{disabled:t.disabledDate,type:"date",value:t.end_date,name:"end_date",format:"DD/MM/YYYY"},on:{dateWasSelected:t.enddateWasSelected},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("button",{staticClass:"btn btn-info mt-2 mt-md-0",attrs:{type:"button",disabled:t.disable_pdf},on:{click:function(e){return t.getPDF()}}},[t._v(" พิมพ์รายงานเพื่อตรวจสอบ")]),t._v(" "),a("button",{staticClass:"btn btn-primary mt-2 mt-md-0",attrs:{type:"button",disabled:t.disable_txt},on:{click:function(e){return t.getTxt()}}},[t._v(" Generate Text file")])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("บัญชีธนาคาร "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("ประเภทร้านค้า "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("ระบุวันที่เช็ค "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("ตั้งแต่วันที่ "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("ถึงวันที่ "),a("span",{staticClass:"text-danger"},[t._v("*")])])}],!1,null,null,null).exports}}]);