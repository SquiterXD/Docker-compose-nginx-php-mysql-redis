(self.webpackChunk=self.webpackChunk||[]).push([[4997],{84997:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>f});var r=a(87757),n=a.n(r),s=a(30381),o=a.n(s),c=a(80455);function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function m(t,e,a,r,n,s,o){try{var c=t[s](o),i=c.value}catch(t){return void a(t)}c.done?e(i):Promise.resolve(i).then(r,n)}const d={components:{VueNumeric:a.n(c)()},props:["btnTrans","formatDate","oldInput"],data:function(){return{form_search:{fromDate:"",toDate:""},validateRemarkFromDate:!1,validateRemarkToDate:!1,lineList:[],loading:!1,totalAmountAdjustGL:""}},mounted:function(){},computed:{},methods:{fromDateSelected:function(t){this.form_search.fromDate=t?o()(t).format(this.formatDate):""},toDateSelected:function(t){this.form_search.toDate=t?o()(t).format(this.formatDate):""},updateChecked:function(t){this.lineList.forEach((function(e){e.use_tax_adjustments?"Y"!=e.use_tax_adjustments.post_flag&&(e.checked=t):e.checked=t}))},getSearchData:function(){var t,e=this;return(t=n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.form_search.fromDate){t.next=13;break}if(e.validateRemarkFromDate=!1,!e.form_search.toDate){t.next=8;break}e.loading=!0,e.validateRemarkToDate=!1,axios.post("ajax/tax-adjustments-bkk/get-search",l({},e.form_search)).then((function(t){e.loading=!1,e.lineList=t.data.consignmentHeaders})),t.next=11;break;case 8:return alert("กรุณาเลือกวันที่สิ้นสุด"),e.validateRemarkToDate=!0,t.abrupt("return");case 11:t.next=16;break;case 13:return alert("กรุณาเลือกวันที่เริ่มต้น"),e.validateRemarkFromDate=!0,t.abrupt("return");case 16:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(r,n){var s=t.apply(e,a);function o(t){m(s,r,n,o,c,"next",t)}function c(t){m(s,r,n,o,c,"throw",t)}o(void 0)}))})()}}};const f=(0,a(51900).Z)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ibox"},[a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"text-right",staticStyle:{"padding-top":"15px","padding-bottom":"15px"}},[a("button",{class:t.btnTrans.search.class,attrs:{type:"submit"},on:{click:function(e){return t.getSearchData()}}},[a("i",{class:t.btnTrans.search.icon,attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.btnTrans.search.text)+"\n                ")]),t._v(" "),a("a",{staticClass:"btn btn-danger",attrs:{type:"button",href:"/om/tax-adjustments-bkk"}},[t._v("\n                    ล้างค่า\n                ")])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[t._m(0),t._v(" "),a("datepicker-th",{class:"form-control md:tw-mb-0 tw-mb-2 w-100 "+(t.validateRemarkFromDate?"is-invalid":""),attrs:{name:"fromDate",placeholder:"โปรดเลือกวันที่",format:this.formatDate},on:{dateWasSelected:t.fromDateSelected},model:{value:t.form_search.fromDate,callback:function(e){t.$set(t.form_search,"fromDate",e)},expression:"form_search.fromDate"}})],1),t._v(" "),a("div",{staticClass:"col-6"},[t._m(1),t._v(" "),a("datepicker-th",{class:"form-control md:tw-mb-0 tw-mb-2 w-100 "+(t.validateRemarkToDate?"is-invalid":""),attrs:{name:"toDate",placeholder:"โปรดเลือกวันที่",format:this.formatDate},on:{dateWasSelected:t.toDateSelected},model:{value:t.form_search.toDate,callback:function(e){t.$set(t.form_search,"toDate",e)},expression:"form_search.toDate"}})],1)]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"padding-top":"20px"}},[a("div",{staticClass:"col-6"},[t._m(2),t._v(" "),a("vue-numeric",{staticClass:"form-control text-right",attrs:{separator:",",precision:2,minus:!1,disabled:!0},model:{value:t.totalAmountAdjustGL,callback:function(e){t.totalAmountAdjustGL=e},expression:"totalAmountAdjustGL"}})],1)])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("tax-adjustments-bkk-table",{attrs:{lineList:t.lineList,btnTrans:t.btnTrans},on:{updateCheckAll:t.updateChecked}})],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"w-100 text-left"},[a("strong",[t._v(" จากวันที่ ")]),a("span",{staticStyle:{color:"red"}},[t._v(" * ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"w-100 text-left"},[a("strong",[t._v(" ถึงวันที่ ")]),a("span",{staticStyle:{color:"red"}},[t._v(" * ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"w-100 text-left"},[a("strong",[t._v(" จำนวนรวมภาษีที่ต้อง Adjust GL ")])])}],!1,null,null,null).exports}}]);