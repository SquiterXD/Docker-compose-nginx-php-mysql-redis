(self.webpackChunk=self.webpackChunk||[]).push([[1562],{91562:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>c});var a=s(87757),i=s.n(a);function n(t,e,s,a,i,n,r){try{var c=t[n](r),o=c.value}catch(t){return void s(t)}c.done?e(o):Promise.resolve(o).then(a,i)}const r={props:["groupProducts","btnTrans"],data:function(){return{loading:!1}},computed:{},mounted:function(){$(".table-test").dataTable({searching:!1,bInfo:!1,columnDefs:[{orderable:!1,targets:5}]})},methods:{changeActive:function(t,e){var s,a=this;return(s=i().mark((function s(){var n;return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a.loading=!0,n={group_product_id:t.group_product_id,active_flag:e?"Y":"N"},s.next=4,axios.get("/ir/ajax/product-groups/updateActiveFlag",{params:n}).then((function(t){"success"==t.data.status?(swal({title:"Success !",text:"บันทึกสำเร็จ",type:"success",showConfirmButton:!0}),a.loading=!1,setTimeout((function(){window.location.reload(!1)}),3e3)):(swal({title:"Error !",text:"ไม่สามารถปิดการใช้งานได้ เนื่องจากมีการใช้งานอยู่",type:"error",showConfirmButton:!0}),a.loading=!1,setTimeout((function(){window.location.reload(!1)}),3e3))}));case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}}),s)})),function(){var t=this,e=arguments;return new Promise((function(a,i){var r=s.apply(t,e);function c(t){n(r,a,i,c,o,"next",t)}function o(t){n(r,a,i,c,o,"throw",t)}c(void 0)}))})()}}};const c=(0,s(51900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[s("table",{staticClass:"table table-test table table-bordered"},[t._m(0),t._v(" "),0!=this.groupProducts.length?s("tbody",t._l(t.groupProducts,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"},attrs:{"data-sort":e.policy_set_headers.policy_set_number}},[t._v("\n                    "+t._s(e.policy_set_headers?e.policy_set_headers.policy_set_number+" : "+e.policy_set_headers.policy_set_description:"")+"\n                ")]),t._v(" "),s("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t._v("\n                    "+t._s(e.asset_group?e.asset_group.meaning+" : "+e.asset_group.description:"")+"\n                ")]),t._v(" "),s("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t._v("\n                    "+t._s(e.description)+"\n                ")]),t._v(" "),s("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t._v("\n                    "+t._s(e.mapping_acc?e.mapping_acc.account_combine:"")+"\n                ")]),t._v(" "),s("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{"data-sort":"Y"==e.active_flag}},[s("el-checkbox",{attrs:{checked:"Y"==e.active_flag},on:{change:function(s){return t.changeActive(e,e.flag)}},model:{value:e.flag,callback:function(s){t.$set(e,"flag",s)},expression:"data.flag"}})],1),t._v(" "),s("td",{staticClass:"text-center",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[s("a",{class:t.btnTrans.edit.class+" btn-xs",attrs:{type:"button",href:"/ir/settings/product-groups/"+e.group_product_id+"/edit"}},[s("i",{class:t.btnTrans.edit.icon,attrs:{"aria-hidden":"true"}}),t._v(" \n                        "+t._s(t.btnTrans.edit.text)+"\n                    ")])])])})),0):s("tbody",[t._m(1)])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"15%"}},[s("div",[t._v("กรมธรรม์ชุดที่")])]),t._v(" "),s("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"20%"}},[s("div",[t._v("กลุ่มของทรัพย์สิน")])]),t._v(" "),s("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"20%"}},[s("div",[t._v("รายการ")])]),t._v(" "),s("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"20%"}},[s("div",[t._v("รหัสบัญชี")])]),t._v(" "),s("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"1%"}},[s("div",[t._v("Active")])]),t._v(" "),s("th",{staticClass:"text-center",staticStyle:{"font-size":"12px","background-color":"#fff"},attrs:{width:"10%"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticClass:"text-center",staticStyle:{"font-size":"18px","vertical-align":"middle"},attrs:{colspan:"6"}},[t._v("ไม่พบข้อมูล")])])}],!1,null,null,null).exports}}]);