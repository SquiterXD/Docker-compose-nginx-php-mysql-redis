(self.webpackChunk=self.webpackChunk||[]).push([[6973],{46973:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(87757),a=i.n(n);function r(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void i(e)}o.done?t(c):Promise.resolve(c).then(n,a)}const s={props:["machineGroupList","routeIndex","productPeriod","btnTrans"],data:function(){return{machineGroup:"",printType:"",machineGroupDetails:"",machine:"",respMachineList:[],machineList:[],printTypeList:[],machinePowerTempList:[],productPeriodList:this.productPeriod,numberColumn:this.productPeriod.length+4,uomList:[],loading:{machine:!1,printType:!1,table:!1}}},mounted:function(){},computed:{},methods:{getDetails:function(e){var t=this;this.machineGroup||(this.printType="",this.machine="",this.machinePowerTempList=[]),this.loading.printType=!0,this.machineGroupList.forEach((function(i){e==i.machine_group&&(t.machineGroupDetails=i.asset_group)}));var i={machine_group:e};return axios.get("/pm/ajax/machine-power-temp/getMachine",{params:i}).then((function(e){t.respMachineList=e.data.machineList,t.printTypeList=e.data.printTypeList,t.loading.printType=!1}))},selectPrintType:function(){var e,t=this;return(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.printType||(t.machine=""),t.machineList=t.respMachineList.filter((function(e){return e.print_type==t.printType}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,a){var s=e.apply(t,i);function o(e){r(s,n,a,o,c,"next",e)}function c(e){r(s,n,a,o,c,"throw",e)}o(void 0)}))})()},getTable:function(e,t){var i=this,n={machine_group:e,machine_id:t};return this.loading.table=!0,axios.get("/pm/ajax/machine-power-temp/getTable",{params:n}).then((function(e){i.machinePowerTempList=e.data.machinePowerTempList,i.uomList=e.data.uomList,i.loading.table=!1}))}}};const o=(0,i(51900).Z)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ibox"},[i("div",{staticClass:"ibox-content"},[i("div",{staticClass:"text-right",staticStyle:{"padding-bottom":"15px"}},[i("a",{staticClass:"btn btn-danger",attrs:{type:"button",href:"/pm/settings/machine-power-temp"}},[e._v("\n                    ล้างค่า\n                ")])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[e._m(0),e._v(" "),i("el-select",{staticClass:"w-100",attrs:{placeholder:"โปรดเลือกกลุ่มเครื่องจักร",clearable:"",filterable:"",remote:"","reserve-keyword":""},on:{change:function(t){return e.getDetails(e.machineGroup)}},model:{value:e.machineGroup,callback:function(t){e.machineGroup=t},expression:"machineGroup"}},e._l(e.machineGroupList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.asset_group,value:e.machine_group}})})),1)],1),e._v(" "),i("div",{staticClass:"col-6"},[e._m(1),e._v(" "),i("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.printType,expression:"loading.printType"}],staticClass:"w-100",attrs:{placeholder:"โปรดเลือกระบบการพิมพ์",clearable:"",filterable:"",remote:"","reserve-keyword":"",disabled:!e.machineGroup},on:{change:function(t){e.selectPrintType()}},model:{value:e.printType,callback:function(t){e.printType=t},expression:"printType"}},e._l(e.printTypeList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.print_type_label,value:e.print_type_value}})})),1)],1)]),e._v(" "),i("div",{staticClass:"row",staticStyle:{"padding-top":"15px"}},[i("div",{staticClass:"col-6"},[e._m(2),e._v(" "),i("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.machine,expression:"loading.machine"}],staticClass:"w-100",attrs:{placeholder:"โปรดเลือกเครื่องจักร",clearable:"",filterable:"",remote:"","reserve-keyword":"",disabled:!e.machineGroup||!e.printType},on:{change:function(t){return e.getTable(e.machineGroup,e.machine)}},model:{value:e.machine,callback:function(t){e.machine=t},expression:"machine"}},e._l(e.machineList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.machine_name,value:e.machine_id}})})),1)],1)])])]),e._v(" "),i("div",{staticClass:"ibox"},[e._m(3),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.table,expression:"loading.table"}],staticClass:"ibox-content"},[i("machine-power-temp-table",{attrs:{machinePowerTempList:e.machinePowerTempList,productPeriodList:e.productPeriodList,numberColumn:e.numberColumn,uomList:e.uomList,machineGroup:e.machineGroup,machine:e.machine,btnTrans:e.btnTrans}})],1)])])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"w-100 text-left"},[i("strong",[e._v(" กลุ่มเครื่องจักร ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"w-100 text-left"},[i("strong",[e._v(" ระบบการพิมพ์ ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"w-100 text-left"},[i("strong",[e._v(" เครื่องจักร ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ibox-title"},[i("h5",[e._v("บันทึกกำลังผลิตรายเครื่อง")])])}],!1,null,null,null).exports}}]);