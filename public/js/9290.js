(self.webpackChunk=self.webpackChunk||[]).push([[9290],{67791:(e,t,a)=>{"use strict";a.d(t,{gR:()=>s,R_:()=>i,sD:()=>c});var n=a(30381),o=a.n(n),s={formatDate:"DD/MM/YYYY",formatMonth:"MM/YYYY",formatYear:"YYYY",monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i={irp0001_table_header:[{document_number:"",status:"NEW",period_year:"2020",period_name:"Jan-20",period_from:"12/01/2020",period_to:"12/01/2020",policy_set_number:"1",policy_set_description:"POLICY SET DESCRIPTION",department_code:"DEPARTMENT CODE",department_desc:"DEPARTMENT DESC"}],irp0001_table_line:[{line_number:"1",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"INTERFACE",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"3",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"CONFIRMED",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"}],irp0010_table_header:[{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},{claim_header_id:"2",status:"INTERFACE",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"}],irp0010_form:{headers:{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},apply:{apply_company:[{company_id:55,company_name:"บริษัท เทเวศประกันภัย จำกัด (มหาชน)",claim_percent:"40",claim_amount:"140000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""},{company_id:54,company_name:"บริษัท ทิพยประกันภัย จำกัด (มหาชน)",claim_percent:"60",claim_amount:"160000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""}]}},irp0002_table_line:[{status:"NEW",line_number:"",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"111",unit_price:"2",line_amount:"222",coverage_amount:"230",calculate_days:"2",calculate_start_date:"12/01/2020",calculate_end_date:"15/01/2020"}]},c={setFirstLetterUpperCase:function(e){if(e&&null!=e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}return e},setYearCE:function(e,t){var a="",n="month"===e?s.formatMonth:"date"===e?s.formatDate:"year"===e?s.formatYear:"";return t&&n?a=o()(o()(t,n).subtract(543,"years").toDate()).format(n):a},setYearBE:function(e,t){var a="",n="month"===e?s.formatMonth:"date"===e?s.formatDate:"year"===e?s.formatYear:"";return t&&n?a=o()(o()(t,n).add(543,"years").toDate()).format(n):a},showYearBE:function(e,t){var a="";if("month"===e&&t&&null!=t){var n=t.split("/"),o=+n[1]+543;return a="".concat(n[0],"/").concat(o)}if("date"===e&&t&&null!=t){var s=t.split("/"),i=+s[2]+543;return a="".concat(s[0],"/").concat(s[1],"/").concat(i)}return"year"===e&&t&&null!=t?+t+543:a},getTime:function(e){var t="";if(e&&null!=e){var a=e.split("/");return t=new Date("".concat(a[1],"/").concat(a[0],"/").concat(a[2])).getTime()}return t},calculateDate:function(e,t){var a="",n="";if(e&&t){var o=c.getTime(e),s=c.getTime(t);a=(n=Math.round(Math.abs((s-o)/864e5)))?n+1:n}return a},checkStatusInterface:function(e){return!(!e||"INTERFACE"!==e.toUpperCase())},checkStatusCancelled:function(e){return!(!e||"CANCELLED"!==e.toUpperCase())},isNullOrUndefined:function(e){return null==e?"":e},formatCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="";if(e||0===e){a=parseFloat(e);var n=e.toString().split(".");if(void 0===n[1]){var o=parseInt(n[0]).toFixed(t).split(".")[1];return"".concat(parseInt(n[0]).toLocaleString(),".").concat(o)}if(0==a.toString().split(".")[0]){var s=a.toFixed(t).split(".")[1];return"".concat(a.toString().split(".")[0],".").concat(s)}var i=a.toFixed(t).split(".")[1],c="".concat(parseInt(n[0]).toLocaleString(),".").concat(i);return c}return a},formatfloat:function(e){return e.slice(0,e.indexOf(".")+1+2)},checkStatusConfirmed:function(e){if(e)return"CONFIRMED"===e.toUpperCase()},showPeriodNameFormat:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1])),n=a.getFullYear(),o=1===(a.getMonth()+1).toString().length?"0".concat(a.getMonth()+1):a.getMonth()+1;return"".concat(o,"/").concat(n+543)}return e},setValuePeriodNameFormat:function(e){var t="";if(e&&null!=e){var a=s.monthNameShort[e.getMonth()],n=(+e.getFullYear()-543).toString(),o=n.substr(n.length-2);t="".concat(a,"-").concat(o)}return t},checkStatusNew:function(e){if(e&&"NEW"===e.toUpperCase())return!0},calculateDateMomentTable:function(e){var t=s.formatDate,a="",n="",i="",c=e.start_calculate_date,r=e.end_calculate_date;if(c&&r){var l=helperDate.convertDate(c,t),d=helperDate.convertDate(r,t);l.then((function(s){a=o()(s,t),d.then((function(s){n=o()(s,t),i=n.diff(a,"days"),e.days=-1===Math.sign(i)?"":i+1}))}))}else e.days=""},covertFomatDateMoment:function(e,t){var a="date"===t?s.formatDate:"month"===t?s.formatMonth:"year"===t?s.formatYear:"";return e&&t?o()(e).format(a):""},setBudgetYearFromFieldStCalendar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",a=("date"===t?s.formatDate:"month"===t?s.formatMonth:"year"===t&&s.formatYear,"");if(e){var n=e.getFullYear(),i=o()({year:n,month:8,date:30}),c=o()({year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),r=c.isAfter(i)?1:0;return o()(o()({year:n+r,month:8,date:30}),s.formatDate).toDate()}return a},setLabelStatusAsset:function(e){return"Y"===e?"Active":"N"===e?"Inactive":""},setFotmatPeriodNameIsFullDate:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1]));return o()(a).format(s.formatDate)}return""},setFullDateIsDateCE:function(e){var t="";if(e){var a=o()(e).format(s.formatDate);return t=c.setYearCE("date",a)}return t},setLabelExpenseFlag:function(e){return"Y"==e?"Yes":"No"},setLabelVatRefund:function(e){return"Y"==e?"Yes":"No"},setDefaultActive:function(e){var t=$(".".concat(e)).is(":checked");$(".".concat(e)).prop("checked",!t)},setDefaultEndDateIsLastDateOfMonth:function(e){var t=s.formatDate;if(e){var a=o()(e).endOf("month");return o()(a).format(t)}return""}}},19258:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(23645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,".text-right[data-v-dee02e12]{text-align:right}",""]);const s=o},84604:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(23645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,"td[data-v-8ddb3f46],th[data-v-8ddb3f46]{padding:.25rem}th[data-v-8ddb3f46]{background:#fff;position:-webkit-sticky;position:sticky;top:0}.mouse-over[data-v-8ddb3f46]:hover{background-color:#d4edda!important}",""]);const s=o},95070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-calendar-year-input",data:function(){return{year:this.value}},props:["attrName","value","sizeSmall","placeholder"],mounted:function(){var e=this;$(document).ready((function(){console.log("ready "),$("input.year_input").datepicker({format:"yyyy",autoclose:!0,keyboardNavigation:!1,startView:"years",minViewMode:"years"}),$('input[name="'.concat(e.attrName,'"]')).on("change",(function(t){console.log("change ",t,t.target.value,$('input[name="'.concat(e.attrName,'"]')).datepicker("getDate"));var a={value:t.target.value,getTime:$('input[name="'.concat(e.attrName,'"]')).datepicker("getDate").getTime()};e.$emit("change-year",a)}))}))},watch:{value:function(e,t){this.year=e}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:" date "+(e.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"input-medium form-control year_input el-input__inner",attrs:{type:"text",name:e.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}})])}),[],!1,null,null,null).exports},62783:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const n={name:"ir-components-currency-input",data:function(){return{isInputActive:!1,decimalValue:void 0===this.decimal?2:this.decimal}},props:["value","name","sizeSmall","placeholder","disabled","decimal"],computed:{displayValue:{get:function(){if(this.isInputActive)return(void 0===this.value||null===this.value?"":this.value).toString();if(this.value||0===this.value&&void 0!==this.value&&null!==this.value){var e=parseFloat(this.value),t=this.value.toString().split(".");if(void 0===t[1]){var a=parseInt(t[0]).toFixed(this.decimalValue).split(".")[1];return"".concat(parseInt(t[0]).toLocaleString(),".").concat(a)}if(0==e.toString().split(".")[0]){var n=e.toFixed(this.decimalValue).split(".")[1];return"".concat(e.toString().split(".")[0],".").concat(n)}var o=e.toFixed(this.decimalValue).split(".")[1];return"".concat(parseInt(t[0]).toLocaleString(),".").concat(o)}},set:function(e){console.log("modifiedValue --\x3e",e);var t=+e;isNaN(t)&&(t=""),this.$emit("input",t)}}},methods:{blur:function(e){this.isInputActive=!1,this.$emit("blur-currency",e.target.value)}},watch:{value:function(e,t){this.$emit("watch-value",e)}}};var o=a(93379),s=a.n(o),i=a(19258),c={insert:"head",singleton:!1};s()(i.Z,c);i.Z.locals;const r=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"el-input "+(e.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayValue,expression:"displayValue"}],staticClass:"form-control el-input__inner input-currency  text-right",attrs:{type:"text",name:e.name,placeholder:e.placeholder,autocomplete:"off",disabled:e.disabled,maxlength:"15"},domProps:{value:e.displayValue},on:{blur:e.blur,focus:function(t){e.isInputActive=!0},input:function(t){t.target.composing||(e.displayValue=t.target.value)}}})])}),[],!1,null,"dee02e12",null).exports},43126:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-policy-set-header-id",data:function(){return{rows:[],dataSet:[],loading:!1,result:this.value,isDisabled:void 0!==this.disabled&&this.disabled}},props:["value","name","size","placeholder","popperBody","fixTypeFr","fixTypeSc","check","disabled"],methods:{remoteMethod:function(e){this.dataSet=this.rows.filter((function(t){return t.policy_set_number.toLowerCase().indexOf(e.toLowerCase())>-1||t.policy_set_description.toLowerCase().indexOf(e.toLowerCase())>-1}))},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.check?t.dataSet=t.rows=a.data.filter((function(e){return e.meaning.toLowerCase()==t.check.toLowerCase()})):t.dataSet=t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.getDataRows({policy_set_header_id:"",keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},onchange:function(e){console.log("onchange ",e),this.$emit("change-lov",e)}},mounted:function(){console.log("mounted policy_set_header_id ",this.value),this.result=this.value?+this.value:this.value,this.getDataRows({policy_set_header_id:this.value,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},watch:{value:function(e,t){this.result=e?+e:e,this.getDataRows({policy_set_header_id:e,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},disabled:function(){this.isDisabled=this.disabled}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,"remote-method":e.remoteMethod,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size,"popper-append-to-body":e.popperBody,disabled:e.isDisabled},on:{focus:e.onfocus,change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataSet,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},29828:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-account",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_type:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-type",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({budget_type:"",keyword:""})},change:function(e){if(console.log("change ",e),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.budget_type===e){var n={value:e,desc:a.description};return console.log("xxx ",n),void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};console.log("xxx ",o),this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_type:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_type:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Type",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_type}})})),1)],1)}),[],!1,null,null,null).exports},75721:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-allocation",data:function(){return{dataRows:[],loading:!1,result:this.value,main_account:""}},props:["attrName","value","mainAccount","disabled"],methods:{remoteMethod:function(e){this.getDataRows({sub_account:"",keyword:e,main_account:this.main_account})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/sub-account",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.sub_account===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.main_account=this.mainAccount,this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},watch:{value:function(e,t){this.result=e},mainAccount:function(e,t){this.main_account=e,this.getDataRows({sub_account:this.result,keyword:"",main_account:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Sub Account",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.sub_account}})})),1)],1)}),[],!1,null,null,null).exports},84371:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-branch",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","vendorId","disabled"],methods:{remoteMethod:function(e){this.getDataRows({evm_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/evm-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({vendor_id:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.evm_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({vendor_id:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({vendor_id:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"EVM",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.evm_code}})})),1)],1)}),[],!1,null,null,null).exports},86066:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({compnany_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/company-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({compnany_code:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.company_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({compnany_code:"",keyword:""})},watch:{value:function(e,t){this.result=e,console.log("newval",e),this.getDataRows({compnany_code:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Company Code",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.company_code+": "+e.description,value:e.company_code}})})),1)],1)}),[],!1,null,null,null).exports},85891:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-department",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({department_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({department_code:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.department_code===e){var n={value:e,desc:a.description};return console.log("xxx ",n),void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};console.log("xxx ",o),this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({department_code:e,keyword:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Department",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.department_code}})})),1)],1)}),[],!1,null,null,null).exports},89645:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-future-used1",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({reserved1:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved1",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({reserved1:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.reserved1===e){var n={value:e,desc:a.description};return console.log("xxx ",n),void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};console.log("xxx ",o),this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({reserved1:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({reserved1:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.reserved1}})})),1)],1)}),[],!1,null,null,null).exports},59129:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-future-used2",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({reserved2:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved2",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({reserved2:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.reserved2===e){var n={value:e,desc:a.description};return console.log("xxx ",n),void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};console.log("xxx ",o),this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({reserved2:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({reserved2:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.reserved2}})})),1)],1)}),[],!1,null,null,null).exports},74934:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-inter-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({main_account:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/main-account",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({main_account:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.main_account===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({main_account:this.value,keyword:this.value})},watch:{value:function(e,t){this.result=e,this.getDataRows({main_account:e,keyword:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Main Account",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.main_account}})})),1)],1)}),[],!1,null,null,null).exports},30077:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-product",data:function(){return{dataRows:[],loading:!1,result:this.value,department_code:""}},props:["attrName","value","departmentCode","disabled"],methods:{remoteMethod:function(e){this.getDataRows({cost_center_code:"",keyword:e,department_code:this.department_code})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/cost-center-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.cost_center_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.department_code=this.departmentCode,this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},watch:{value:function(e,t){this.result=e},departmentCode:function(e,t){this.department_code=e,this.getDataRows({cost_center_code:"",keyword:"",department_code:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Cost Center",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.cost_center_code}})})),1)],1)}),[],!1,null,null,null).exports},3880:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-project-activity",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_reason:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-reason",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({budget_reason:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.budget_reason===e){var n={value:e,desc:a.description};return console.log("xxx ",n),void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};console.log("xxx ",o),this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_reason:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_reason:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Reason",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_reason}})})),1)],1)}),[],!1,null,null,null).exports},48890:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-source",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_year:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-year",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({budget_year:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.budget_year===e){var n={value:e,desc:a.description};return console.log("xxx ",n),void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};console.log("xxx ",o),this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_year:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_year:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Year",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_year}})})),1)],1)}),[],!1,null,null,null).exports},35938:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-sub-account",data:function(){return{dataRows:[],loading:!1,result:this.value,budget_type:""}},props:["attrName","value","budgetType","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_detail:"",keyword:e,budget_type:this.budget_type})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-detail",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.budget_detail===e){var n={value:e,desc:a.meaning};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.budget_type=this.budgetType,this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},watch:{value:function(e,t){this.result=e},budgetType:function(e,t){this.budget_type=e,this.getDataRows({budget_detail:"",keyword:"",budget_type:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Detail",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,disabled:e.disabled,remote:"",filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.budget_detail+": "+e.meaning,value:e.budget_detail}})})),1)],1)}),[],!1,null,null,null).exports},8921:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-type-cost",data:function(){return{rows:[],loading:!1,code:"",desc:"",result:this.value,account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},accountId:""}},props:["value","placeholder","popperBody","name","disabled"],methods:{remoteMethod:function(e){this.getDataRows({account_id:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onchange:function(e){console.log("change ",e);var t={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};if(e)for(var a in this.rows){var n=this.rows[a];console.log("row ",n,n.account_id==e),n.account_id==e&&(t.code=n.account_code,t.id=e,t.desc=n.description,t.account_combine=n.account_combine,t.account_combine_desc=n.account_combine_desc)}else t.code="",t.id="",t.desc="",t.account_combine="",t.account_combine_desc="";this.result=e,this.setPropAccountSplitCombine(t),this.$emit("change-lov",t)},onclick:function(){console.log("onclick ",this.rows,this.result),this.getDataRows({account_id:this.result,keyword:""})},setPropAccountSplitCombine:function(e){console.log("setPropAccountSplitCombine ",e),console.log("Combine ",e.account_combine);if(""!=e.account_combine){var t=e.account_combine.split("."),a=e.account_combine_desc.split(".");console.log("accountSplit ",t),console.log("descSplit ",a);var n=0,o=0;for(var s in this.account)this.account[s]=t[n],n++;for(var i in this.description)this.description[i]=a[o],o++;this.$emit("split-account",{account:e.account_combine,description:e.account_combine_desc,type_cost:e.code,type_cost_id:e.id})}else this.$emit("split-account",{account:"",description:"",type_cost:"",type_cost_id:""})},receivedDataRows:function(e){var t=this;console.log("receivedDataRows ",e,this.account_id);var a={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:e}).then((function(e){var n=e.data;if(t.loading=!1,t.rows=n.data,t.accountId&&null!==t.accountId&&void 0!==t.accountId)if(t.rows.length>0)for(var o in t.rows){var s=t.rows[o];s.account_id==t.accountId&&(t.result=s.account_id,a.code=s.account_code,a.id=s.account_id,a.desc=s.description,a.account_combine=s.account_combine,a.account_combine_desc=s.account_combine_desc)}else t.result="",a.code="",a.id=t.accountId,a.desc="",a.account_combine="",a.account_combine_desc="";else a.code="",a.id="",a.desc="",a.account_combine="",a.account_combine_desc="";t.$emit("change-lov",a)})).catch((function(e){swal("Error",e,"error")}))}},mounted:function(){},watch:{value:function(e,t){this.result=e}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange},nativeOn:{click:function(t){return e.onclick(t)}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.account_code+": "+e.description,value:e.account_id}})})),1)],1)}),[],!1,null,null,null).exports},29290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var n=a(87757),o=a.n(n),s=a(95070);const i={name:"governor-lov-policy-type",data:function(){return{policy:this.value,policyTypeList:[],sizeDefault:this.sizeSmall?"small":"large"}},props:["value","disabled","sizeSmall","fetchPolicy"],mounted:function(){this.getPolicyType()},methods:{getPolicyType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:""},t=this;axios.get("/ir/ajax/lov/governer-policy-type",{params:e}).then((function(e){var a=e.data;t.policyTypeList=a.data})).catch((function(e){swal("Error",e,"error")}))},changePolicyType:function(e){var t=this,a={code:"",desc:"",tag:""};if(e)for(var n in t.policyTypeList){var o=t.policyTypeList[n];o.lookup_code==e&&(a.code=e,a.desc=o.description,a.tag=o.tag)}else a.code="",a.desc="",a.tag="";t.$emit("policyType",a)}},watch:{fetchPolicy:function(e){e&&this.getPolicyType()}}};var c=a(51900);const r=(0,c.Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",clearable:!0,size:e.sizeDefault,placeholder:"ประเภทกรมธรรม์",disabled:e.disabled},on:{change:e.changePolicyType},model:{value:e.policy,callback:function(t){e.policy=t},expression:"policy"}},e._l(e.policyTypeList,(function(e){return a("el-option",{key:e.rn,attrs:{label:""+e.description,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports;const l={name:"governor-invoice-lov",data:function(){return{result:this.value,list:[]}},props:["value","disabled","fetchInvoice"],mounted:function(){this.getLovInvoiceType()},methods:{getLovInvoiceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:""},t=this;axios.get("/ir/ajax/lov/invoice-number",{params:e}).then((function(e){var a=e.data;t.list=a.data})).catch((function(e){swal("Error",e,"error")}))},handleChange:function(e){this.$emit("invoice",e)}},watch:{fetchInvoice:function(e){e&&this.getLovInvoiceType()}}};const d=(0,c.Z)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"",clearable:!0,size:"large",placeholder:"เลขที่ใบแจ้งหนี้",disabled:e.disabled},on:{change:e.handleChange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.list,(function(e,t){return a("el-option",{key:t,attrs:{label:""+e.invoice_number,value:e.invoice_number}})})),1)],1)}),[],!1,null,null,null).exports;const u={name:"gas-station-lov-status",data:function(){return{result:this.value,list:[]}},props:["value","placeholder"],mounted:function(){this.getLovStatus()},methods:{getLovStatus:function(){var e=this;axios.get("/ir/ajax/lov/status").then((function(t){var a=t.data;e.list=a})).catch((function(e){swal("Error",e,"error")}))},handleChange:function(e){this.$emit("status",e)}}};const m=(0,c.Z)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"",clearable:!0,size:"large",placeholder:e.placeholder},on:{change:e.handleChange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.list,(function(e,t){return a("el-option",{key:t,attrs:{label:""+e.meaning,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports;var p=a(30381),_=a.n(p);function v(e,t,a,n,o,s,i){try{var c=e[s](i),r=c.value}catch(e){return void a(e)}c.done?t(r):Promise.resolve(r).then(n,o)}const h={components:{lovInsurance:r,lovInvoice:d,lovStatus:m,yearInput:s.Z},name:"index-header-governor",data:function(){return{header:{year:"",policy_type_code:"",invoice_type:"",status:""},oilTypeList:[],groupCodeList:[],statusList:[],loading:!1,rules:{year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}]},dateFormat:"YYYY",showLoading:!1}},methods:{receivedYear:function(e){var t=this;e?(t.header.year=_()(e).format(t.dateFormat),this.$refs.search_governor.fields.find((function(e){return"year"==e.prop})).clearValidate()):(t.header.year="",this.$refs.search_governor.validateField("year"))},receivedPolicyType:function(e){this.header.policy_type_code=e||""},receivedInvoiceType:function(e){this.header.invoice_type=e||""},receivedStatus:function(e){this.header.status=e||""},Search:function(){this.loading=!0,this.getGovernor()},Cancel:function(){window.location.reload()},getGovernor:function(){var e=this,t=this;t.showLoading=!0,axios.get("/ir/ajax/persons",{params:t.header}).then(function(){var a,n=(a=o().mark((function a(n){var s;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.data,t.loading=!1,t.showLoading=!1,a.next=5,e.$emit("dataSearch",[]);case 5:return a.next=7,e.$emit("dataSearch",s.data);case 7:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var s=a.apply(e,t);function i(e){v(s,n,o,i,c,"next",e)}function c(e){v(s,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()).catch((function(e){t.loading=!1,swal({title:"Error",text:e,timer:3e3,type:"error",showCancelButton:!1,showConfirmButton:!1})}))}},props:["fetchInvoice","fetchPolicy"]};const f=(0,c.Z)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}]},[a("el-form",{ref:"search_governor",attrs:{model:e.header,loading:e.loading}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-7 col-lg-7 col-md-8 col-sm-12 col-xs-12 offset-md-2"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[e._v("ปี")])]),e._v(" "),a("div",{staticClass:"col-lg-7 col-md-8 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",{attrs:{prop:"year"}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{value:e.header.year,name:"input_date",id:"input_date",placeholder:"โปรดเลือกปี",pType:"year"},on:{dateWasSelected:function(t){return e.receivedYear.apply(void 0,arguments)}},model:{value:e.header.year,callback:function(t){e.$set(e.header,"year",t)},expression:"header.year"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"col-xl-7 col-lg-7 col-md-8 col-sm-12 col-xs-12 offset-md-2"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[e._v("ประเภทกรมธรรม์")])]),e._v(" "),a("div",{staticClass:"col-lg-7 col-md-8 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("lov-insurance",{attrs:{fetchPolicy:e.fetchPolicy},on:{policyType:e.receivedPolicyType},model:{value:e.header.policy_type_code,callback:function(t){e.$set(e.header,"policy_type_code",t)},expression:"header.policy_type_code"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"col-xl-7 col-lg-7 col-md-8 col-sm-12 col-xs-12 offset-md-2"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[e._v("เลขที่ใบแจ้งหนี้")])]),e._v(" "),a("div",{staticClass:"col-lg-7 col-md-8 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("lov-invoice",{attrs:{fetchInvoice:e.fetchInvoice},on:{invoice:e.receivedInvoiceType},model:{value:e.header.invoice_type,callback:function(t){e.$set(e.header,"invoice_type",t)},expression:"header.invoice_type"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"col-xl-7 col-lg-7 col-md-8 col-sm-12 col-xs-12 offset-md-2"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[e._v("สถานะ")])]),e._v(" "),a("div",{staticClass:"col-lg-7 col-md-8 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("lov-status",{attrs:{placeholder:"สถานะ"},on:{status:e.receivedStatus},model:{value:e.header.status,callback:function(t){e.$set(e.header,"status",t)},expression:"header.status"}})],1)],1)])])]),e._v(" "),a("div",{staticClass:"row align-items-center justify-content-end d-flex mr-2"},[a("button",{staticClass:"btn btn-default m-1",attrs:{type:"button"},on:{click:function(t){return e.Search()}}},[a("i",{staticClass:"fa fa-search"}),e._v(" ค้นหา")]),e._v(" "),a("button",{staticClass:"btn btn-warning m-1",attrs:{type:"button"},on:{click:function(t){return e.Cancel()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต")])])])],1)}),[],!1,null,null,null).exports;const g={name:"governor-invoice-lov",data:function(){return{result:this.value,list:[],sizeDefault:this.sizeSmall?"small":"large"}},props:["value","disabled","sizeSmall","fetchInvoice"],mounted:function(){this.getLovInvoiceType()},methods:{getLovInvoiceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:""},t=this;axios.get("/ir/ajax/lov/invoice-type",{params:e}).then((function(e){var a=e.data;t.list=a.data})).catch((function(e){swal("Error",e,"error")}))},handleChange:function(e){this.$emit("invoice",e)}},watch:{fetchInvoice:function(e){console.log("neVal",e);this.getLovInvoiceType()}}};const b=(0,c.Z)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",clearable:!0,size:e.sizeDefault,placeholder:"ประเภทใบแจ้งหนี้",disabled:e.disabled},on:{change:e.handleChange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.list,(function(e,t){return a("el-option",{key:t,attrs:{label:""+e.invoice_type,value:e.invoice_type}})})),1)],1)}),[],!1,null,null,null).exports;var y=a(62783);const w={name:"gas-station-lov-company",data:function(){return{result:this.value?parseInt(this.value):"",list:[],sizeDefault:this.sizeSmall?"small":"large"}},props:["value","placeholder","disabled","sizeSmall","isSave"],mounted:function(){this.getCompany()},methods:{getCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:""},t=this;axios.get("/ir/ajax/lov/companies",{params:e}).then((function(e){var a=e.data;t.list=a.data})).catch((function(e){swal("Error",e,"error")}))},handleChange:function(e){var t="",a="",n="";if(e)for(var o in this.list){var s=this.list[o];s.company_id===+e&&(t=s.company_number,a=s.company_name,n=e)}else t="",a="",n="";var i={code:t,desc:a,id:n};this.$emit("company",i)}},watch:{value:function(e){this.result=e?+e:e}}};const x=(0,c.Z)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,remote:"",clearable:!0,filterable:"",size:e.sizeDefault,disabled:e.disabled},on:{change:e.handleChange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.list,(function(e,t){return a("el-option",{key:t,attrs:{label:e.company_number+": "+e.company_name,value:e.company_id}})})),1)],1)}),[],!1,null,null,null).exports;var C=a(86066),D=a(84371),T=a(85891),k=a(30077),S=a(48890),R=a(29828),E=a(35938),N=a(3880),I=a(74934),A=a(75721),O=a(89645),M=a(59129),Y=a(8921);const F={name:"ir-gas-station-modal-account-code",data:function(){return{argSearchCompany:{compnany_code:"",description:""},expense_account:"",expense_account_desc:"",account:this.accounts,description:this.descriptions,rules:{company:[{required:!0,message:"กรุณาระบุ Company Code",trigger:"change"}],branch:[{required:!0,message:"กรุณาระบุ EVM",trigger:"change"}],department:[{required:!0,message:"กรุณาระบุ Department",trigger:"change"}],product:[{required:!0,message:"กรุณาระบุ Cost Center",trigger:"change"}],source:[{required:!0,message:"กรุณาระบุ Budget Year",trigger:"change"}],account:[{required:!0,message:"กรุณาระบุ Budget Type",trigger:"change"}],subAccount:[{required:!0,message:"กรุณาระบุ Budget Detail",trigger:"change"}],projectActivity:[{required:!0,message:"กรุณาระบุ Budget Reason",trigger:"change"}],interCompany:[{required:!0,message:"กรุณาระบุ Main Account",trigger:"change"}],allocation:[{required:!0,message:"กรุณาระบุ Sub Account",trigger:"change"}],futureUsed1:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}],futureUsed2:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}]},account_id:this.accountId,typeCost:this.type_cost,selectedTypeCostdisabled:!1}},props:["index","rows","accounts","descriptions","disabled","accountId","type_cost"],methods:{clickAgree:function(){var e=this;console.log("---clickAgree---\x3e"),this.$refs.modal_account_mapping.validate((function(t){t?(e.expense_account=e.account.company+"."+e.account.branch+"."+e.account.department+"."+e.account.product+"."+e.account.source+"."+e.account.account+"."+e.account.subAccount+"."+e.account.projectActivity+"."+e.account.interCompany+"."+e.account.allocation+"."+e.account.futureUsed1+"."+e.account.futureUsed2,e.expense_account_desc=(null==e.description.department?"":e.description.department)+"."+(null==e.description.interCompany?"":e.description.interCompany)+"."+(null==e.description.allocation?"":e.description.allocation),e.rows[e.index].expense_account=e.expense_account,".."!=e.expense_account_desc&&(e.rows[e.index].expense_account_desc=e.expense_account_desc),e.$emit("select-accounts",e.rows),$("#modal_account".concat(e.index)).modal("hide")):console.log("error submit!!")}))},getDataCompany:function(e){this.account.company=e.value,this.description.company=e.desc},getDataBranch:function(e){this.account.branch=e.value,this.description.branch=e.desc},getValueDepartment:function(e){this.account.department=e.value,this.description.department=e.desc},getDataProduct:function(e){this.account.product=e.value,this.description.product=e.desc},getDataSource:function(e){this.account.source=e.value,this.description.source=e.desc},getDataAccount:function(e){this.account.account=e.value,this.description.account=e.desc},getDataSubAccount:function(e){this.account.subAccount=e.value,this.description.subAccount=e.desc},getDataProjectActivity:function(e){this.account.projectActivity=e.value,this.description.projectActivity=e.desc},getDataInterCompany:function(e){this.account.interCompany=e.value,this.description.interCompany=e.desc},getDataAllocation:function(e){console.log("-------getDataAllocation---",e),this.account.allocation=e.value,this.description.allocation=e.desc},getDataFutureUsed1:function(e){this.account.futureUsed1=e.value,this.description.futureUsed1=e.desc},getDataFutureUsed2:function(e){this.account.futureUsed2=e.value,this.description.futureUsed2=e.desc},getValueAccount:function(e){console.log("getValueAccount ",e),this.account=e.account,this.description=e.description},getValueTypeCode:function(e,t){console.log("getValueTypeCode---\x3e",e,t),this.rows.length>0&&(this.rows[this.index].expense_account_id=e.id,this.rows[this.index].type_cost=e.code),e.code?this.selectedTypeCostdisabled=!0:this.selectedTypeCostdisabled=!1}},components:{lovCompany:C.Z,lovBranch:D.Z,lovDepartment:T.Z,lovProduct:k.Z,lovSource:S.Z,lovAccount:R.Z,lovSubAccount:E.Z,lovProjectActivity:N.Z,lovInterCompany:I.Z,lovAllocation:A.Z,lovFutureUsed1:O.Z,lovFutureUsed2:M.Z,lovTypeCost:Y.Z}};const U=(0,c.Z)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_account"+e.index,tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("ข้อมูลรหัสบัญชี (Account Mapping)")])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("el-form",{ref:"modal_account_mapping",staticClass:"demo-ruleForm",attrs:{model:e.account,rules:e.rules,"label-width":"120px"}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              ประเภทค่าใช้จ่าย\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"type_cost"}},[a("lov-type-cost",{attrs:{account_id:e.accountId,placeholder:"ประเภทค่าใช้จ่าย",popperBody:!1,name:"type_cost"+e.index,disabled:e.disabled},on:{"split-account":e.getValueAccount,"change-lov":e.getValueTypeCode},model:{value:e.typeCost,callback:function(t){e.typeCost=t},expression:"typeCost"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Company Code *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"company"}},[a("lov-company",{attrs:{attrName:"segmentCompany"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataCompany},model:{value:e.account.company,callback:function(t){e.$set(e.account,"company",t)},expression:"account.company"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              EVM *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"branch"}},[a("lov-branch",{attrs:{attrName:"segmentBranch"+e.index,vendorId:"",disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataBranch},model:{value:e.account.branch,callback:function(t){e.$set(e.account,"branch",t)},expression:"account.branch"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Department *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"department"}},[a("lov-department",{attrs:{attrName:"segmentDepartment"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getValueDepartment},model:{value:e.account.department,callback:function(t){e.$set(e.account,"department",t)},expression:"account.department"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Cost Center *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"product"}},[a("lov-product",{attrs:{attrName:"segmentProduct"+e.index,departmentCode:e.account.department,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataProduct},model:{value:e.account.product,callback:function(t){e.$set(e.account,"product",t)},expression:"account.product"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Year *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"source"}},[a("lov-source",{attrs:{attrName:"segmentSource"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataSource},model:{value:e.account.source,callback:function(t){e.$set(e.account,"source",t)},expression:"account.source"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Type *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"account"}},[a("lov-account",{attrs:{attrName:"segmentAccount"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataAccount},model:{value:e.account.account,callback:function(t){e.$set(e.account,"account",t)},expression:"account.account"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Detail *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"subAccount"}},[a("lov-sub-account",{attrs:{attrName:"segmentSubAccount"+e.index,budgetType:e.account.account,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataSubAccount},model:{value:e.account.subAccount,callback:function(t){e.$set(e.account,"subAccount",t)},expression:"account.subAccount"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Reason *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"projectActivity"}},[a("lov-project-activity",{attrs:{attrName:"segmentProjectActivity"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataProjectActivity},model:{value:e.account.projectActivity,callback:function(t){e.$set(e.account,"projectActivity",t)},expression:"account.projectActivity"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Main Account *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"interCompany"}},[a("lov-inter-company",{attrs:{attrName:"segmentInterCompany"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataInterCompany},model:{value:e.account.interCompany,callback:function(t){e.$set(e.account,"interCompany",t)},expression:"account.interCompany"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Sub Account *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"allocation"}},[a("lov-allocation",{attrs:{attrName:"segmentAllocation"+e.index,mainAccount:e.account.interCompany,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataAllocation},model:{value:e.account.allocation,callback:function(t){e.$set(e.account,"allocation",t)},expression:"account.allocation"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Reserved *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed1"}},[a("lov-future-used1",{attrs:{attrName:"segmentFutureUsed1"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataFutureUsed1},model:{value:e.account.futureUsed1,callback:function(t){e.$set(e.account,"futureUsed1",t)},expression:"account.futureUsed1"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Reserved *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed2"}},[a("lov-future-used2",{attrs:{attrName:"segmentFutureUsed2"+e.index,disabled:e.disabled||e.selectedTypeCostdisabled},on:{"change-lov-segment":e.getDataFutureUsed2},model:{value:e.account.futureUsed2,callback:function(t){e.$set(e.account,"futureUsed2",t)},expression:"account.futureUsed2"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),e._v(" ตกลง\n        ")])])])])])}),[],!1,null,null,null).exports;var Z=a(43126);function L(e,t,a,n,o,s,i){try{var c=e[s](i),r=c.value}catch(e){return void a(e)}c.done?t(r):Promise.resolve(r).then(n,o)}function P(e){return function(){var t=this,a=arguments;return new Promise((function(n,o){var s=e.apply(t,a);function i(e){L(s,n,o,i,c,"next",e)}function c(e){L(s,n,o,i,c,"throw",e)}i(void 0)}))}}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const j={name:"index-table-governor",components:{lovPolicyType:r,lovInvoice:b,currencyInput:y.Z,lovCompany:x,modalAccountCode:U,lovPolicySetHeaderId:Z.Z},props:["dataTable","yearHeader","setLabelExpenseFlag","isNullOrUndefined","formatCurrency","setYearCE"],data:function(){return{obj:{},sessionShow:!1,dateFormat:"DD/MM/YYYY",tableData:[],complete:!0,columnSelected:[],indexTable:0,accountGovernor:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},descriptionGovernor:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},rules:{year:[{required:!0,message:"กรุณาระบุวันปี",trigger:"change"}],start_date:[{required:!0,message:"กรุณาระบุวันที่เริ่มต้น",trigger:"change"}],end_date:[{required:!0,message:"กรุณาระบุวันที่สิ้นสุด",trigger:"change"}],insurance_amount:[{required:!0,message:"กรุณาระบุค่าเบี้ยประกัน",trigger:"change"}],expense_account:[{required:!0,message:"กรุณาระบุรหัสค่าใช้จ่าย",trigger:"change"}],company_id:[{required:!0,message:"กรุณาระบุรหัสผู้รับประกันภัย",trigger:"change"}],invoice_type:[{required:!0,message:"กรุณาระบุประเภทใบแจ้งหนี้",trigger:"change"}],invoice_number:[{required:!0,message:"กรุณาระบุรหัสใบแจ้งหนี้",trigger:"change"}],person_name:[{required:!0,message:"กรุณาระบุชื่อผู้ว่าการ",trigger:"change"}],policy_type_code:[{required:!0,message:"กรุณาระบุประเภทกรมธรรม์",trigger:"change"}]},headerTable:{total:"",discount:"",duty_fee:"",vat:"",net_amount:""},accountId:"",type_cost:""}},methods:{clickSelectRow:function(e,t){if($('input[name="governor_station_select'.concat(e,'"]')).is(":checked"))this.setSelectedColumn(t);else{var a=this.columnSelected.indexOf(t);a>-1&&this.columnSelected.splice(a,1)}},receivedPolicyType:function(e,t){console.log("receivedPolicyType ---\x3e ",e);var a=this;e?(this.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".policy_type_code")})).clearValidate(),a.dataTable.rows[t].policy_type_code=e.code,a.dataTable.rows[t].tag=e.tag,this.calAmount(t)):(a.dataTable.rows[t].policy_type_code="",a.dataTable.rows[t].tag="",this.$refs.save_table_line_governor.validateField("rows.".concat(t,".policy_type_code")))},ClickAddRow:function(){var e=this,t=this;axios.get("/ir/ajax/lov/defaultirp0007").then((function(a){var n,o=a.data.datas;console.log("---clickAdd---",o);var s=(V(n={row_id:null,person_id:null,company_id:null==o?void 0:o.company_code,company_name:null==o?void 0:o.company_name,discount_amount:0,document_number:null,discount:0,duty_amount:0,expense_account:null==o?void 0:o.account_combine,expense_account_desc:null==o?void 0:o.account_code_desc,expense_account_id:null==o?void 0:o.gl_expense_account_id,insurance_amount:0,invoice_number:null,invoice_type:null,net_amount:0,payment_date:null,payment_status:null},"person_id",null),V(n,"person_name",null),V(n,"policy_number",null==o?void 0:o.user_policy_number),V(n,"policy_type_code",null),V(n,"policy_type_name",null),V(n,"start_date",null),V(n,"end_date",null),V(n,"status","New"),V(n,"total_days",null),V(n,"vat_amount",0),V(n,"vat_percent",+(null==o?void 0:o.tax)),V(n,"voucher_number",null),V(n,"year",o.thai_year),V(n,"flgAdd",!0),V(n,"company_number",null),V(n,"isDuplicated",!1),V(n,"isDuplicatedInvoice",!1),V(n,"type_cost",null==o?void 0:o.gl_expense_account_code),V(n,"policy_set_header_id",null==o?void 0:o.policy_set_header_id),V(n,"revenue_stamp",null==o?void 0:o.revenue_stamp),V(n,"tag",null==o?void 0:o.include_tax_flag),n);t.obj=s;var i=t.dataTable.rows.push(s)-1;e.$nextTick((function(){e.complete=!1,e.calAmount(i),console.log("---rs.policycount ---\x3e",null==o?void 0:o.policycount),((null==o?void 0:o.policycount)>1||(null==o?void 0:o.policycount)<1)&&swal("จำนวน Policy Set มีมากกว่า 1 ไม่สามารถ Default Data ได้!");var t=e.$el.getElementsByClassName("endTable")[0];t&&t.scrollIntoView()}))}))},clickSelectAll:function(){if(this.setDataRowsNotInterface=this.dataTable.rows.filter((function(e,t){if(!$('input[name="governor_station_select'.concat(t,'"]')).is(":disabled"))return e.index=t,e})),$('input[name="governor_select_all"]').is(":checked"))for(var e in this.setDataRowsNotInterface){var t=this.setDataRowsNotInterface[e];$('input[name="governor_station_select'.concat(t.index,"\"]:not('.checkbox_edit_disabled')")).prop("checked",!0),this.setSelectedColumn(t)}else for(var a in this.setDataRowsNotInterface){var n=this.setDataRowsNotInterface[a];$('input[name="governor_station_select'.concat(n.index,'"]')).prop("checked",!1),this.columnSelected=[]}},clickModalAccount:function(e,t){var a,n,o=this;if(o.indexTable=t,null!==e.expense_account&&void 0!==e.expense_account){var s=null===(a=e.expense_account)||void 0===a?void 0:a.split("."),i=null===(n=e.expense_account_desc)||void 0===n?void 0:n.split("."),c=0,r=0;if(e.expense_account_desc)for(var l in o.accountGovernor)o.accountGovernor[l]=s[c],c++;else for(var d in o.accountGovernor)o.accountGovernor[d]="",c++;if(e.expense_account_desc)for(var u in o.descriptionGovernor)o.descriptionGovernor[u]=i[r],r++;else for(var m in o.descriptionGovernor)o.descriptionGovernor[m]="",r++;this.accountId=e.expense_account_id,this.type_cost=e.type_cost}},clickRemoveFlgAdd:function(e){this.dataTable.rows.splice(e,1)},setSelectedColumn:function(e){this.columnSelected.push(e)},receivedInvoice:function(e,t){console.log("receivedInvoice ",e,t),e?(this.dataTable.rows[t].invoice_type=e,this.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".invoice_type")})).clearValidate()):(this.dataTable.rows[t].invoice_type="",this.$refs.save_table_line_governor.validateField("rows.".concat(t,".invoice_type")))},receivedCompany:function(e,t){console.log("--receivedCompany---",e,t);var a=this;e?(this.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".company_id")})).clearValidate(),a.dataTable.rows[t].company_id=e.id,a.dataTable.rows[t].company_name=e.desc,a.dataTable.rows[t].company_number=e.code):(this.$refs.save_table_line_governor.validateField("rows.".concat(t,".company_id")),a.dataTable.rows[t].company_id="",a.dataTable.rows[t].company_name="",a.dataTable.rows[t].company_number="")},focusNotKey:function(){$(".readonly").on("keydown paste focus mousedown",(function(e){9!=e.keyCode&&e.preventDefault()}))},clickConfirm:function(){var e=this;0!==this.columnSelected.length?this.$refs.save_table_line_governor.validate((function(t){return!!t&&(e.columnSelected.filter((function(e,t){return e.status="Confirmed",$('input[name="governor_station_select'.concat(t,'"]')).prop("checked",!1),e})),void(e.columnSelected=[]))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการยืนยัน!","warning")},clickClear:function(){var e=this;0!==this.columnSelected.length?this.$refs.save_table_line_governor.validate((function(t){return!!t&&(e.columnSelected.filter((function(e,t){return e.status="New",$('input[name="governor_station_select'.concat(t,'"]')).prop("checked",!1),e})),void(e.columnSelected=[]))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการรีเซต!","warning")},clickCancel:function(){var e=this;0!==this.columnSelected.length?this.$refs.save_table_line_governor.validate((function(t){return!!t&&(e.columnSelected.filter((function(e,t){return e.status="Cancelled",$('input[name="governor_station_select'.concat(t,'"]')).prop("checked",!1),e})),void(e.columnSelected=[]))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการยกเลิก!","warning")},clickComplete:function(){var e=this;this.$refs.save_table_line_governor.validate((function(t){if(!t)return!0;e.setComplete()}))},setComplete:function(){this.dataTable.rows.every((function(e){return e.flgAdd}))?this.checkDuplicateField()||this.checkDuplicateInvoice()?swal({title:"Warning",text:"ไม่สามารถบันทึก รายการซ้ำได้",type:"warning"}):(this.dataTable.rows.forEach((function(e){e.isDuplicated=!1,e.isDuplicatedInvoice=!1})),this.saveGovernor()):this.dataTable.rows.find((function(e){return e.isDuplicated||e.isDuplicatedInvoice}))?swal({title:"Warning",text:"ไม่สามารถบันทึก รายการซ้ำได้",type:"warning"}):(this.dataTable.rows.forEach((function(e){e.isDuplicated=!1,e.isDuplicatedInvoice=!1})),this.saveGovernor())},saveGovernor:function(){var e=this,t={data:this.dataTable.rows.map((function(e,t){return e.row_id||(e.row_id=t),e}))};axios.post("/ir/ajax/persons",t).then((function(t){e.complete=!0,e.dataTable.rows.map((function(e,a){return delete e.flgAdd,$('input[name="governor_station_select'.concat(a,'"]')).prop("checked",!1),t.data.data.rows.map((function(t,a){t.row_id==e.row_id&&(e.person_id=t.person_id,e.document_number=t.document_number)})),e})),e.columnSelected=[],e.$emit("fetchPerson",!0),swal({title:"Success",text:"บันทึกสำเร็จ",timer:3e3,type:"success",showCancelButton:!1,showConfirmButton:!1})})).catch((function(e){400===e.response.data.status?swal({title:"Warning",text:e.response.data.message,type:"warning"}):swal({title:"Error",text:e.response.data.message,type:"error"})}))},insuranceChange:function(e,t){var a=this;e?(a.dataTable.rows[t].insurance_amount=e,this.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".insurance_amount")})).clearValidate()):(a.dataTable.rows[t].insurance_amount="",this.$refs.save_table_line_governor.validateField("rows.".concat(t,".insurance_amount"))),this.calAmount(t),a.dataTable.rows[t].insurance_amount<a.dataTable.rows[t].discount&&(swal({title:"Warning",text:"ส่วนลด ต้องไม่มากกว่า ค่าเบี้ยประกัน",type:"warning"}),a.dataTable.rows[t].insurance_amount="",a.dataTable.rows[t].discount=0)},discountChange:function(e,t){var a=this;e?a.dataTable.rows[t].discount=e:(a.dataTable.rows[t].discount=0,a.dataTable.rows[t].net_amount=0),a.dataTable.rows[t].discount>a.dataTable.rows[t].insurance_amount&&swal({title:"Warning",text:"ส่วนลด ต้องไม่มากกว่า ค่าเบี้ยประกัน",type:"warning",confirmButtonText:"OK"},(function(){a.dataTable.rows[t].discount=0,a.dataTable.rows[t].net_amount=0,a.calAmount(t)})),this.calAmount(t)},dutyFeeChage:function(e,t){this.dataTable.rows[t].duty_amount=e||""},vatChage:function(e,t){this.dataTable.rows[t].vat_amount=e||""},netAmountChage:function(e,t){this.dataTable.rows[t].net_amount=e||""},clickIncomplete:function(){this.complete=!1},getDataRowSelectAccount:function(e){this.dataTable.rows=e},headerTotalChange:function(e){this.headerTable.total=e},headerDiscountChange:function(e){this.headerTable.discount=e},headerDutyFeeChange:function(e){this.headerTable.duty_fee=e},headerVatChange:function(e){this.headerTable.vat=e},headerNetAmountChange:function(e){this.headerTable.net_amount=e},receivedYear:function(e,t){this.dataTable.rows[t].year="Invalid date"!=_()(e).format("YYYY")?_()(e).format("YYYY"):"",e?this.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".year")})).clearValidate():this.$refs.save_table_line_governor.validateField("rows.".concat(t,".year"));var a=this.dataTable.rows[t].policy_set_header_id;e&&a&&this.receivedDataMaster({policy_set_header_id:a,date_from:"",date_to:"",year:this.setYearCE("year",this.dataTable.rows[t].year)},t)},getAdjustmentDateStart:function(e,t){var a=this;return P(o().mark((function n(){var s,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=a,null!==e){n.next=7;break}s.dataTable.rows[t].start_date="",s.dataTable.rows[t].start_timer="",s.$refs.save_table_line_governor.validateField("rows.".concat(t,".start_date")),n.next=16;break;case 7:return s.dataTable.rows[t].start_date=_()(e).format(s.dateFormat),n.next=10,s.parseToDate(e);case 10:i=n.sent,s.dataTable.rows[t].start_timer=i,s.dataTable.rows[t].end_timer=_()(i,"DD/MM/YYYY").add(1,"years").toDate(),s.dataTable.rows[t].end_date=_()(e).add(1,"years").format(s.dateFormat),s.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".start_date")})).clearValidate(),s.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".end_date")})).clearValidate();case 16:s.dataTable.rows[t].start_timer&&s.dataTable.rows[t].end_timer&&(s.dataTable.rows[t].total_days=Math.floor(Math.abs(s.dataTable.rows[t].start_timer-s.dataTable.rows[t].end_timer)/864e5));case 17:case"end":return n.stop()}}),n)})))()},getAdjustmentDateEnd:function(e,t,a){var n=this;return P(o().mark((function s(){var i,c,r,l;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=new Date(a.split("/")[1]+"/"+a.split("/")[0]+"/"+a.split("/")[2]),c=n,null!==e){o.next=8;break}c.dataTable.rows[t].end_date="",c.dataTable.rows[t].end_timer="",n.$refs.save_table_line_governor.validateField("rows.".concat(t,".end_date")),o.next=14;break;case 8:return c.dataTable.rows[t].end_date=_()(e).format(c.dateFormat),o.next=11,c.parseToDate(e);case 11:r=o.sent,c.dataTable.rows[t].end_timer=_()(r,"DD/MM/YYYY").toDate(),n.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".end_date")})).clearValidate();case 14:if(null!==i){o.next=20;break}c.dataTable.rows[t].start_date="",c.dataTable.rows[t].start_timer="",c.$refs.save_table_line_governor.validateField("rows.".concat(t,".start_date")),o.next=27;break;case 20:return c.dataTable.rows[t].start_date=_()(i).format(c.dateFormat),o.next=23,c.parseToDate(i);case 23:l=o.sent,c.dataTable.rows[t].start_timer=l,c.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".start_date")})).clearValidate(),c.$refs.save_table_line_governor.fields.find((function(e){return e.prop=="rows.".concat(t,".end_date")})).clearValidate();case 27:c.dataTable.rows[t].start_timer&&c.dataTable.rows[t].end_timer&&(c.dataTable.rows[t].total_days=Math.floor(Math.abs(c.dataTable.rows[t].start_timer-c.dataTable.rows[t].end_timer)/864e5)),c.dataTable.rows[t].total_days<365||c.dataTable.rows[t].total_days>366?swal({title:"Warning",text:"วันที่สิ้นสุดที่คิดค่าเบี้ยประกัน มากกว่าหรือน้อยกว่า 1 ปี ต้องการทำรายการต่อหรือไม่ ?",type:"warning"}):console.log("ok");case 29:case"end":return o.stop()}}),s)})))()},parseToDate:function(){var e=arguments;return P(o().mark((function t(){var a,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:null,n=e.length>1&&void 0!==e[1]?e[1]:"DD/MM/YYYY",null!=a){t.next=4;break}return t.abrupt("return",_()().toDate());case 4:return t.abrupt("return",_()(a,n).subtract(543,"years").toDate());case 5:case"end":return t.stop()}}),t)})))()},clickSave:function(){var e=this;this.$refs.save_table_line_governor.validate((function(t){t&&e.setComplete()}))},checkDuplicateField:function(){return!1},checkDuplicateInvoice:function(){var e=!1,t=this.dataTable.rows;return t.length>1?(t.forEach((function(a,n){t.find((function(e,t){return n!==t&&a.invoice_number===e.invoice_number}))&&(e=!0)})),console.log("if dup 1",e),e):(console.log("else dup 1",e),e=t[0].isDuplicatedInvoice)},duplicatedCheckInvoiceNumber:function(e,t){var a=this,n={data:{rows:a.dataTable.rows,year:e.year,person_name:e.person_name,policy_type_code:e.policy_type_code,invoice_number:e.invoice_number,row_id:t}};e.invoice_number&&axios.post("/ir/ajax/persons/duplicate-check/invoice-number",n).then((function(e){a.dataTable.rows[t].isDuplicatedInvoice=!1})).catch((function(e){400===e.response.data.status?(a.dataTable.rows[t].isDuplicatedInvoice=!0,swal({title:"Warning",text:"ไม่สามารถเลือกเลขที่ใบแจ้งหนี้ ซ้ำกับรายการที่บันทึกไปแล้วได้",type:"warning"})):swal({title:"Error",text:e.response.data.message,type:"error"})}))},isDisabled:function(e){return!(!e||"Interface"!==e.status)||1==this.complete},isDisabled2:function(e){return 1==this.complete},getValuePolicy:function(e,t,a){console.log("getValuePolicy ",e),this.dataTable.rows[a].policy_set_header_id=e,e&&this.receivedDataMaster({policy_set_header_id:e,date_from:"",date_to:"",year:this.setYearCE("year",t.year)},a)},receivedDataMaster:function(e,t){var a=this;console.log("receivedDataMaster ",e),axios.get("/ir/ajax/lov/premium-rate",{params:e}).then((function(e){var n=e.data;console.log("then ",n),""===n.data||null===n.data||void 0===n.data?a.dataTable.rows[t].revenue_stamp=0:n.data.revenue_stamp&&null!==n.data.revenue_stamp&&void 0!==n.data.revenue_stamp?a.dataTable.rows[t].revenue_stamp=parseFloat(n.data.revenue_stamp):a.dataTable.rows[t].revenue_stamp=0})).catch((function(e){swal("Error",e,"error")}))},calAmount:function(e){console.log("---calAmount---");var t=this.dataTable.rows[e],a=t.insurance_amount||0===t.insurance_amount?+t.insurance_amount:0,n=t.discount||0===t.discount?+t.discount:0,o=t.revenue_stamp,s=+t.vat_percent,i=t.tag,c=(a-n)*o/100,r=i&&"N"!=i?(a-n+c)*s/100:0;t.duty_amount=c,t.vat_amount=r;var l=r;t.net_amount=a-n+c+l}},computed:{totalPremium:function(){var e=0;this.dataTable.rows.length>0&&this.dataTable.rows.map((function(t){"Confirmed"!=t.status&&"Interface"!=t.status||(e+=+t.insurance_amount)}));var t=e.toFixed(2),a=Number(t.split(".")[0]).toLocaleString(),n=t.split(".")[1];return t.split(".").length>1?"".concat(a,".").concat(n):"".concat(e.toLocaleString(),".00")},discount:function(){var e=0;this.dataTable.rows.length>0&&this.dataTable.rows.map((function(t){"Confirmed"!=t.status&&"Interface"!=t.status||(e+=+t.discount)}));var t=e.toFixed(2),a=Number(t.split(".")[0]).toLocaleString(),n=t.split(".")[1];return t.split(".").length>1?"".concat(a,".").concat(n):"".concat(e.toLocaleString(),".00")},totalDutyFee:function(){var e=0;this.dataTable.rows.length>0&&this.dataTable.rows.map((function(t){"Confirmed"!=t.status&&"Interface"!=t.status||(e+=+t.duty_amount)}));var t=e.toFixed(2),a=Number(t.split(".")[0]).toLocaleString(),n=t.split(".")[1];return t.split(".").length>1?"".concat(a,".").concat(n):"".concat(e.toLocaleString(),".00")},vat:function(){var e=0;this.dataTable.rows.length>0&&this.dataTable.rows.map((function(t){"Confirmed"!=t.status&&"Interface"!=t.status||(e+=+t.vat_amount)}));var t=e.toFixed(2),a=Number(t.split(".")[0]).toLocaleString(),n=t.split(".")[1];return t.split(".").length>1?"".concat(a,".").concat(n):"".concat(e.toLocaleString(),".00")},netAmount:function(){var e=0;this.dataTable.rows.length>0&&this.dataTable.rows.map((function(t){"Confirmed"!=t.status&&"Interface"!=t.status||(e+=+t.net_amount)}));var t=e.toFixed(2),a=Number(t.split(".")[0]).toLocaleString(),n=t.split(".")[1];return t.split(".").length>1?"".concat(a,".").concat(n):"".concat(e.toLocaleString(),".00")}},watch:{"dataTable.rows":function(e){var t=this;e.length>0&&e.map((function(e){"New"==e.status?t.complete=!1:t.complete=!0}))}},mounted:function(){console.log("--mounted---",this),window.vm=this}};var z=a(93379),B=a.n(z),q=a(84604),G={insert:"head",singleton:!1};B()(q.Z,G);q.Z.locals;const W=(0,c.Z)(j,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"margin_top_20"},[a("div",[a("div",{staticClass:"table-responsive table_style_scroll"},[a("table",{staticClass:"table table-striped table_style table_index_year col-6"},[e._m(0),e._v(" "),a("tbody",{attrs:{id:"table_search"}},[e.dataTable.rows.length>0?a("tr",{staticClass:"text-right"},[a("td",[e._v(e._s(e.totalPremium))]),e._v(" "),a("td",[e._v(e._s(e.discount))]),e._v(" "),a("td",[e._v(e._s(e.totalDutyFee))]),e._v(" "),a("td",[e._v(e._s(e.vat))]),e._v(" "),a("td",[e._v(e._s(e.netAmount))])]):e._e(),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:0===e.dataTable.rows.length,expression:"dataTable.rows.length === 0"}],staticClass:"text-center w-100"},[a("td",{attrs:{colspan:"19"}},[e._v("ไม่มีข้อมูล")])])]),e._v(" "),a("tfoot")])]),e._v(" "),a("div",{staticClass:"my-5"},[a("div",{staticClass:"col justify-content-end  padding_12 d-flex"},[a("button",{staticClass:"btn btn-success m-1",attrs:{type:"danger"},on:{click:function(t){return e.ClickAddRow()}}},[a("i",{staticClass:"fa fa-plus"}),e._v("\n                    เพิ่ม\n                ")])])]),e._v(" "),a("div",[a("div",[a("el-form",{ref:"save_table_line_governor",staticClass:"demo-dynamic form_table_line",attrs:{model:e.dataTable,rules:e.rules}},[a("table",{staticClass:"table table-bordered table_style table_index_year",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[a("thead",[a("tr",{staticClass:"text-center"},[a("th",{staticStyle:{"z-index":"1","min-width":"110px"}},[e._v("\n                                Select All "),a("br"),e._v(" "),a("input",{staticClass:"form-check-input",staticStyle:{"margin-left":"-0.4rem"},attrs:{type:"checkbox",name:"governor_select_all"},on:{click:function(t){return e.clickSelectAll()}}})]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[e._v("IR status"),a("br"),e._v("สถานะ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[e._v("Document number"),a("br"),e._v("เลขที่เอกสาร")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[e._v("Reference "),a("br"),e._v("Document")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Year"),a("br"),e._v("ปี*")]),e._v(" "),a("th",{staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Policy No."),a("br"),e._v("กรมธรรม์ชุดที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Invoice number"),a("br"),e._v("เลขที่ใบแจ้งหนี้\n                                *\n                            ")]),e._v(" "),a("th",{staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Policy no."),a("br"),e._v("เลขที่กรมธรรม์")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px","z-index":"1"}},[e._v("Start date"),a("br"),e._v("วันที่เริ่มต้นการคิดเบี้ยประกัน\n                                *\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px","z-index":"1"}},[e._v("End date"),a("br"),e._v("วันที่สิ้นสุดการคิดเบี้ยประกัน\n                                *\n                            ")]),e._v(" "),a("th",{staticStyle:{"min-width":"150px"}},[e._v("Days"),a("br"),e._v("จำนวนวัน")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Name"),a("br"),e._v("ชื่อ-สกุล\n                                ผู้ว่าการ *\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Governor policy type"),a("br"),e._v("ประเภทกรมธรรม์(ผู้ว่าการยาสูบ)\n                                *\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Premium"),a("br"),e._v("ค่าเบี้ยประกัน\n                                *\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Discount"),a("br"),e._v("ส่วนลด")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Duty fee"),a("br"),e._v("อากร")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Vat"),a("br"),e._v("ภาษีมูลค่าเพิ่ม\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Net amount"),a("br"),e._v("ค่าเบี้ยประกันสุทธิ\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"250px","z-index":"1"}},[e._v("Company code"),a("br"),e._v("รหัสผู้รับประกันภัย\n                                *\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Company name"),a("br"),e._v("ผู้รับประกันภัย")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"250px","z-index":"1"}},[e._v("Expense account"),a("br"),e._v("รหัสบัญชีค่าใช้จ่าย\n                                *\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"250px","z-index":"1"}},[e._v("Expense account Des"),a("br"),e._v("บัญชีค่าใช้จ่าย\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[e._v("Payment status"),a("br"),e._v("สถานะการจ่ายเงิน\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px","z-index":"1"}},[e._v("Voucher number"),a("br"),e._v("เลขที่เอกสาร\n                            ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px","z-index":"1"}},[e._v("ลบ")])])]),e._v(" "),a("tbody",{attrs:{id:"table_search"}},[e._l(e.dataTable.rows,(function(t,n){return a("tr",{key:n,staticClass:"text-center mouse-over",class:[n==e.dataTable.rows.length-1?"endTable":""],attrs:{"v-if":e.dataTable.rows.length>0}},[a("td",{staticClass:"text-center",staticStyle:{position:"relative","min-width":"110px"}},[a("div",{staticClass:"padding_top_10"},[a("input",{class:"form-check-input "+(e.isDisabled(t)?"checkbox_edit_disabled":""),staticStyle:{"margin-left":"-0.4rem"},attrs:{type:"checkbox",name:"governor_station_select"+n,disabled:e.isDisabled(t)},domProps:{value:""+n},on:{click:function(a){return e.clickSelectRow(n,t)}}})])]),e._v(" "),a("td",{staticClass:"text-left",staticStyle:{"min-width":"110px"}},[a("div",{staticClass:"padding_top_10"},[e._v("\n                                    "+e._s(t.status?t.status:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"padding_top_10"},[e._v(e._s(t.document_number?t.document_number:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"padding_top_10"},[e._v(e._s(t.reference_document_number?t.reference_document_number:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"text-left el_field"},[a("el-form-item",{staticClass:"el-input--small",attrs:{prop:"rows."+n+".year",rules:e.rules.year}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%","line-height":"30px"},attrs:{value:t.year,name:"input_date",id:"input_date",placeholder:"โปรดเลือกปี",disabled:e.isDisabled(t),pType:"year"},on:{dateWasSelected:function(t){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.receivedYear.apply(void 0,o.concat([n]))}},model:{value:t.year,callback:function(a){e.$set(t,"year",a)},expression:"data.year"}})],1)],1),e._v(" "),a("td",{staticClass:"text-left el_field"},[a("el-form-item",{attrs:{prop:"rows."+n+".policy_set_header_id",rules:e.rules.policy_set_header_id}},[a("lov-policy-set-header-id",{attrs:{name:"policy_set_header_id"+n,size:"small",placeholder:"กรมธรรม์ชุดที่",popperBody:!0,fixTypeFr:"50",fixTypeSc:"",disabled:e.isDisabled2(t)},on:{"change-lov":function(a){for(var o=arguments.length,s=Array(o);o--;)s[o]=arguments[o];return e.getValuePolicy.apply(void 0,s.concat([t],[n]))}},model:{value:t.policy_set_header_id,callback:function(a){e.$set(t,"policy_set_header_id",a)},expression:"data.policy_set_header_id"}})],1)],1),e._v(" "),a("td",{staticClass:"text-center el_field"},[a("el-form-item",{attrs:{prop:"rows."+n+".invoice_number",rules:e.rules.invoice_number}},[a("el-input",{staticClass:"el-input--small",attrs:{disabled:e.isDisabled(t),placeholder:"เลขที่ใบแจ้งหนี้"},on:{change:function(a){return e.duplicatedCheckInvoiceNumber(t,n)}},model:{value:t.invoice_number,callback:function(a){e.$set(t,"invoice_number",a)},expression:"data.invoice_number"}})],1)],1),e._v(" "),a("td",{staticClass:"text-center el_field"},[a("el-form-item",[a("el-input",{staticClass:"el-input--small",attrs:{placeholder:"เลขที่กรมธรรม์",disabled:e.isDisabled(t)},model:{value:t.policy_number,callback:function(a){e.$set(t,"policy_number",a)},expression:"data.policy_number"}})],1)],1),e._v(" "),a("td",{staticClass:"el_field text-left"},[a("el-form-item",{staticClass:"el-input--small",attrs:{prop:"rows."+n+".start_date",rules:e.rules.start_date}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%","line-height":"30px"},attrs:{value:t.start_date,name:"input_date",id:"input_date",placeholder:"โปรดเลือกวันที่เริ่มต้น",format:"DD/MM/YYYY",disabled:e.isDisabled(t)},on:{dateWasSelected:function(t){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.getAdjustmentDateStart.apply(void 0,o.concat([n]))}},model:{value:t.start_date,callback:function(a){e.$set(t,"start_date",a)},expression:"data.start_date"}})],1)],1),e._v(" "),a("td",{staticClass:"el_field text-left"},[a("el-form-item",{staticClass:"el-input--small",attrs:{prop:"rows."+n+".end_date",rules:e.rules.end_date}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%","line-height":"30px"},attrs:{value:t.end_date,name:"input_date",id:"input_date",format:"DD/MM/YYYY",placeholder:"โปรดเลือกวันที่สิ้นสุด",disabled:e.isDisabled(t)},on:{dateWasSelected:function(a){for(var o=arguments.length,s=Array(o);o--;)s[o]=arguments[o];return e.getAdjustmentDateEnd.apply(void 0,s.concat([n],[t.start_date]))}},model:{value:t.end_date,callback:function(a){e.$set(t,"end_date",a)},expression:"data.end_date"}})],1)],1),e._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"padding_top_10"},[e._v("\n                                    "+e._s(t.total_days?t.total_days:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"text-center el_field"},[a("el-form-item",{attrs:{prop:"rows."+n+".person_name",rules:e.rules.person_name}},[a("el-input",{staticClass:"el-input--small",attrs:{disabled:e.isDisabled(t),placeholder:"ชื่อ-สกุล ผู้ว่าการ"},model:{value:t.person_name,callback:function(a){e.$set(t,"person_name",a)},expression:"data.person_name"}})],1)],1),e._v(" "),a("td",{staticClass:"el_field text-center"},[a("el-form-item",{attrs:{prop:"rows."+n+".policy_type_code",rules:e.rules.policy_type_code}},[a("lov-policy-type",{attrs:{placeholder:"ประเภทกรมธรรม์",sizeSmall:!0,disabled:e.isDisabled(t)},on:{policyType:function(t){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.receivedPolicyType.apply(void 0,o.concat([n]))}},model:{value:t.policy_type_code,callback:function(a){e.$set(t,"policy_type_code",a)},expression:"data.policy_type_code"}})],1)],1),e._v(" "),a("td",{staticClass:"el_field text-right"},[a("el-form-item",{staticClass:"currency_right",attrs:{prop:"rows."+n+".insurance_amount",rules:e.rules.insurance_amount}},[a("currency-input",{attrs:{placeholder:"ค่าเบี้ยประกัน",sizeSmall:!0,disabled:e.isDisabled(t)},on:{input:function(t){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.insuranceChange.apply(void 0,o.concat([n]))}},model:{value:t.insurance_amount,callback:function(a){e.$set(t,"insurance_amount",a)},expression:"data.insurance_amount"}})],1)],1),e._v(" "),a("td",{staticClass:"text-right el_field"},[a("el-form-item",{staticClass:"currency_right"},[a("currency-input",{attrs:{placeholder:"ส่วนลด",sizeSmall:!0,disabled:e.isDisabled(t)},on:{input:function(t){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.discountChange.apply(void 0,o.concat([n]))}},model:{value:t.discount,callback:function(a){e.$set(t,"discount",a)},expression:"data.discount"}})],1)],1),e._v(" "),a("td",{staticClass:"text-right el_field"},[a("el-form-item",{staticClass:"currency_right"},[e._v("\n\n                                    "+e._s(e.isNullOrUndefined(t.duty_amount)||0===e.isNullOrUndefined(t.duty_amount)?e.formatCurrency(t.duty_amount):e.isNullOrUndefined(t.duty_amount))+"\n                                    ")])],1),e._v(" "),a("td",{staticClass:"text-right el_field"},[a("el-form-item",{staticClass:"currency_right"},[e._v("\n                                    "+e._s(e.isNullOrUndefined(t.vat_amount)||0===e.isNullOrUndefined(t.vat_amount)?e.formatCurrency(t.vat_amount):e.isNullOrUndefined(t.vat_amount))+"\n                                    ")])],1),e._v(" "),a("td",{staticClass:"text-right el_field"},[a("el-form-item",{staticClass:"currency_right"},[e._v("\n                                    "+e._s(e.isNullOrUndefined(t.net_amount)||0===e.isNullOrUndefined(t.net_amount)?e.formatCurrency(t.net_amount):e.isNullOrUndefined(t.net_amount))+"\n                                    ")])],1),e._v(" "),a("td",{staticClass:"el_field text-center"},[a("el-form-item",{attrs:{prop:"rows."+n+".company_id",rules:e.rules.company_id}},[a("lov-company",{attrs:{placeholder:"รหัสผู้รับประกันภัย",sizeSmall:!0,disabled:e.isDisabled(t)},on:{company:function(t){for(var a=arguments.length,o=Array(a);a--;)o[a]=arguments[a];return e.receivedCompany.apply(void 0,o.concat([n]))}},model:{value:t.company_id,callback:function(a){e.$set(t,"company_id",a)},expression:"data.company_id"}})],1)],1),e._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"padding_top_10"},[e._v("\n                                    "+e._s(t.company_name?t.company_name:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"el_field text-left"},[a("el-form-item",{staticClass:"el-input--small",attrs:{prop:"rows."+n+".expense_account",rules:e.rules.expense_account}},[a("el-input",{staticClass:"readonly el-input--small",attrs:{placeholder:"รหัสบัญชี",disabled:e.isDisabled(t)},model:{value:t.expense_account,callback:function(a){e.$set(t,"expense_account",a)},expression:"data.expense_account"}},[a("el-button",{attrs:{slot:"append","data-toggle":"modal","data-target":"#modal_account"+n},on:{click:function(a){return e.clickModalAccount(t,n)}},slot:"append"},[a("i",{staticClass:"fa fa-search"})])],1)],1)],1),e._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"padding_top_10"},[e._v("\n                                    "+e._s(t.expense_account_desc?t.expense_account_desc:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"padding_top_10"},[e._v("\n                                    "+e._s(t.payment_status?t.payment_status:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"padding_top_10"},[e._v("\n                                    "+e._s(t.voucher_number?t.voucher_number:"")+"\n                                ")])]),e._v(" "),a("td",{staticClass:"el_field"},[void 0!==t.flgAdd?a("el-form-item",[a("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){return e.clickRemoveFlgAdd(n)}}},[a("i",{staticClass:"fa fa-times"}),e._v("\n                                        ลบ\n                                    ")])]):e._e()],1)])})),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:0===e.dataTable.rows.length,expression:"dataTable.rows.length === 0"}],staticClass:"text-center w-100"},[a("td",{attrs:{colspan:"26"}},[e._v("ไม่มีข้อมูล")])])],2),e._v(" "),a("tfoot")]),e._v(" "),a("div",{staticClass:"row margin_top_20"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickConfirm()}}},[a("i",{staticClass:"fa fa-check"}),e._v(" ยืนยัน\n                                    ")]),e._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.clickCancel()}}},[a("i",{staticClass:"fa fa-times"}),e._v(" ยกเลิก\n                                    ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต\n                                    ")])])],1)]),e._v(" "),a("div",{staticClass:"col-md-6 lable_align"},[a("div",{staticClass:"form-group el_field"},[a("el-form-item",[a("button",{directives:[{name:"show",rawName:"v-show",value:!e.complete,expression:"!complete"}],staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickSave()}}},[a("i",{staticClass:"fa fa-check-square-o"}),e._v(" บันทึก (ล็อค)\n                                    ")]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:e.complete,expression:"complete"}],staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.clickIncomplete()}}},[a("i",{staticClass:"fa fa-minus-square-o"}),e._v(" แก้ไข (ปลดล็อค)\n                                    ")])])],1)])])])],1)])]),e._v(" "),a("modal-account-code",{attrs:{index:e.indexTable,rows:e.dataTable.rows,accounts:e.accountGovernor,descriptions:e.descriptionGovernor,disabled:!!e.dataTable.rows[e.indexTable]&&e.isDisabled(e.dataTable.rows[e.indexTable]),accountId:e.accountId,type_cost:e.type_cost},on:{"select-accounts":e.getDataRowSelectAccount}})],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",{staticClass:"text-right"},[e._v("Total premium"),a("br"),e._v("ค่าเบี้ยประกันรวม")]),e._v(" "),a("th",{staticClass:"text-right"},[e._v("Total Discount"),a("br"),e._v("ส่วนลดรวม")]),e._v(" "),a("th",{staticClass:"text-right"},[e._v("Total duty fee"),a("br"),e._v("อากรรวม")]),e._v(" "),a("th",{staticClass:"text-right"},[e._v("Total Vat"),a("br"),e._v("ภาษีมูลค่าเพิ่มรวม")]),e._v(" "),a("th",{staticClass:"text-right"},[e._v("Total Net Amount"),a("br"),e._v("ค่าเบี้ยประกันสุทธิรวม")])])])}],!1,null,"8ddb3f46",null).exports;var X=a(67791);const H={name:"index-governor",data:function(){return{data:{rows:[]},yearHeader:"",fetchInvoice:!1,funcs:X.sD}},components:{IndexHeader:f,IndexTable:W},methods:{fetchPerson:function(e){this.fetchInvoice=e},financial:function(e){return Number(parseFloat(e).toFixed(2))},receivedDataSearch:function(e){var t=this;this.data.rows=e.map((function(e){return"Y"===e.return_vat_flag?e.return_vat_flag="Yes":e.return_vat_flag="No",null===e.insurance_amount?e.insurance_amount="":e.insurance_amount,null===e.discount?e.discount="":e.discount,e.duty_amount&&(e.duty_amount=t.financial(e.duty_amount)),e.vat_amount&&(e.vat_amount=t.financial(e.vat_amount)),e.net_amount&&(e.net_amount=t.financial(e.net_amount)),"Y"===e.vat_refeaund?e.vat_refund="Yes":e.vat_refund="No",e.policy_set_header_id=e.policy_set_header_id?e.policy_set_header_id:"",e.revenue_stamp=e.revenue_stamp&&null!==e.revenue_stamp&&void 0!==e.revenue_stamp?+e.revenue_stamp:0,e.tag=e.tag?e.tag:"",e}))},receivedHeaderSearch:function(e){this.yearHeader=e.year}}};const J=(0,c.Z)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("index-header",{attrs:{fetchInvoice:e.fetchInvoice},on:{dataSearch:e.receivedDataSearch,headerSearch:e.receivedHeaderSearch}}),e._v(" "),a("index-table",{attrs:{dataTable:e.data,yearHeader:e.yearHeader,setLabelExpenseFlag:e.funcs.setLabelExpenseFlag,isNullOrUndefined:e.funcs.isNullOrUndefined,formatCurrency:e.funcs.formatCurrency,setYearCE:e.funcs.setYearCE},on:{fetchPerson:e.fetchPerson}})],1)}),[],!1,null,null,null).exports},51900:(e,t,a)=>{"use strict";function n(e,t,a,n,o,s,i,c){var r,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=a,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),i?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=r):o&&(r=c?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(l.functional){l._injectStyles=r;var d=l.render;l.render=function(e,t){return r.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,r):[r]}return{exports:e,options:l}}a.d(t,{Z:()=>n})}}]);