(self.webpackChunk=self.webpackChunk||[]).push([[3723],{59305:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var o=a(23645),r=a.n(o)()((function(t){return t[1]}));r.push([t.id,".el-form-item__content{line-height:40px;position:relative;font-size:14px;margin-left:0!important}",""]);const s=r},7969:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var o=a(23645),r=a.n(o)()((function(t){return t[1]}));r.push([t.id,"td[data-v-2aca62e0],th[data-v-2aca62e0]{padding:.25rem}th[data-v-2aca62e0]{background:#fff;position:sticky;top:0}.mouse-over[data-v-2aca62e0]:hover{background-color:#d4edda!important}",""]);const s=r},76601:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const o={name:"ir-components-calendar-month-year-input",data:function(){return{month:this.value,monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},props:["attrName","value","sizeSmall","placeholder"],computed:{sizeDate:function(){return this.sizeSmall?"small":""}},mounted:function(){var t=this;$(document).ready((function(){$("input.month_input").datepicker({format:"mm/yyyy",autoclose:!0,keyboardNavigation:!1,startView:"months",minViewMode:"months"}).on("changeYear",(function(t){})),$('input[name="'.concat(t.attrName,'"]')).on("change",(function(e){var a=t.monthNameShort[$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getMonth()],o=$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getFullYear().toString(),r=o.substr(o.length-2),s="",n=e.target.value;if(n&&null!=n){var i=n?n.split("/"):n,l=+i[1]-543;s="".concat(i[0],"/").concat(l)}var c={value:n,getTime:$('input[name="'.concat(t.attrName,'"]')).datepicker("getDate").getTime(),name:"".concat(a,"-").concat(r),yearCE:s};t.$emit("change-month",c)}))}))},watch:{value:function(t,e){this.month=t}}};const r=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"el-input date "+(t.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"input-medium form-control month_input el-input__inner",attrs:{type:"text",name:t.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.month},on:{input:function(e){e.target.composing||(t.month=e.target.value)}}})])}),[],!1,null,null,null).exports},87150:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const o={name:"ir-components-lov-status-ir",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{getDataRows:function(){var t=this;axios.get("/ir/ajax/lov/status").then((function(e){var a=e.data;t.rows=a})).catch((function(t){swal("Error",t,"error")}))},change:function(t){this.$emit("change-lov",t)}},watch:{value:function(t,e){this.result=t}},created:function(){this.getDataRows()}};const r=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:"สถานะ",name:t.name,clearable:!0,size:t.size,"popper-append-to-body":t.popperBody,disabled:t.disabled},on:{change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.description,value:t.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports},94139:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const o={name:"ir-components-lov-department",data:function(){return{rows:[],loading:!1,result:this.value}},props:["placeholder","attrName","value","popperBody","size"],methods:{remoteMethod:function(t){this.getDataRows({department_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.rows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({department_code:"",keyword:""})},change:function(t){this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})},watch:{value:function(t,e){this.result=t}}};const r=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.attrName,"remote-method":t.remoteMethod,loading:t.loading,remote:"",clearable:!0,filterable:"","popper-append-to-body":t.popperBody,size:t.size},on:{focus:t.focus,change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.department_code+": "+t.description,value:t.department_code}})})),1)],1)}),[],!1,null,null,null).exports},37266:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const o={name:"ir-components-lov-policy-set-header-id",data:function(){return{rows:[],dataSet:[],loading:!1,result:this.value,isDisabled:void 0!==this.disabled&&this.disabled}},props:["value","name","size","placeholder","popperBody","fixTypeFr","fixTypeSc","check","disabled"],methods:{remoteMethod:function(t){this.dataSet=this.rows.filter((function(e){return e.policy_set_number.toLowerCase().indexOf(t.toLowerCase())>-1||e.policy_set_description.toLowerCase().indexOf(t.toLowerCase())>-1}))},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:t}).then((function(t){var a=t.data;e.loading=!1,e.check?e.dataSet=e.rows=a.data.filter((function(t){return t.meaning.toLowerCase()==e.check.toLowerCase()})):e.dataSet=e.rows=a.data})).catch((function(t){swal("Error",t,"error")}))},onfocus:function(){this.getDataRows({policy_set_header_id:"",keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},onchange:function(t){this.$emit("change-lov",t)}},mounted:function(){this.result=this.value?+this.value:this.value,this.getDataRows({policy_set_header_id:this.value,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},watch:{value:function(t,e){this.result=t?+t:t,this.getDataRows({policy_set_header_id:t,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},disabled:function(){this.isDisabled=this.disabled}}};const r=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.name,"remote-method":t.remoteMethod,loading:t.loading,remote:"",clearable:!0,filterable:"",size:t.size,"popper-append-to-body":t.popperBody,disabled:t.isDisabled},on:{focus:t.onfocus,change:t.onchange},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataSet,(function(t,e){return a("el-option",{key:e,attrs:{label:t.policy_set_number+": "+t.policy_set_description,value:t.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},33723:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>N});var o=a(1550);const r={name:"ir-stock-yearly-lov-department",data:function(){return{rows:[],loading:!1,result:this.value}},props:["placeholder","attrName","value"],methods:{remoteMethod:function(t){this.getDataRows({department_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.rows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({department_code:"",keyword:""})},change:function(t){this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})}};var s=a(51900);const n=(0,s.Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.placeholder,name:t.attrName,"remote-method":t.remoteMethod,loading:t.loading,remote:"",clearable:!0,filterable:""},on:{focus:t.focus,change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.department_code+": "+t.description,value:t.department_code}})})),1)],1)}),[],!1,null,null,null).exports;const i={name:"ir-stock-yearly-lov-insurance-date",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["placeholder","attrName","value","size","year","prop","disabled"],methods:{remoteMethod:function(t){this.getDataRows({year:this.year?+this.year-543:this.year,keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/effective-date",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({year:this.year?+this.year-543:this.year,keyword:""})},change:function(t){var e={};for(var a in this.dataRows){var o=this.dataRows[a];o[this.prop]===t&&(e=o)}this.$emit("change-insurance-date",e)}},mounted:function(){this.getDataRows({year:this.year?+this.year-543:this.year,keyword:""})},watch:{year:function(t,e){t?this.getDataRows({year:+t-543,keyword:""}):(this.result="",this.getDataRows({year:t,keyword:""}))}}};const l=(0,s.Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.attrName,clearable:!0,size:t.size,disabled:t.disabled},on:{change:t.change},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(e,o){return a("el-option",{key:o,attrs:{label:e[t.prop],value:e[t.prop]}})})),1)],1)}),[],!1,null,null,null).exports;var c=a(76601),d=a(37266),_=a(94139),u=a(30381),m=a.n(u);const h={name:"ir-stock-yearly-modal-fetch",data:function(){return{fetch:{period_year:"",insurance_start_date:"",insurance_end_date:"",period_from:"",period_to:"",policy_set_header_id:"",department_from:"",department_to:""},rules:{period_year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],period_from:[{required:!0,message:"กรุณาระบุตั้งแต่เดือน",trigger:"change"}],period_to:[{required:!0,message:"กรุณาระบุถึงเดือน",trigger:"change"}]},getTimePeriodSt:"",getTimePeriodEn:"",showLoading:!1}},props:["setYearCE","vars","covertFomatDateMoment"],computed:{checkPeriodMonth:function(){var t=this.fetch.period_from,e=this.fetch.period_to;return!t||!e||this.getTimePeriodSt<=this.getTimePeriodEn}},methods:{clickSearch:function(){var t=this;this.$refs.form_stock_yearly_fetch.validate((function(e){if(!e)return!1;t.warningPeriod()&&t.checkFetch()}))},clickClear:function(){this.resetFields()},validateNotElUi:function(t,e){t?this.$refs.form_stock_yearly_fetch.fields.find((function(t){return t.prop==e})).clearValidate():this.$refs.form_stock_yearly_fetch.validateField(e)},checkFetch:function(){var t=this;t.showLoading=!0;var e={period_year:t.setYearCE("year",t.fetch.period_year),insurance_start_date:t.setYearCE("date",t.fetch.insurance_start_date),insurance_end_date:t.setYearCE("date",t.fetch.insurance_end_date),period_from:t.setYearCE("month",t.fetch.period_from),period_to:t.setYearCE("month",t.fetch.period_to),program_code:"IRP0001",policy_set_header_id:t.fetch.policy_set_header_id,department_from:t.fetch.department_from,department_to:t.fetch.department_to};axios.get("/ir/ajax/stocks/check-fetch",{params:e}).then((function(e){var a=e.data;"S"===a.status?t.getDataRows():"W"===a.status?swal({title:"Warning",text:a.msg,type:"warning",showCancelButton:!0,showConfirmButton:!0},(function(e){e?t.getDataRows():t.showLoading=!1})):(swal("Error",a.msg,"error"),t.showLoading=!1)})).catch((function(t){swal("Error",t,"error")}))},getDataRows:function(){var t=this;this.showLoading=!0;var e={period_year:this.setYearCE("year",this.fetch.period_year),insurance_start_date:this.setYearCE("date",this.fetch.insurance_start_date),insurance_end_date:this.setYearCE("date",this.fetch.insurance_end_date),period_from:this.setYearCE("month",this.fetch.period_from),period_to:this.setYearCE("month",this.fetch.period_to),program_code:"IRP0001",policy_set_header_id:this.fetch.policy_set_header_id,department_from:this.fetch.department_from,department_to:this.fetch.department_to};axios.get("/ir/ajax/stocks/fetch",{params:e}).then((function(e){var a=e.data;t.showLoading=!1,t.$emit("fetch-table-header",a.data.data),$("#modal_stock_yearly_fetch").modal("hide")})).catch((function(t){swal("Error",t,"error")}))},warningPeriod:function(){var t=this;if(this.checkPeriodMonth)return!0;swal({title:"Warning",text:"ฟิลด์ตั้งแต่เดือนต้องน้อยกว่าหรือเท่ากับฟิลด์ตั้งแต่เดือนถึง!",type:"warning"},(function(e){e&&(t.$refs.fetch_period_from.resetField(),t.$refs.fetch_period_to.resetField())}))},getDataInsuranceDate:function(){var t=this,e={year:this.setYearCE("year",this.fetch.period_year),keyword:""};axios.get("/ir/ajax/lov/effective-date",{params:e}).then((function(e){var a=e.data.data;null===a?(t.$refs.fetch_insurance_start_date.resetField(),t.$refs.fetch_insurance_end_date.resetField()):(t.fetch.insurance_start_date=a.start_date_active,t.fetch.insurance_end_date=a.end_date_active)})).catch((function(t){swal("Error",t,"error")}))},resetFields:function(){var t=this;this.$refs.form_stock_yearly_fetch.resetFields(),axios.get("/ir/ajax/lov/period-year").then((function(e){var a=e.data;t.fetch.period_year=a.data.period_year.toString(),t.fetch.period_year&&t.getValuePeriodYearModal(t.fetch.period_year)})).catch((function(t){swal("Error",t,"error")}))},getValuePolicyModal:function(t){this.fetch.policy_set_header_id=t},getValueDepartmentFromModal:function(t){this.fetch.department_from=t},getValueDepartmentToModal:function(t){this.fetch.department_to=t},getValuePeriodYearModal:function(t){var e=this.vars.formatYear;t?(this.fetch.period_year=m()(t).format(e),this.getDataInsuranceDate()):(this.fetch.period_year="",this.$refs.fetch_insurance_start_date.resetField(),this.$refs.fetch_insurance_end_date.resetField(),this.getDataInsuranceDate()),this.validateNotElUi(t,"period_year")},getValuePeriodFromModal:function(t){var e=this.vars.formatMonth;if(t){this.fetch.period_from=m()(t).format(e);var a=m()(t).add(11,"months");this.fetch.period_to=m()(a).format(e)}else this.fetch.period_from="",this.fetch.period_to="";this.validateNotElUi(t,"period_from"),this.validateNotElUi(t,"period_to")},getValuePeriodToModal:function(t){var e=this.vars.formatMonth;if(t){this.fetch.period_to=m()(t).format(e);var a=m()(t).add(-11,"months");this.fetch.period_from=m()(a).format(e)}else this.fetch.period_to="",this.fetch.period_from="";this.validateNotElUi(t,"period_to"),this.validateNotElUi(t,"period_from")}},components:{lovPolicySetHeaderId:d.Z,lovDepartment:_.Z}};const f=(0,s.Z)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_stock_yearly_fetch",tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading,expression:"showLoading"}]},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal",disabled:t.showLoading}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("p",{staticClass:"modal-title text-left"},[t._v("การดึงข้อมูล")])]),t._v(" "),a("el-form",{ref:"form_stock_yearly_fetch",staticClass:"demo-dynamic form_table_line",attrs:{model:t.fetch,"label-width":"120px",rules:t.rules}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ปี *")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_period_year",attrs:{prop:"period_year"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_period_year","p-type":"year",placeholder:"ปี",value:t.fetch.period_year,format:t.vars.formatYear},on:{dateWasSelected:t.getValuePeriodYearModal}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("วันที่คุ้มครอง")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_insurance_start_date",attrs:{prop:"insurance_start_date"}},[a("el-input",{attrs:{placeholder:"วันที่คุ้มครอง",disabled:""},model:{value:t.fetch.insurance_start_date,callback:function(e){t.$set(t.fetch,"insurance_start_date",e)},expression:"fetch.insurance_start_date"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_insurance_end_date",attrs:{prop:"insurance_end_date"}},[a("el-input",{attrs:{placeholder:"ถึงวันที่คุ้มครอง",disabled:""},model:{value:t.fetch.insurance_end_date,callback:function(e){t.$set(t.fetch,"insurance_end_date",e)},expression:"fetch.insurance_end_date"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("กรมธรรม์ชุดที่")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_policy_set_header_id",attrs:{prop:"policy_set_header_id"}},[a("lov-policy-set-header-id",{attrs:{name:"fetch_policy_set_header_id",size:"",placeholder:"กรมธรรม์ชุดที่",popperBody:!1,fixTypeFr:"10",fixTypeSc:""},on:{"change-lov":t.getValuePolicyModal},model:{value:t.fetch.policy_set_header_id,callback:function(e){t.$set(t.fetch,"policy_set_header_id",e)},expression:"fetch.policy_set_header_id"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ข้อมูลย้อนหลังตั้งแต่เดือน *")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_period_from",attrs:{prop:"period_from"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_period_from","p-type":"month",placeholder:"ข้อมูลย้อนหลังตั้งแต่เดือน",value:t.fetch.period_from,format:t.vars.formatMonth},on:{dateWasSelected:t.getValuePeriodFromModal}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ถึง *")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_period_to",attrs:{prop:"period_to"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_period_to","p-type":"month",placeholder:"ถึงเดือน",value:t.fetch.period_to,format:t.vars.formatMonth,disabledDateTo:t.fetch.period_from},on:{dateWasSelected:t.getValuePeriodToModal}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ตั้งแต่รหัสหน่วยงาน")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_department_from",attrs:{prop:"department_from"}},[a("lov-department",{attrs:{name:"fetch_department_from",placeholder:"ตั้งแต่รหัสหน่วยงาน",popperBody:!1,size:""},on:{"change-lov":t.getValueDepartmentFromModal},model:{value:t.fetch.department_from,callback:function(e){t.$set(t.fetch,"department_from",e)},expression:"fetch.department_from"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_department_to",attrs:{prop:"department_to"}},[a("lov-department",{attrs:{name:"fetch_department_to",placeholder:"ถึงรหัสหน่วยงาน",popperBody:!1,size:""},on:{"change-lov":t.getValueDepartmentToModal},model:{value:t.fetch.department_to,callback:function(e){t.$set(t.fetch,"department_to",e)},expression:"fetch.department_to"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.clickSearch()}}},[a("i",{staticClass:"fa fa-database"}),t._v(" ดึงข้อมูล\n          ")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),t._v(" รีเซต\n          ")])])])],1)])])])}),[],!1,null,null,null).exports;var p=a(87150);const v={name:"ir-stock-yearly-index-search",data:function(){return{rules:{period_year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}]},getTimePeriodSt:"",getTimePeriodEn:"",year:"",policies:[],loading:!1}},props:["search","setYearCE","vars","covertFomatDateMoment"],computed:{checkPeriodMonth:function(){var t=this.search.period_from,e=this.search.period_to;return!t||!e||this.getTimePeriodSt<=this.getTimePeriodEn}},methods:{clickSearch:function(){var t=this;this.$refs.search_stock_yearly.validate((function(e){if(!e)return!1;t.reqCalendar()&&(""===t.search.period_from&&""===t.search.period_to||t.search.period_from&&t.search.period_to?t.$emit("click-search",t.search):swal("Warning","กรุณาระบุช่วงเดือนให้ครบ!","warning"))}))},clickCancel:function(){window.location.href="/ir/stocks/yearly"},changeDepartmentFrom:function(t){this.search.department_from=t},changeDepartmentTo:function(t){this.search.department_to=t},reqCalendar:function(){var t=this;if(this.checkPeriodMonth)return!0;swal({title:"Warning",text:"ฟิลด์ข้อมูลย้อนหลังตั้งแต่เดือนต้องน้อยกว่าหรือเท่ากับฟิลด์ข้อมูลย้อนหลังตั้งแต่เดือนถึง!",type:"warning"},(function(e){e&&(t.search.period_from="",t.search.period_to="")}))},getDataPolicySetHeaderId:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:t}).then((function(t){var a=t.data;e.loading=!1,e.policies=a.data})).catch((function(t){swal("Error",t,"error")}))},remoteMethodPolicySt:function(t){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:t,type:"10",type2:""})},focusPolicySt:function(t){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"10",type2:""})},changePolicySt:function(t){this.search.policy_set_header_id=t},getDataInsuranceDate:function(t){var e=this;axios.get("/ir/ajax/lov/effective-date",{params:t}).then((function(t){var a=t.data.data;null===a?(e.search.insurance_start_date="",e.search.insurance_end_date=""):(e.search.insurance_start_date=a.start_date_active,e.search.insurance_end_date=a.end_date_active)})).catch((function(t){swal("Error",t,"error")}))},clickFetch:function(){this.$refs.modal_fetch.resetFields()},fetchTableHeader:function(t){this.$emit("fetch-show-table-header",t)},getValuePeriodYear:function(t){var e=this.vars.formatYear;t?(this.search.period_year=m()(t).format(e),this.getDataInsuranceDate({year:this.setYearCE("year",this.search.period_year),keyword:""})):(this.search.period_year="",this.search.insurance_start_date="",this.search.insurance_end_date="",this.getDataInsuranceDate({year:this.search.period_year,keyword:""}))},getValuePeriodFrom:function(t){var e=this.vars.formatMonth;if(t){this.search.period_from=m()(t).format(e);var a=m()(t).add(11,"months");this.search.period_to=m()(a).format(e)}else this.search.period_from="",this.search.period_to=""},getValuePeriodTo:function(t){var e=this.vars.formatMonth;if(t){this.search.period_to=m()(t).format(e);var a=m()(t).add(-11,"months");this.search.period_from=m()(a).format(e)}else this.search.period_to="",this.search.period_from=""},getValueStatus:function(t){this.search.status=t}},components:{yearInput:o.Z,lovDepartment:n,lovInsuranceDate:l,monthYearInput:c.Z,modalFetch:f,dropdownStatusIr:p.Z},mounted:function(){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"10",type2:""}),this.getDataInsuranceDate({year:this.search.period_year?+this.search.period_year-543:this.search.period_year,keyword:""})}};a(26430);const y=(0,s.Z)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"search_stock_yearly",staticClass:"demo-ruleForm",attrs:{model:t.search,"label-width":"120px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("ปี")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",{attrs:{prop:"period_year"}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"period_year","p-type":"year",placeholder:"ปี",value:t.search.period_year,format:t.vars.formatYear},on:{dateWasSelected:t.getValuePeriodYear}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("วันที่คุ้มครอง")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"วันที่คุ้มครอง",disabled:""},model:{value:t.search.insurance_start_date,callback:function(e){t.$set(t.search,"insurance_start_date",e)},expression:"search.insurance_start_date"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("ข้อมูลย้อนหลังตั้งแต่เดือน")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",{attrs:{prop:"period_from"}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"period_from","p-type":"month",placeholder:"ข้อมูลย้อนหลังตั้งแต่เดือน",value:t.search.period_from,format:t.vars.formatMonth},on:{dateWasSelected:t.getValuePeriodFrom}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("ตั้งแต่รหัสหน่วยงาน")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("lov-department",{attrs:{placeholder:"ตั้งแต่รหัสหน่วยงาน",attrName:"department_from"},on:{"change-lov":t.changeDepartmentFrom},model:{value:t.search.department_from,callback:function(e){t.$set(t.search,"department_from",e)},expression:"search.department_from"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-5 col-md-4 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("สถานะ")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",{attrs:{prop:"type_cost"}},[a("dropdown-status-ir",{attrs:{name:"status",size:"",popperBody:!0,disabled:!1,placeholder:"สถานะ"},on:{"change-lov":t.getValueStatus},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-4 col-md-3 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("กรมธรรม์ชุดที่")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"กรมธรรม์ชุดที่",name:"policy_set_header_id","remote-method":t.remoteMethodPolicySt,loading:t.loading,remote:"",clearable:!0,filterable:""},on:{focus:t.focusPolicySt,change:t.changePolicySt},model:{value:t.search.policy_set_header_id,callback:function(e){t.$set(t.search,"policy_set_header_id",e)},expression:"search.policy_set_header_id"}},t._l(t.policies,(function(t,e){return a("el-option",{key:e,attrs:{label:t.policy_set_number+": "+t.policy_set_description,value:t.policy_set_header_id}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-4 col-md-3 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"ถึงวันที่คุ้มครอง",disabled:""},model:{value:t.search.insurance_end_date,callback:function(e){t.$set(t.search,"insurance_end_date",e)},expression:"search.insurance_end_date"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-4 col-md-3 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",{attrs:{prop:"period_to"}},[a("datepicker-th",{staticClass:"el-input__inner md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"period_to","p-type":"month",placeholder:"ถึงเดือน",value:t.search.period_to,format:t.vars.formatMonth,disabledDateTo:t.search.period_from},on:{dateWasSelected:t.getValuePeriodTo}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-lg-4 col-md-3 col-sm-12 col-xs-12 col-form-label lable_align"},[a("strong",[t._v("ถึง")])]),t._v(" "),a("div",{staticClass:"col-lg-6 col-md-7 col-sm-12 col-xs-12 align-item-center"},[a("el-form-item",[a("lov-department",{attrs:{placeholder:"ถึงรหัสหน่วยงาน",attrName:"department_to"},on:{"change-lov":t.changeDepartmentTo},model:{value:t.search.department_to,callback:function(e){t.$set(t.search,"department_to",e)},expression:"search.department_to"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"text-right el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return t.clickSearch()}}},[a("i",{staticClass:"fa fa-search"}),t._v(" ค้นหา\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_stock_yearly_fetch"},on:{click:function(e){return t.clickFetch()}}},[a("i",{staticClass:"fa fa-database"}),t._v(" ดึงข้อมูล\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.clickCancel()}}},[a("i",{staticClass:"fa fa-repeat"}),t._v(" รีเซต\n        ")])])],1)]),t._v(" "),a("modal-fetch",{ref:"modal_fetch",attrs:{setYearCE:t.setYearCE,vars:t.vars,covertFomatDateMoment:t.covertFomatDateMoment},on:{"fetch-table-header":t.fetchTableHeader}})],1)}),[],!1,null,null,null).exports;const g={name:"ir-stock-yearly-index-table-header",props:["isNullOrUndefined","tableHeader","setFirstLetterUpperCase","showYearBE","checkStatusNew","formatCurrency"],data:function(){return{activeIndex:""}},computed:{tableTotal:function(){var t=null,e=0,a=0,o=0,r=0,s=0,n=0,i=[];return 0===this.tableHeader.length||(this.tableHeader.forEach((function(l){t=null,(t=i.find((function(t){return t.policy_set_number==l.policy_set_number})))?(t.amount+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_amount?parseFloat(l.total_amount):0,t.coverage+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_cover_amount?parseFloat(l.total_cover_amount):0,t.premium+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_insu_amount?parseFloat(l.total_insu_amount):0,t.duty_fee+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_duty_amount?parseFloat(l.total_duty_amount):0,t.net_amount+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_net_amount?parseFloat(l.total_net_amount):0,t.vat+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_vat_amount?parseFloat(l.total_vat_amount):0,t.status=l.status):i.push({policy_set_number:l.policy_set_number,group_name:"กรมธรรม์ชุดที่ "+l.policy_set_number,amount:("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_amount?parseFloat(l.total_amount):0,coverage:("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_cover_amount?parseFloat(l.total_cover_amount):0,premium:("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_insu_amount?parseFloat(l.total_insu_amount):0,duty_fee:("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_duty_amount?parseFloat(l.total_duty_amount):0,net_amount:("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_net_amount?parseFloat(l.total_net_amount):0,vat:("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_vat_amount?parseFloat(l.total_vat_amount):0,status:l.status}),e+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_amount?parseFloat(l.total_amount):0,a+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_cover_amount?parseFloat(l.total_cover_amount):0,o+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_insu_amount?parseFloat(l.total_insu_amount):0,r+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_duty_amount?parseFloat(l.total_duty_amount):0,s+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_net_amount?parseFloat(l.total_net_amount):0,n+=("CONFIRMED"==l.status||"INTERFACE"==l.status)&&l.total_vat_amount?parseFloat(l.total_vat_amount):0})),i.push({group_name:"Total",amount:e,coverage:a,premium:o,duty_fee:r,net_amount:s,vat:n})),i}},watch:{tableHeader:function(t,e){this.activeIndex=""}},methods:{clickRow:function(t,e){var a={department_code:this.isNullOrUndefined(t.department_code),department_desc:this.isNullOrUndefined(t.department_desc),document_number:this.isNullOrUndefined(t.document_number),period_from:this.isNullOrUndefined(t.period_from),period_to:this.isNullOrUndefined(t.period_to),policy_set_description:this.isNullOrUndefined(t.policy_set_description),policy_set_header_id:this.isNullOrUndefined(t.policy_set_header_id),status:this.isNullOrUndefined(t.status),period_year:this.isNullOrUndefined(t.period_year),inventory_desc:"Inventory",inventory_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_amount),inventory_cover_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_cover_amount),inventory_insu_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_insu_amount),manual_desc:"Manual",manual_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_amount),manual_cover_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_cover_amount),manual_insu_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_insu_amount),total_desc:"Total",total_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_amount),total_cover_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_cover_amount),total_insu_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_insu_amount),insurance_start_date:this.isNullOrUndefined(t.insurance_start_date),insurance_end_date:this.isNullOrUndefined(t.insurance_end_date),period_name:this.isNullOrUndefined(t.period_name),inventory_duty_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_duty_amount),inventory_vat_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_vat_amount),inventory_net_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.inventory_net_amount),manual_duty_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_duty_amount),manual_vat_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_vat_amount),manual_net_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.manual_net_amount),total_duty_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_duty_amount),total_vat_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_vat_amount),total_net_amount:this.checkStatusNew(t.status)?0:this.isNullOrUndefined(t.total_net_amount)};this.$emit("click-row",a),this.activeIndex=e}}};a(35827);const w=(0,s.Z)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"margin_top_20"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table_style"},[a("thead",[a("tr",{staticClass:"text-center"},[a("th",{directives:[{name:"show",rawName:"v-show",value:t.tableTotal.length>0,expression:"tableTotal.length > 0"}],staticClass:"text-nowrap"}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)])]),t._v(" "),a("tbody",{attrs:{id:"table_search"}},[t._l(t.tableTotal,(function(e,o){return[a("tr",{key:o,staticClass:"text-right"},[a("td",{staticClass:"text-nowrap",staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.group_name))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(e.amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(e.coverage)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(e.premium)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(e.duty_fee)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(e.vat)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(e.net_amount)))])])]})),t._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:0===t.tableTotal.length,expression:"tableTotal.length === 0"}],staticClass:"text-center"},[a("td",{attrs:{colspan:"99"}},[t._v("ไม่มีข้อมูล")])])],2),t._v(" "),a("tfoot")])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[t._m(6),t._v(" "),a("tbody",{attrs:{id:"table_search"}},[t._l(t.tableHeader,(function(e,o){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.tableHeader.length>0,expression:"tableHeader.length > 0"}],key:o,staticClass:"mouse-over",class:"style_row_show "+(o===t.activeIndex?"highlight":""),on:{click:function(a){return t.clickRow(e,o)}}},[a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button",href:"/ir/stocks/yearly/edit/"+e.header_id}},[t.isNullOrUndefined(e.document_number)?a("span",[t._v("View / Edit")]):a("span",[t._v("Select")])])]),t._v(" "),a("td",[t._v(t._s(t.setFirstLetterUpperCase(e.status)))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.showYearBE("year",e.period_year)))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.showYearBE("month",e.period_from)))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.showYearBE("month",e.period_to)))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.isNullOrUndefined(e.policy_set_number)))]),t._v(" "),a("td",[t._v("\n            "+t._s(t.isNullOrUndefined(e.policy_set_description))+"\n          ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(e.total_cover_amount)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(e.total_insu_amount)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n            "+t._s(t.isNullOrUndefined(e.total_rec)||0===t.isNullOrUndefined(e.total_rec)?t.formatCurrency(e.total_rec):t.isNullOrUndefined(e.total_rec))+"\n          ")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.isNullOrUndefined(e.department_code)))]),t._v(" "),a("td",[t._v(t._s(t.isNullOrUndefined(e.department_desc)))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.showYearBE("date",e.insurance_start_date)))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.showYearBE("date",e.insurance_end_date)))]),t._v(" "),a("td",[a("div",[t._v(t._s(t.isNullOrUndefined(e.document_number)))])]),t._v(" "),a("td",[a("div",[t._v(t._s(t.isNullOrUndefined(e.reference_document_number)))])])])})),t._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:0===t.tableHeader.length,expression:"tableHeader.length === 0"}],staticClass:"text-center mouse-over"},[a("td",{attrs:{colspan:"14"}},[t._v("ไม่มีข้อมูล")])])],2),t._v(" "),a("tfoot")])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-right"},[t._v("Total Amount"),a("br"),t._v("มูลค่าสินค้ารวม (บาท)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-right"},[t._v("Total Coverage Amount"),a("br"),t._v("มูลค่าทุนประกันรวม")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-right"},[t._v("Total Premium"),a("br"),t._v("ค่าเบี้ยประกันรวม")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-right"},[t._v("Total Duty Fee"),a("br"),t._v("อากรรวม")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-right"},[t._v("Total Vat"),a("br"),t._v("ภาษีมูลค่าเพิ่มรวม")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-right"},[t._v("Total Net Amount"),a("br"),t._v("ค่าเบี้ยประกันสุทธิรวม")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[t._v("Action")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("IR Status "),a("br"),t._v("สถานะ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("Year "),a("br"),t._v("ปี")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"170px"}},[t._v("Period From "),a("br"),t._v("ข้อมูลย้อนหลังตั้งแต่เดือน")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"170px"}},[t._v("Period To "),a("br"),t._v("ถึงเดือน")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[t._v("Policy No. "),a("br"),t._v("กรมธรรม์ชุดที่")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Policy Description "),a("br"),t._v("รายละเอียดกรมธรรม์ชุดที่")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"170px"}},[t._v("Total Coverage Amount "),a("br"),t._v("มูลค่าทุนประกันรวม")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[t._v("Total Premium "),a("br"),t._v("ค่าเบี้ยประกันรวม")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[t._v("Count "),a("br"),t._v("จำนวนรายการ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[t._v("Department Code "),a("br"),t._v("รหัสหน่วยงาน")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Department "),a("br"),t._v("หน่วยงาน")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[t._v("วันที่คุ้มครองตั้งแต่")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[t._v("วันที่คุ้มครองถึง")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"145px"}},[t._v("Document Number "),a("br"),t._v("เลขที่เอกสาร")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"145px"}},[t._v("Reference "),a("br"),t._v("Document")])])])}],!1,null,"2aca62e0",null).exports;const b={name:"ir-stock-yearly-index-table-total",data:function(){return{}},props:["formatCurrency","rowTotal"]};const C=(0,s.Z)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",{attrs:{id:"table_total"}},[a("tr",{staticClass:"text-right"},[a("td",[t._v(t._s(t.rowTotal.inventory_desc))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_cover_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_insu_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_duty_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_vat_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.inventory_net_amount)))])]),t._v(" "),a("tr",{staticClass:"text-right"},[a("td",[t._v(t._s(t.rowTotal.manual_desc))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_cover_amount)))]),t._v(" "),a("td",{staticClass:"el_field_table"},[t._v("\n          "+t._s(t.formatCurrency(t.rowTotal.manual_insu_amount))+"\n        ")]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_duty_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_vat_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.manual_net_amount)))])]),t._v(" "),a("tr",{staticClass:"text-right"},[a("td",[t._v(t._s(t.rowTotal.total_desc))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_cover_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_insu_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_duty_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_vat_amount)))]),t._v(" "),a("td",[t._v(t._s(t.formatCurrency(t.rowTotal.total_net_amount)))])])]),t._v(" "),a("tfoot")])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-right"},[a("th"),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Amount "),a("br"),t._v("มูลค่าสินค้ารวม (บาท)")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Coverage Amount "),a("br"),t._v("มูลค่าทุนประกันรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Premium "),a("br"),t._v("ค่าเบี้ยประกันรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Duty Fee "),a("br"),t._v("อากรรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Vat "),a("br"),t._v("ภาษีมูลค่าเพิ่มรวม")]),t._v(" "),a("th",{staticClass:"width_table"},[t._v("Total Net Amount "),a("br"),t._v("ค่าเบี้ยประกันสุทธิรวม")])])])}],!1,null,null,null).exports;var x=a(67791);const k={name:"ir-stock-yearly-index",data:function(){return{tableHeader:[],rowTotal:{department_code:"",department_desc:"",document_number:"",period_from:"",period_to:"",policy_set_description:"",policy_set_header_id:"",status:"",period_year:"",inventory_desc:"Inventory",inventory_amount:"",inventory_cover_amount:"",inventory_insu_amount:"",manual_desc:"Manual",manual_amount:"",manual_cover_amount:"",manual_insu_amount:"",total_desc:"Total",total_amount:"",total_cover_amount:"",total_insu_amount:"",inventory_duty_amount:"",inventory_vat_amount:"",inventory_net_amount:"",manual_duty_amount:"",manual_vat_amount:"",manual_net_amount:"",total_duty_amount:"",total_vat_amount:"",total_net_amount:""},rowTotalDefault:{department_code:"",department_desc:"",document_number:"",period_from:"",period_to:"",policy_set_description:"",policy_set_header_id:"",status:"",period_year:"",inventory_desc:"Inventory",inventory_amount:"",inventory_cover_amount:"",inventory_insu_amount:"",manual_desc:"Manual",manual_amount:"",manual_cover_amount:"",manual_insu_amount:"",total_desc:"Total",total_amount:"",total_cover_amount:"",total_insu_amount:"",inventory_duty_amount:"",inventory_vat_amount:"",inventory_net_amount:"",manual_duty_amount:"",manual_vat_amount:"",manual_net_amount:"",total_duty_amount:"",total_vat_amount:"",total_net_amount:""},search:{period_year:"",insurance_start_date:"",insurance_end_date:"",policy_set_header_id:"",status:"",period_from:"",period_to:"",department_from:"",department_to:""},headerRow:{},period_year:"",insuranceDate:[],changeFieldManualInsuAmount:!1,manual_insu_amount:"",old_manual_insu_amount:"",funcs:x.sD,mocks:x.R_,vars:x.gR,showLoading:!1}},methods:{getTableHeader:function(){var t=this;this.showLoading=!0;var e={period_year:this.funcs.setYearCE("year",this.search.period_year),insurance_start_date:this.funcs.setYearCE("date",this.search.insurance_start_date),insurance_end_date:this.funcs.setYearCE("date",this.search.insurance_end_date),policy_set_header_id:this.search.policy_set_header_id,status:this.search.status,period_from:this.funcs.setYearCE("month",this.search.period_from),period_to:this.funcs.setYearCE("month",this.search.period_to),department_from:this.search.department_from,department_to:this.search.department_to,program_code:"IRP0001"};axios.get("/ir/ajax/stocks",{params:e}).then((function(e){var a=e.data;t.showLoading=!1,t.tableHeader=a.data,t.rowTotal=t.rowTotalDefault})).catch((function(t){swal("Error",t,"error")}))},getDataSearch:function(t){this.search=t,this.getTableHeader()},getDataRowShowTableTotal:function(t){t.old_manual_insu_amount&&(this.old_manual_insu_amount=+t.old_manual_insu_amount),this.rowTotal=t},fetchShowTableHeader:function(t){this.tableHeader=t,this.rowTotal=this.rowTotalDefault}},components:{indexSearch:y,indexTableHeader:w,indexTableTotal:C}};const N=(0,s.Z)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading,expression:"showLoading"}]},[a("index-search",{attrs:{search:t.search,setYearCE:t.funcs.setYearCE,vars:t.vars,covertFomatDateMoment:t.funcs.covertFomatDateMoment},on:{"click-search":t.getDataSearch,"fetch-show-table-header":t.fetchShowTableHeader}}),t._v(" "),a("index-table-header",{attrs:{isNullOrUndefined:t.funcs.isNullOrUndefined,tableHeader:t.tableHeader,setFirstLetterUpperCase:t.funcs.setFirstLetterUpperCase,showYearBE:t.funcs.showYearBE,checkStatusNew:t.funcs.checkStatusNew,formatCurrency:t.funcs.formatCurrency},on:{"click-row":t.getDataRowShowTableTotal}}),t._v(" "),a("index-table-total",{attrs:{formatCurrency:t.funcs.formatCurrency,rowTotal:t.rowTotal}})],1)}),[],!1,null,null,null).exports},26430:(t,e,a)=>{var o=a(59305);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,a(45346).Z)("23bbbd71",o,!0,{})},35827:(t,e,a)=>{var o=a(7969);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,a(45346).Z)("5477342c",o,!0,{})}}]);