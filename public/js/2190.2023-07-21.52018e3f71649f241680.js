(self.webpackChunk=self.webpackChunk||[]).push([[2190],{82190:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>u});var n=a(87757),s=a.n(n),r=a(30381),c=a.n(r);function i(t,e,a,n,s,r,c){try{var i=t[r](c),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(n,s)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function c(t){i(r,n,s,c,l,"next",t)}function l(t){i(r,n,s,c,l,"throw",t)}c(void 0)}))}}const o={props:["customer","customers","bankAccount","bankAccounts","bankAccountTypes","defaultValue","old","bankUniques","banks","branchs"],data:function(){return{customerResult:"",bankResult:"",customer_id:this.old.customer_id?Number(this.old.customer_id):this.defaultValue?Number(this.defaultValue.customer_id):"",customer_name:this.old.customer_name?this.old.customer_name:this.defaultValue?this.customer.customer_name:"",bank_id:this.old.bank_id?this.old.bank_id:this.defaultValue?this.defaultValue.bank_id:"",bank_name:this.old.bank_name?this.old.bank_name:this.defaultValue?this.bank_name:"",account_num:this.old.account_number?this.old.account_number:this.defaultValue?this.defaultValue.account_number:"",account_type_id:this.old.account_type_id?this.old.account_type_id:this.defaultValue?this.defaultValue.account_type_id:"",disabledEdit:!!this.defaultValue,start_date:this.defaultValue?this.defaultValue.start_date:"",end_date:this.defaultValue?this.defaultValue.end_date:"",disabledDateTo:this.start_date?this.start_date:null,branchLoading:!1,branch_id:this.old.branch_id?Number(this.old.branch_id):this.defaultValue?Number(this.defaultValue.branch_id):"",branch_name:"",branchLists:[]}},mounted:function(){this.old.start_date&&this.old.end_date||this.showDate(),this.bank_id&&(this.setBankName(),this.getBankBranchs(),this.branch_id&&this.setBranchName())},methods:{setCustomerName:function(){var t=this;return l(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.customer_id?(a=t.customers.filter((function(e){return e.customer_id==t.customer_id})),t.customerResult=a[0],t.customer_name=t.customerResult.customer_name):t.customerResult=null;case 1:case"end":return e.stop()}}),e)})))()},setBankName:function(){var t=this;return l(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.bank_id?(a=t.banks.filter((function(e){return e.bank_party_id==t.bank_id})),t.bankResult=a[0],t.bank_name=t.bankResult.bank_name):t.bankResult=null;case 1:case"end":return e.stop()}}),e)})))()},onlyNumeric:function(){this.account_num=this.account_num.replace(/[^0-9 .]/g,"")},showDate:function(){var t=this;return l(s().mark((function e(){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.start_date){e.next=5;break}return e.next=3,helperDate.parseToDateTh(t.start_date,"yyyy-MM-DD");case 3:a=e.sent,t.start_date=a;case 5:if(!t.end_date){e.next=10;break}return e.next=8,helperDate.parseToDateTh(t.end_date,"yyyy-MM-DD");case 8:n=e.sent,t.end_date=n;case 10:case"end":return e.stop()}}),e)})))()},fromDateWasSelected:function(t){this.disabledDateTo=c()(t).format("DD/MM/YYYY")},getBankBranchs:function(){var t=this;return l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.bank_id||(t.branchLoading=!0,t.branch_id="",t.branchLists=[]),axios.get("/om/ajax/get-bank-branchs",{params:{bank_id:t.bank_id}}).then((function(e){t.branchLoading=!1,t.branchLists=e.data}));case 2:case"end":return e.stop()}}),e)})))()},setBranchName:function(){var t=this;return l(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.branch_id?(a=t.branchs.filter((function(e){return e.branch_party_id==t.branch_id})),t.bankResult=a[0],t.branch_name=t.bankResult.bank_branch_name):t.bankResult=null;case 1:case"end":return e.stop()}}),e)})))()}}};const u=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[t._m(0),t._v(" "),a("input",{attrs:{type:"hidden",name:"customer_id",autocomplete:"off"},domProps:{value:t.customer_id}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:t.setCustomerName},model:{value:t.customer_id,callback:function(e){t.customer_id=e},expression:"customer_id"}},t._l(t.customers,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_number+" : "+t.customer_name,value:t.customer_id}})})),1)],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" ชื่อลูกค้า ")]),t._v(" "),a("el-input",{attrs:{name:"customer_name",disabled:""},model:{value:t.customer_name,callback:function(e){t.customer_name=e},expression:"customer_name"}})],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[t._m(1),t._v(" "),a("input",{attrs:{type:"hidden",name:"bank_id",autocomplete:"off"},domProps:{value:t.bank_id}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:function(e){t.setBankName(),t.getBankBranchs()}},model:{value:t.bank_id,callback:function(e){t.bank_id=e},expression:"bank_id"}},t._l(t.banks,(function(t){return a("el-option",{key:t.bank_party_id,attrs:{label:t.bank_number+" : "+t.bank_name,value:t.bank_party_id}})})),1)],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" ชื่อธนาคาร ")]),t._v(" "),a("el-input",{attrs:{name:"bank_name",disabled:""},model:{value:t.bank_name,callback:function(e){t.bank_name=e},expression:"bank_name"}})],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:this.branchLoading,expression:"this.branchLoading"}],staticClass:"col-md-5"},[a("label",[t._v(" รหัสสาขา ")]),t._v(" "),a("input",{attrs:{type:"hidden",name:"branch_id",autocomplete:"off"},domProps:{value:t.branch_id}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.branchLists.length<1},on:{change:t.setBranchName},model:{value:t.branch_id,callback:function(e){t.branch_id=e},expression:"branch_id"}},t._l(t.branchLists,(function(t){return a("el-option",{key:t.branch_party_id,attrs:{label:t.branch_number+" : "+t.bank_branch_name,value:t.branch_party_id}})})),1)],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" ชื่อสาขา ")]),t._v(" "),a("el-input",{attrs:{name:"branch_name",disabled:""},model:{value:t.branch_name,callback:function(e){t.branch_name=e},expression:"branch_name"}})],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[t._m(2),t._v(" "),a("el-input",{attrs:{name:"account_num"},on:{input:t.onlyNumeric},model:{value:t.account_num,callback:function(e){t.account_num=e},expression:"account_num"}})],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" ประเภทบัญชี ")]),t._v(" "),a("input",{attrs:{type:"hidden",name:"account_type_id",autocomplete:"off"},domProps:{value:t.account_type_id}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},model:{value:t.account_type_id,callback:function(e){t.account_type_id=e},expression:"account_type_id"}},t._l(t.bankAccountTypes,(function(t){return a("el-option",{key:t.lookup_code,attrs:{label:t.description,value:t.lookup_code}})})),1)],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" วันที่เริ่มต้น ")]),t._v(" "),a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"start_date",placeholder:"โปรดเลือกวันที่",format:"DD-MM-YYYY"},on:{dateWasSelected:t.fromDateWasSelected},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" วันที่สิ้นสุด ")]),t._v(" "),a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"end_date",placeholder:"โปรดเลือกวันที่",format:"DD-MM-YYYY","disabled-date-to":t.disabledDateTo},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v(" รหัสลูกค้า "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v(" ธนาคาร "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v(" หมายเลขบัญชี "),a("span",{staticClass:"text-danger"},[t._v("*")])])}],!1,null,null,null).exports}}]);