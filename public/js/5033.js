(self.webpackChunk=self.webpackChunk||[]).push([[5033,7213],{67791:(t,e,a)=>{"use strict";a.d(e,{gR:()=>o,R_:()=>i,sD:()=>c});var n=a(30381),r=a.n(n),o={formatDate:"DD/MM/YYYY",formatMonth:"MM/YYYY",formatYear:"YYYY",monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i={irp0001_table_header:[{document_number:"",status:"NEW",period_year:"2020",period_name:"Jan-20",period_from:"12/01/2020",period_to:"12/01/2020",policy_set_number:"1",policy_set_description:"POLICY SET DESCRIPTION",department_code:"DEPARTMENT CODE",department_desc:"DEPARTMENT DESC"}],irp0001_table_line:[{line_number:"1",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"INTERFACE",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"3",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"CONFIRMED",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"}],irp0010_table_header:[{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},{claim_header_id:"2",status:"INTERFACE",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"}],irp0010_form:{headers:{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},apply:{apply_company:[{company_id:55,company_name:"บริษัท เทเวศประกันภัย จำกัด (มหาชน)",claim_percent:"40",claim_amount:"140000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""},{company_id:54,company_name:"บริษัท ทิพยประกันภัย จำกัด (มหาชน)",claim_percent:"60",claim_amount:"160000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""}]}},irp0002_table_line:[{status:"NEW",line_number:"",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"111",unit_price:"2",line_amount:"222",coverage_amount:"230",calculate_days:"2",calculate_start_date:"12/01/2020",calculate_end_date:"15/01/2020"}]},c={setFirstLetterUpperCase:function(t){if(t&&null!=t){var e=t.toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}return t},setYearCE:function(t,e){var a="",n="month"===t?o.formatMonth:"date"===t?o.formatDate:"year"===t?o.formatYear:"";return e&&n?a=r()(r()(e,n).subtract(543,"years").toDate()).format(n):a},setYearBE:function(t,e){var a="",n="month"===t?o.formatMonth:"date"===t?o.formatDate:"year"===t?o.formatYear:"";return e&&n?a=r()(r()(e,n).add(543,"years").toDate()).format(n):a},showYearBE:function(t,e){var a="";if("month"===t&&e&&null!=e){var n=e.split("/"),r=+n[1]+543;return a="".concat(n[0],"/").concat(r)}if("date"===t&&e&&null!=e){var o=e.split("/"),i=+o[2]+543;return a="".concat(o[0],"/").concat(o[1],"/").concat(i)}return"year"===t&&e&&null!=e?+e+543:a},getTime:function(t){var e="";if(t&&null!=t){var a=t.split("/");return e=new Date("".concat(a[1],"/").concat(a[0],"/").concat(a[2])).getTime()}return e},calculateDate:function(t,e){var a="",n="";if(t&&e){var r=c.getTime(t),o=c.getTime(e);a=(n=Math.round(Math.abs((o-r)/864e5)))?n+1:n}return a},checkStatusInterface:function(t){return!(!t||"INTERFACE"!==t.toUpperCase())},checkStatusCancelled:function(t){return!(!t||"CANCELLED"!==t.toUpperCase())},isNullOrUndefined:function(t){return null==t?"":t},formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="";if(t||0===t){a=parseFloat(t);var n=t.toString().split(".");if(void 0===n[1]){var r=parseInt(n[0]).toFixed(e).split(".")[1];return"".concat(parseInt(n[0]).toLocaleString(),".").concat(r)}if(0==a.toString().split(".")[0]){var o=a.toFixed(e).split(".")[1];return"".concat(a.toString().split(".")[0],".").concat(o)}var i=a.toFixed(e).split(".")[1],c="".concat(parseInt(n[0]).toLocaleString(),".").concat(i);return c}return a},formatfloat:function(t){return t.slice(0,t.indexOf(".")+1+2)},checkStatusConfirmed:function(t){if(t)return"CONFIRMED"===t.toUpperCase()},showPeriodNameFormat:function(t){if(t){var e=t.split("-"),a=new Date("".concat(e[0]," 01, ").concat(e[1])),n=a.getFullYear(),r=1===(a.getMonth()+1).toString().length?"0".concat(a.getMonth()+1):a.getMonth()+1;return"".concat(r,"/").concat(n+543)}return t},setValuePeriodNameFormat:function(t){var e="";if(t&&null!=t){var a=o.monthNameShort[t.getMonth()],n=(+t.getFullYear()-543).toString(),r=n.substr(n.length-2);e="".concat(a,"-").concat(r)}return e},checkStatusNew:function(t){if(t&&"NEW"===t.toUpperCase())return!0},calculateDateMomentTable:function(t){var e=o.formatDate,a="",n="",i="",c=t.start_calculate_date,s=t.end_calculate_date;if(c&&s){var l=helperDate.convertDate(c,e),_=helperDate.convertDate(s,e);l.then((function(o){a=r()(o,e),_.then((function(o){n=r()(o,e),i=n.diff(a,"days"),t.days=-1===Math.sign(i)?"":i+1}))}))}else t.days=""},covertFomatDateMoment:function(t,e){var a="date"===e?o.formatDate:"month"===e?o.formatMonth:"year"===e?o.formatYear:"";return t&&e?r()(t).format(a):""},setBudgetYearFromFieldStCalendar:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",a=("date"===e?o.formatDate:"month"===e?o.formatMonth:"year"===e&&o.formatYear,"");if(t){var n=t.getFullYear(),i=r()({year:n,month:8,date:30}),c=r()({year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),s=c.isAfter(i)?1:0;return r()(r()({year:n+s,month:8,date:30}),o.formatDate).toDate()}return a},setLabelStatusAsset:function(t){return"Y"===t?"Active":"N"===t?"Inactive":""},setFotmatPeriodNameIsFullDate:function(t){if(t){var e=t.split("-"),a=new Date("".concat(e[0]," 01, ").concat(e[1]));return r()(a).format(o.formatDate)}return""},setFullDateIsDateCE:function(t){var e="";if(t){var a=r()(t).format(o.formatDate);return e=c.setYearCE("date",a)}return e},setLabelExpenseFlag:function(t){return"Y"==t?"Yes":"No"},setLabelVatRefund:function(t){return"Y"==t?"Yes":"No"},setDefaultActive:function(t){var e=$(".".concat(t)).is(":checked");$(".".concat(t)).prop("checked",!e)},setDefaultEndDateIsLastDateOfMonth:function(t){var e=o.formatDate;if(t){var a=r()(t).endOf("month");return r()(a).format(e)}return""}}},84889:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var n=a(23645),r=a.n(n)()((function(t){return t[1]}));r.push([t.id,"td[data-v-4fffd250],th[data-v-4fffd250]{padding:.25rem}th[data-v-4fffd250]{background:#fff;position:sticky;top:0}",""]);const o=r},45033:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>p});var n=a(57213);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c={name:"ir-settings-company-table",data:function(){return{}},props:["isNullOrUndefined","tableCompany","setDefaultActive","btnTrans"],methods:{changeChecked:function(t,e){var a=this,n=o(o({},t),{},{active_flag:t.active_flag?"Y":"N"});axios.put("/ir/ajax/company/active-flag",{data:n}).then((function(t){var e=t.data;swal({title:"Success",text:e.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})).catch((function(t){400===t.response.data.status?swal({title:"Warning",text:t.response.data.message,type:"warning"},(function(t){t&&a.setDefaultActive("table_company_active".concat(e))})):swal("Error",t,"error")}))}}};a(13188);var s=a(51900);const l=(0,s.Z)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-bordered",style:0===t.tableCompany.length?"":"display: block; overflow: auto; max-height: 500px;"},[t._m(0),t._v(" "),a("tbody",[t._l(t.tableCompany,(function(e,n){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.tableCompany.length>0,expression:"tableCompany.length > 0"}],key:n},[a("td",{staticClass:"text-center"},[t._v(t._s(t.isNullOrUndefined(e.company_number)))]),t._v(" "),a("td",[t._v(t._s(t.isNullOrUndefined(e.company_name)))]),t._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.active_flag,expression:"data.active_flag"}],class:"form-check-input table_company_active"+n,staticStyle:{position:"inherit"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active_flag)?t._i(e.active_flag,null)>-1:e.active_flag},on:{change:[function(a){var n=e.active_flag,r=a.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(e,"active_flag",n.concat([null])):i>-1&&t.$set(e,"active_flag",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(e,"active_flag",o)},function(a){return t.changeChecked(e,n)}]}})])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{class:t.btnTrans.edit.class+" btn-sm tw-w-25",attrs:{type:"button",href:"/ir/settings/company/edit/"+e.company_id}},[a("i",{class:t.btnTrans.edit.icon}),t._v(" "+t._s(t.btnTrans.edit.text)+"\n          ")])])])})),t._v(" "),0===t.tableCompany.length?a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"4"}},[t._v("ไม่มีข้อมูล")])]):t._e()],2),t._v(" "),a("tfoot")])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"25%"}},[t._v("Code "),a("br"),t._v("รหัส")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"50%"}},[t._v("Name "),a("br"),t._v("ชื่อ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px",width:"25%","vertical-align":"middle"}},[t._v("Active")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px",width:"25%","vertical-align":"middle"}},[t._v("Action")])])])}],!1,null,"4fffd250",null).exports;var _=a(67791);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const m={name:"ir-settings-company-index",props:["btnTrans"],data:function(){return{search:{company_id:"",active_flag:""},tableCompany:[],funcs:_.sD}},methods:{getTableCompany:function(){var t=this,e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.search);axios.get("/ir/ajax/company",{params:e}).then((function(e){var a=e.data.data;for(var n in a){var r=a[n];"Y"===r.active_flag?r.active_flag=!0:r.active_flag=!1}t.tableCompany=a})).catch((function(t){swal("Error",t,"error")}))},getDataSearch:function(t){this.search=t,this.getTableCompany()}},components:{"search-comp":n.default,"table-comp":l},created:function(){this.getTableCompany()}};const p=(0,s.Z)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search-comp",{attrs:{search:t.search,"btn-trans":t.btnTrans},on:{"click-search":t.getDataSearch}}),t._v(" "),a("table-comp",{attrs:{isNullOrUndefined:t.funcs.isNullOrUndefined,tableCompany:t.tableCompany,setDefaultActive:t.funcs.setDefaultActive,"btn-trans":t.btnTrans}})],1)}),[],!1,null,null,null).exports},57213:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});const n={name:"ir-settings-company-search",data:function(){return{companies:[],loading:!1,create:{company_number:"",company_name:"",company_address:"",company_telephone:"",vendor_id:"",vendor_site_id:"",customer_id:"",active_flag:!0,company_id:""}}},props:["search","btnTrans"],methods:{remoteMethodCompany:function(t){this.getCompanies({company_id:"",keyword:t})},getCompanies:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/companies",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.companies=a})).catch((function(t){return consle.log("error ",t)}))},clickSearch:function(){this.$emit("click-search",this.search)},focusCompany:function(t){this.getCompanies({company_id:"",keyword:""})},clickCancel:function(){window.location.href="/ir/settings/company"}},mounted:function(){this.getCompanies({company_id:"",keyword:""})}};const r=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-md-6 el_select padding_12"},[a("el-select",{attrs:{filterable:"",placeholder:"ระบุข้อมูลผู้รับประกัน",name:"company_id","remote-method":t.remoteMethodCompany,loading:t.loading,remote:"",clearable:""},on:{focus:t.focusCompany},model:{value:t.search.company_id,callback:function(e){t.$set(t.search,"company_id",e)},expression:"search.company_id"}},t._l(t.companies,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_number+": "+t.company_name,value:t.company_id}})})),1)],1),t._v(" "),a("div",{staticClass:"col-xl-4 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"Status",name:"active_flag",clearable:!0},model:{value:t.search.active_flag,callback:function(e){t.$set(t.search,"active_flag",e)},expression:"search.active_flag"}},[a("el-option",{attrs:{label:"Active",value:"Y"}}),t._v(" "),a("el-option",{attrs:{label:"Inactive",value:"N"}})],1)],1),t._v(" "),a("div",{staticClass:"col-xl-4 padding_12 margin_auto_btn_search"},[a("button",{class:t.btnTrans.search.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.clickSearch()}}},[a("i",{class:t.btnTrans.search.icon}),t._v("\n        "+t._s(t.btnTrans.search.text)+"\n      ")]),t._v(" "),a("button",{class:t.btnTrans.reset.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.clickCancel()}}},[a("i",{class:t.btnTrans.reset.icon}),t._v("\n        "+t._s(t.btnTrans.reset.text)+"\n      ")])])])}),[],!1,null,null,null).exports},51900:(t,e,a)=>{"use strict";function n(t,e,a,n,r,o,i,c){var s,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),i?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=s):r&&(s=c?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),s)if(l.functional){l._injectStyles=s;var _=l.render;l.render=function(t,e){return s.call(e),_(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,s):[s]}return{exports:t,options:l}}a.d(e,{Z:()=>n})},13188:(t,e,a)=>{var n=a(84889);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);(0,a(45346).Z)("19cb07cb",n,!0,{})}}]);