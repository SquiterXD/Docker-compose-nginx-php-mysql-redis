(self.webpackChunk=self.webpackChunk||[]).push([[3705,2434],{63705:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var o=r(87757),s=r.n(o),n=r(30381),a=r.n(n);function i(e,t,r,o,s,n,a){try{var i=e[n](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(o,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(o,s){var n=e.apply(t,r);function a(e){i(n,o,s,a,l,"next",e)}function l(e){i(n,o,s,a,l,"throw",e)}a(void 0)}))}}const c={name:"Index",components:{InputGroupRepetition:r(2434).default},props:["numbers","invoices","customers","url","uomlist"],data:function(){return{orderLines:[],claimLines:[],result:[],filterNumber:this.numbers,filterInvoice:this.invoices,filterCustomer:this.customers,filterUomList:this.uomlist,loading:{data:!1},loadingInvoice:!1,loadingNumber:!1,selNumber:[],numberSelected:"",dsaNumber:!1,selInvoice:[],invoiceSelected:"",dsaInvoice:!1,selCustomer:[],customerSelected:"",dsaCustomer:!1,firstSearch:!0,enaSearch:!0,enaRow:[],curRmaQty:[],prvRmaQty:[],rmaQtyMessage:[],enaConfirmRma:!0,procAdding:!1,isCigaratte:!1,isNewRma:!1,kilometers:0,meters:0,cgc:0,cg2:0,cgp:0,cgk:0}},mounted:function(){console.log("Rma domestic mounted...")},methods:{remoteNumbers:function(e){var t=this;return l(s().mark((function r(){var o,n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(o=t).loadingNumber=!0,n={keyword:""==e?"":e},r.next=5,axios.get(o.url.ajax_get_number_list,{params:n}).then((function(e){o.loadingNumber=!1,o.filterNumber=e.data})).catch((function(e){o.loadingNumber=!1,o.filterNumber=[]})).then((function(){}));case 5:case"end":return r.stop()}}),r)})))()},remoteInvoice:function(e){var t=this;return l(s().mark((function r(){var o,n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(o=t).loadingInvoice=!0,n={keyword:""==e?"":e},r.next=5,axios.get(o.url.ajax_get_invoice_list,{params:n}).then((function(e){o.loadingInvoice=!1,o.filterInvoice=e.data})).catch((function(e){o.loadingInvoice=!1,o.filterInvoice=[]})).then((function(){}));case 5:case"end":return r.stop()}}),r)})))()},onClearSearch:function(){location.reload()},onAdd:function(){var e=this;e.dsaNumber=!0,e.selNumber.rma_date=a()().add(543,"years").format("DD/MM/YYYY"),e.selNumber.status_rma="Draft",e.procAdding=!0},onSearch:function(){var e=this;console.log(e.selNumber),"10"==e.selInvoice.product_type_code&&(e.isCigaratte=!0),Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),axios.get(e.url.ajax_get_lines,{params:{claim_header_id:e.selNumber.claim_header_id}}).then((function(t){e.orderLines=t.data.lines,Swal.close()})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},onNumberChange:function(){var e=this;return l(s().mark((function t(){var r,o,n,i,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.filterNumber.findIndex((function(e){return e.rma_number==r.numberSelected}));case 3:if(o=t.sent,r.selNumber=r.filterNumber[o],r.selNumber.rma_date=a()(r.selNumber.rma_date).add(543,"years").format("DD/MM/YYYY"),!r.firstSearch){t.next=24;break}return r.firstSearch=!1,t.next=10,r.filterCustomer.findIndex((function(e){return e.customer_id==r.selNumber.customer_id}));case 10:return n=t.sent,r.selCustomer=r.filterCustomer[n],r.customerSelected=r.selCustomer.customer_number,t.next=15,r.filterInvoice.findIndex((function(e){return e.order_header_id==r.selNumber.invoice_id}));case 15:i=t.sent,r.selInvoice=r.filterInvoice[i],r.selInvoice.pick_release_approve_date=a()(r.selInvoice.pick_release_approve_date).add(543,"years").format("DD/MM/YYYY"),r.invoiceSelected=r.selInvoice.pick_release_no,r.dsaNumber=!0,r.dsaCustomer=!0,r.dsaInvoice=!0,t.next=33;break;case 24:if(""!=r.invoiceSelected){t.next=31;break}return t.next=27,r.filterInvoice.findIndex((function(e){return e.order_header_id==r.selNumber.invoice_id}));case 27:l=t.sent,r.selInvoice=r.filterInvoice[l],r.selInvoice.pick_release_approve_date=a()(r.selInvoice.pick_release_approve_date).add(543,"years").format("DD/MM/YYYY"),r.invoiceSelected=r.selInvoice.pick_release_no;case 31:r.dsaNumber=!0,r.dsaInvoice=!0;case 33:case"end":return t.stop()}}),t)})))()},onInvoiceChange:function(){var e=this;return l(s().mark((function t(){var r,o,n,i,l,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e).procAdding){t.next=21;break}return t.next=4,r.filterInvoice.findIndex((function(e){return e.pick_release_no==r.invoiceSelected}));case 4:return o=t.sent,r.selInvoice=r.filterInvoice[o],r.selInvoice.pick_release_approve_date=a()(r.selInvoice.pick_release_approve_date).add(543,"years").format("DD/MM/YYYY"),r.dsaInvoice=!0,t.next=10,r.filterCustomer.findIndex((function(e){return e.customer_id==r.selInvoice.customer_id}));case 10:return n=t.sent,r.selCustomer=r.filterCustomer[n],r.customerSelected=r.selCustomer.customer_number,r.dsaCustomer=!0,"10"==r.selInvoice.product_type_code&&(r.isCigaratte=!0),Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),t.next=19,axios.get(r.url.ajax_get_invoice_lines,{params:{order_header_id:r.selInvoice.order_header_id}}).then((function(e){r.orderLines=e.data.lines,Swal.close()})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 19:t.next=48;break;case 21:if(!r.firstSearch){t.next=42;break}return r.firstSearch=!1,t.next=25,r.filterInvoice.findIndex((function(e){return e.pick_release_no==r.invoiceSelected}));case 25:return i=t.sent,r.selInvoice=r.filterInvoice[i],r.selInvoice.pick_release_approve_date=a()(r.selInvoice.pick_release_approve_date).add(543,"years").format("DD/MM/YYYY"),r.dsaInvoice=!0,t.next=31,r.filterCustomer.findIndex((function(e){return e.customer_id==r.selInvoice.customer_id}));case 31:return l=t.sent,r.selCustomer=r.filterCustomer[l],r.customerSelected=r.selCustomer.customer_number,r.dsaCustomer=!0,r.filterNumber=[],Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),t.next=40,axios.get(r.url.ajax_get_by_invoice,{params:{pick_release_no:r.invoiceSelected}}).then((function(e){r.filterNumber=e.data.numbers,r.selCustomer=e.data.customer,Swal.close()})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error, ajax_get_by_invoice",e.message),console.log(e.config)}));case 40:t.next=48;break;case 42:return t.next=44,r.filterInvoice.findIndex((function(e){return e.pick_release_no==r.invoiceSelected}));case 44:c=t.sent,r.selInvoice=r.filterInvoice[c],r.selInvoice.pick_release_approve_date=a()(r.selInvoice.pick_release_approve_date).add(543,"years").format("DD/MM/YYYY"),r.dsaInvoice=!0;case 48:case"end":return t.stop()}}),t)})))()},onCustomerChange:function(){var e=this;return l(s().mark((function t(){var r,o,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e).procAdding){t.next=13;break}return t.next=4,r.filterCustomer.findIndex((function(e){return e.customer_number==r.customerSelected}));case 4:return o=t.sent,r.selCustomer=r.filterCustomer[o],r.filterInvoice=[],Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),t.next=11,axios.get(r.url.ajax_get_by_customer,{params:{customer_id:r.selCustomer.customer_id}}).then((function(e){r.filterInvoice=e.data.invoices,Swal.close()})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 11:t.next=24;break;case 13:return r.firstSearch=!1,t.next=16,r.filterCustomer.findIndex((function(e){return e.customer_number==r.customerSelected}));case 16:return n=t.sent,r.selCustomer=r.filterCustomer[n],r.filterNumber=[],r.filterInvoice=[],Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),t.next=24,axios.get(r.url.ajax_get_by_customer,{params:{customer_id:r.selCustomer.customer_id}}).then((function(e){r.filterNumber=e.data.numbers,r.filterInvoice=e.data.invoices,Swal.close()})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 24:r.dsaCustomer=!0;case 25:case"end":return t.stop()}}),t)})))()},onSave:function(){var e=this;if("Draft"!=e.selNumber.status_rma)Swal.fire({icon:"error",title:"ไม่สามารถบันทึกได้",text:"เนื่องสถานะไม่ใช่ Draft !",footer:"สถานะ : "+e.selNumber.status_rma});else if(0==e.orderLines.length)Swal.fire({icon:"error",title:"ไม่สามารถบันทึกข้อมูล",text:"เนื่องจากไม่มีรายการผลิตภัณฑ์ !"});else{if(Swal.fire({title:"กำลังบันทึกข้อมูล"}),Swal.showLoading(),e.orderLines.length)for(var t=0,r=0;r<e.orderLines.length;r++)1==e.enaRow[r]&&(t+=1,e.claimLines.push({claim_line_id:e.orderLines[r].claim_line_id,item_id:e.orderLines[r].item_id,item_code:e.orderLines[r].item_code,item_description:e.orderLines[r].item_description,order_quantity:e.orderLines[r].approve_quantity,order_line_id:e.orderLines[r].order_line_id,unit_price:e.orderLines[r].unit_price,uom_code:e.orderLines[r].uom_code,rma_quantity:null==e.orderLines[r].rma_quantity?null:e.orderLines[r].rma_quantity,rma_uom_code:e.orderLines[r].uom_code,rma_quantity_cbb:null==e.orderLines[r].rma_quantity_cbb?null:e.orderLines[r].rma_quantity_cbb,rma_quantity_carton:null==e.orderLines[r].rma_quantity_carton?null:e.orderLines[r].rma_quantity_carton,rma_quantity_pack:null==e.orderLines[r].rma_quantity_pack?null:e.orderLines[r].rma_quantity_pack,enter_rma_quantity:null==e.orderLines[r].enter_rma_quantity?null:e.orderLines[r].enter_rma_quantity,enter_rma_uom:null==e.orderLines[r].enter_rma_uom?null:e.orderLines[r].enter_rma_uom,rma_line_no:t}));e.procAdding?axios.patch(e.url.ajax_create_rma,{invoice:e.selInvoice,lines:e.claimLines,rma_date:e.selNumber.rma_date,status_rma:e.selNumber.status_rma,symptom_description:e.selNumber.symptom_description}).then(function(){var t=l(s().mark((function t(r){var o,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("S"!=r.data.result.status){t.next=19;break}return o=r.data.latestHeader,t.next=4,axios.get(e.url.ajax_get_new_number).then((function(t){e.filterNumber=t.data.newNumbers})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_get_new_number",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 4:return e.selNumber=o,e.numberSelected=r.data.result.doc_sequence_number,e.selNumber.rma_date=a()(e.selNumber.rma_date).add(543,"years").format("DD/MM/YYYY"),e.procAdding=!1,t.next=10,e.filterInvoice.findIndex((function(t){return t.order_header_id==e.selNumber.invoice_id}));case 10:return n=t.sent,e.selInvoice=e.filterInvoice[n],e.selNumber.province_name=e.selInvoice.province_name,t.next=15,axios.get(e.url.ajax_get_lines,{params:{claim_header_id:e.selNumber.claim_header_id}}).then((function(t){e.orderLines=t.data.lines})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_get_lines",e.message),console.log(e.config)}));case 15:swal.close(),Swal.fire({icon:"success",title:"บันทึกข้อมูลสำเร็จ",footer:r.data.result.message}),t.next=21;break;case 19:swal.close(),Swal.fire({icon:"error",title:"บันทึกข้อมูลไม่สำเร็จ!",footer:r.data.result.message});case 21:e.procAdding=!1,e.enaRow=[];case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})})):(axios.patch(e.url.ajax_update_rma,{claim_header_id:e.selNumber.claim_header_id,symptom_description:e.selNumber.symptom_description,claim_lines:e.claimLines}).then((function(e){swal.close(),"S"==e.data.result.status?Swal.fire({icon:"success",title:"บันทึกข้อมูลสำเร็จ",footer:e.data.result.message}):Swal.fire({icon:"error",title:"บันทึกข้อมูลไม่สำเร็จ!",footer:e.data.result.message})})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})})),e.enaRow=[])}},onConfirm:function(){var e=this;"Draft"!=e.selNumber.status_rma?Swal.fire({icon:"error",title:"ไม่สามารถยืนยันได้",text:"เนื่องสถานะไม่ใช่ Draft !",footer:"สถานะ : "+e.selNumber.status_rma}):0==e.orderLines.length?Swal.fire({icon:"error",title:"ไม่สามารถบันทึกข้อมูล",text:"เนื่องจากไม่มีรายการผลิตภัณฑ์ !"}):Swal.fire({title:"ต้องการยืนยันการคืนสินค้าหรือไม่",text:"โดยหากกดปุ่มยืนยันแล้วระบบจะส่งข้อมูลให้ WMS ทำการคืนของเข้าระบบ และออกใบลดหนี้",icon:"warning",showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ยืนยัน",cancelButtonText:"ยกเลิก"}).then(function(){var t=l(s().mark((function t(r){var o,n,i,c,u,m,d,_;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.isConfirmed){t.next=33;break}return Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),t.next=5,axios.get(e.url.ajax_get_previous_rma,{params:{invoiceNo:e.selInvoice.pick_release_no}}).then((function(t){e.previousRma=t.data.previousRma})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_get_previous_rma",e.message),console.log(e.config)}));case 5:if(!e.previousRma.length){t.next=33;break}for(o="",n=!1,i=0;i<e.orderLines.length;i++)for(c=0;c<e.previousRma.length;c++)e.previousRma[c].item_code==e.orderLines[i].item_code&&(console.log("item_code =>"+e.previousRma[c].item_code+" previousRma =>"+e.previousRma[c].prvRmaQty),console.log("canReturn => "+e.previousRma[c].canReturn+" returnRequest =>"+e.orderLines[i].rma_quantity),(e.orderLines[i].rma_quantity>e.previousRma[c].canReturn||e.orderLines[i].rma_quantity<0)&&(n=!0,o+=e.orderLines[i].item_code+"/"+e.orderLines[i].item_description+", "));if(1!=n){t.next=14;break}return Swal.close(),Swal.fire({icon:"error",title:"ไม่สามารถยืนยันได้",text:"เนื่องจากขอคืนเกินจำนวนหรือเลือกหน่วยนับไม่ถูกต้อง",footer:"กรุณาตรวจสอบรหัสผลิตภัณฑ์ : "+o}),n=!1,t.abrupt("return");case 14:if(console.log("Continue rma process..."),!e.procAdding){t.next=29;break}if(console.log("Start create rma number..."),e.orderLines.length)for(u=0,m=0;m<e.orderLines.length;m++)1==e.enaRow[m]&&(u+=1,e.claimLines.push({item_id:e.orderLines[m].item_id,item_code:e.orderLines[m].item_code,item_description:e.orderLines[m].item_description,order_quantity:e.orderLines[m].approve_quantity,order_line_id:e.orderLines[m].order_line_id,unit_price:e.orderLines[m].unit_price,uom_code:e.orderLines[m].uom_code,rma_quantity:null==e.orderLines[m].rma_quantity?null:e.orderLines[m].rma_quantity,rma_uom_code:e.orderLines[m].uom_code,rma_quantity_cbb:null==e.orderLines[m].rma_quantity_cbb?null:e.orderLines[m].rma_quantity_cbb,rma_quantity_carton:null==e.orderLines[m].rma_quantity_carton?null:e.orderLines[m].rma_quantity_carton,rma_quantity_pack:null==e.orderLines[m].rma_quantity_pack?null:e.orderLines[m].rma_quantity_pack,enter_rma_quantity:null==e.orderLines[m].enter_rma_quantity?null:e.orderLines[m].enter_rma_quantity,enter_rma_uom:null==e.orderLines[m].enter_rma_uom?null:e.orderLines[m].enter_rma_uom,rma_line_no:u}));return t.next=20,axios.patch(e.url.ajax_create_rma,{invoice:e.selInvoice,lines:e.claimLines,rma_date:e.selNumber.rma_date,status_rma:e.selNumber.status_rma,symptom_description:e.selNumber.symptom_description}).then(function(){var t=l(s().mark((function t(r){var o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.data.latestHeader,t.next=3,axios.get(e.url.ajax_get_new_number).then((function(t){e.filterNumber=t.data.newNumbers})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_get_new_number",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 3:e.selNumber=o,e.numberSelected=r.data.result.doc_sequence_number,e.selNumber.rma_date=a()(e.selNumber.rma_date).add(543,"years").format("DD/MM/YYYY"),console.log("Create rma number success ...");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_create_rma",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 20:return e.procAdding=!1,t.next=23,e.filterInvoice.findIndex((function(t){return t.order_header_id==e.selNumber.invoice_id}));case 23:return d=t.sent,e.selInvoice=e.filterInvoice[d],e.selNumber.province_name=e.selInvoice.province_name,console.log("claim_header_id :"+e.selNumber.claim_header_id),t.next=29,axios.get(e.url.ajax_get_lines,{params:{claim_header_id:e.selNumber.claim_header_id}}).then((function(t){e.orderLines=t.data.lines})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_get_lines",e.message),console.log(e.config)}));case 29:return console.log("Start confirm rma..."),_={claimHeader:e.selNumber,claimLines:e.orderLines,orderHeader:e.selInvoice},t.next=33,axios.patch(e.url.ajax_confirm_rma,_).then((function(t){"S"==t.data.result.status?(e.selNumber.status_rma="Confirm",e.selNumber.credit_note_number=t.data.result.cnNumber,console.log(e.selNumber.status_rma),console.log(e.selNumber.credit_note_number),e.procAdding=!1,e.enaRow=[],swal.close(),Swal.fire({icon:"success",title:"บันทึกข้อมูลสำเร็จ",footer:t.data.result.message})):(swal.close(),Swal.fire({icon:"error",title:"บันทึกข้อมูลไม่สำเร็จ!",footer:t.data.result.message}))})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error ajax_confirm_rma",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 33:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},onCancel:function(){var e=this;"Cancelled"==e.selNumber.status_rma?Swal.fire({icon:"error",title:"ไม่สามารถยกเลิกได้",text:"เนื่องสถานะไม่ใช่ Confirm หรือ Draft !",footer:"สถานะ : "+e.selNumber.status_rma}):Swal.fire({title:"โปรดระบุเหตุผลที่ต้องการยกเลิก",input:"textarea",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ยืนยัน",cancelButtonText:"ยกเลิก",preConfirm:function(t){if(0==t.length||null==t)return console.log("Text box is empty."),void Swal.fire({icon:"error",title:"ไม่สามารถยกเลิกได้",text:"เนื่องจากไม่ระบุเหตุผล!"});Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),axios.get(e.url.ajax_cancel_rma,{params:{rma_number:e.selNumber.rma_number,cn_number:null==e.selNumber.credit_note_number?"null":e.selNumber.credit_note_number,rma_status:e.selNumber.status_rma,pick_release_no:e.selInvoice.pick_release_no,rma_cancel_reason:t}}).then((function(t){Swal.close(),console.log(t.data.result),"S"==t.data.result.status?(e.selNumber.status_rma="Cancelled",Swal.fire({icon:"success",title:"ยกเลิกสำเร็จ",footer:t.data.result.message})):Swal.fire({icon:"error",title:"ยกเลิกไม่สำเร็จ!",footer:t.data.result.message})})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error, ajax_cancel_rma",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}))}})},onTest:function(){var e="65RMA0035";this.numberSelected=e,this.refreshPage(e)},onTestUom:function(){console.clear(),console.log("orderLines =>"),console.log(this.orderLines),console.log("selNumber =>"),console.log(this.selNumber),console.log("selInvoice =>"),console.log(this.selInvoice)},onTest_number:function(){this.numberSelected="65RMA0036"},onTest_a:function(){Swal.fire({icon:"success",title:"Hello",text:"This is test"});var e=this;"10"==e.selInvoice.product_type_code&&(e.isCigaratte=!0),Swal.fire({title:"กรุณารอสักครู่"}),Swal.showLoading(),axios.get(e.url.ajax_get_lines,{params:{claim_header_id:e.selNumber.claim_header_id}}).then((function(t){e.orderLines=t.data.lines,console.log("return from ajax_get_line"),console.log(e.orderLines),Swal.close()})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},sumCgkO:function(e){var t=0;if(this.isCigaratte){t=this.orderLines[e].cgc_cgk*this.orderLines[e].approve_cardboardbox+this.orderLines[e].cg2_cgk*this.orderLines[e].approve_carton}else t=this.orderLines[e].rma_quantity;return t},sumCgkR:function(e){var t,r=0;return t=(void 0===this.orderLines[e].rma_quantity_cbb?0:this.orderLines[e].cgc_cgk*this.orderLines[e].rma_quantity_cbb)+(void 0===this.orderLines[e].rma_quantity_carton?0:this.orderLines[e].cg2_cgk*this.orderLines[e].rma_quantity_carton)+(void 0===this.orderLines[e].rma_quantity_pack?0:this.orderLines[e].cgp_cgk*this.orderLines[e].rma_quantity_pack),this.isCigaratte&&(this.orderLines[e].rma_quantity=t),this.curRmaQty[e]=t,r=void 0===this.prvRmaQty[e]?0:this.prvRmaQty[e],console.log(e+"  Item : =>"+r+"/"+t),t},rmaQuantity:function(e){var t=this;return l(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,axios.get(t.url.ajax_convert_unit,{params:{orgId:t.selInvoice.org_id,itemId:t.orderLines[e].item_id,qty:t.orderLines[e].enter_rma_quantity,fromUnit:t.orderLines[e].enter_rma_uom,toUnit:t.orderLines[e].uom_code}}).then((function(r){t.orderLines[e].rma_quantity=r.data.convertResult})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error, ajax_convert_unit",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 2:console.log("orgId : "+t.selInvoice.org_id),console.log("itemId : "+t.orderLines[e].item_id),console.log("qty : "+t.orderLines[e].enter_rma_quantity),console.log("fromUnit :"+t.orderLines[e].enter_rma_uom),console.log("toUnit :"+t.orderLines[e].uom_code),console.log("result :"+t.orderLines[e].rma_quantity);case 8:case"end":return r.stop()}}),r)})))()},rmaQuantityCi:function(e){var t=this;return l(s().mark((function r(){var o,n,a,i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=0,n=0,a=0,i=0,void 0!==t.orderLines[e].rma_quantity_cbb){r.next=8;break}n=0,r.next=10;break;case 8:return r.next=10,axios.get(t.url.ajax_convert_unit,{params:{orgId:t.selInvoice.org_id,itemId:t.orderLines[e].item_id,qty:t.orderLines[e].rma_quantity_cbb,fromUnit:"CGC",toUnit:t.orderLines[e].uom_code}}).then((function(r){n=r.data.convertResult,console.log("orgId : "+t.selInvoice.org_id),console.log("itemId : "+t.orderLines[e].item_id),console.log("qty : "+t.orderLines[e].enter_rma_quantity),console.log("fromUnit :CGC"),console.log("toUnit :"+t.orderLines[e].uom_code),console.log("result :"+n)})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error, ajax_convert_unit",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 10:if(void 0!==t.orderLines[e].rma_quantity_carton){r.next=14;break}a=0,r.next=16;break;case 14:return r.next=16,axios.get(t.url.ajax_convert_unit,{params:{orgId:t.selInvoice.org_id,itemId:t.orderLines[e].item_id,qty:t.orderLines[e].rma_quantity_carton,fromUnit:"CG2",toUnit:t.orderLines[e].uom_code}}).then((function(r){a=r.data.convertResult,console.log("orgId : "+t.selInvoice.org_id),console.log("itemId : "+t.orderLines[e].item_id),console.log("qty : "+t.orderLines[e].enter_rma_quantity),console.log("fromUnit :CG2"),console.log("toUnit :"+t.orderLines[e].uom_code),console.log("result :"+a)})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error, ajax_convert_unit",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 16:if(void 0!==t.orderLines[e].rma_quantity_pack){r.next=20;break}i=0,r.next=22;break;case 20:return r.next=22,axios.get(t.url.ajax_convert_unit,{params:{orgId:t.selInvoice.org_id,itemId:t.orderLines[e].item_id,qty:t.orderLines[e].rma_quantity_pack,fromUnit:"CGP",toUnit:t.orderLines[e].uom_code}}).then((function(r){i=r.data.convertResult,console.log("orgId : "+t.selInvoice.org_id),console.log("itemId : "+t.orderLines[e].item_id),console.log("qty : "+t.orderLines[e].enter_rma_quantity),console.log("fromUnit :CGP"),console.log("toUnit :"+t.orderLines[e].uom_code),console.log("result :"+i)})).catch((function(e){Swal.close(),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error, ajax_convert_unit",e.message),console.log(e.config),Swal.fire({icon:"error",title:"เกิดข้อผิดพลาด!",footer:e.message})}));case 22:o=parseFloat(n)+parseFloat(a)+parseFloat(i),t.orderLines[e].rma_quantity=parseFloat(o),console.log("itemIdx => "+e),console.log("rma_quantity_cbb => "+t.orderLines[e].rma_quantity_cbb),console.log("rma_quantity_carton => "+t.orderLines[e].rma_quantity_carton),console.log("rma_quantity_pack => "+t.orderLines[e].rma_quantity_pack),console.log("rma_quantity => "+t.orderLines[e].rma_quantity);case 29:case"end":return r.stop()}}),r)})))()}},computed:{},watch:{kilometers:function(e){this.kilometers=e,this.meters=1e3*e},meters:function(e){this.kilometers=e/1e3,this.meters=e},cgc:function(e){this.cgc=e,this.cg2=50*e,this.cgp=500*e,this.cgk=10*e},cg2:function(e){this.cg2=e,this.cgc=.02*e,this.cgp=10*e,this.cgk=.2*e},cgp:function(e){this.cgp=e,this.cgc=.002*e,this.cg2=.1*e,this.cgk=.02*e},cgk:function(e){this.cgk=e},"selInvoice.rma_quantity":function(){this.isCigaratte}}};const u=(0,r(51900).Z)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-lg-12"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.data,expression:"loading.data"}],staticClass:"ibox"},[r("div",{staticClass:"ibox-title"},[r("h5",[e._v("คืนสินค้า (RMA)")]),e._v(" "),r("div",{staticClass:"form-header-buttons"},[r("div",{staticClass:"d-flex"},[r("button",{staticClass:"btn btn-md btn-white",on:{click:e.onClearSearch}},[r("i",{staticClass:"fa fa-repeat"})])]),e._v(" "),r("div",{staticClass:"buttons multiple"},[r("button",{staticClass:"btn btn-md btn-success",attrs:{type:"button"},on:{click:e.onAdd}},[r("i",{staticClass:"fa fa-plus"}),e._v("\n                                    สร้าง\n                                ")]),e._v(" "),r("button",{staticClass:"btn btn-md btn-white",attrs:{type:"button"},on:{click:e.onSearch}},[r("i",{staticClass:"fa fa-search"}),e._v("\n                                    ค้นหา\n                                ")]),e._v(" "),r("div",{staticClass:"dropdown"},[e._m(0),e._v(" "),r("ul",{staticClass:"dropdown-menu"},[r("li",[r("a",{attrs:{disabled:""},on:{click:e.onSave}},[e._v("บันทึก")])]),e._v(" "),r("li",[r("a",{on:{click:e.onConfirm}},[e._v("ยืนยัน")])]),e._v(" "),r("li",[r("a",{on:{click:e.onCancel}},[e._v("ยกเลิก")])])])])])])]),e._v(" "),r("div",{staticClass:"ibox-content"},[r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("เลขที่คืนสินค้า")]),e._v(" "),r("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.data,expression:"loading.data"}],staticClass:"col-sm-12 px-0",staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",loading:e.loadingNumber,"remote-method":e.remoteNumbers,disabled:e.dsaNumber,placeholder:"กรุณาเลือกเลขที่คืนสินค้า"},on:{change:e.onNumberChange},model:{value:e.numberSelected,callback:function(t){e.numberSelected=t},expression:"numberSelected"}},e._l(this.filterNumber,(function(t){return r("el-option",{key:t.rma_number,attrs:{label:t.rma_number,value:t.rma_number,selected:t.rma_number==e.numberSelected}})})),1)],1)]),e._v(" "),r("div",{staticClass:"col-sm-4"},[r("label",[e._v("วันที่คืนสินค้า")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selNumber.rma_date,expression:"selNumber.rma_date"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selNumber.rma_date},on:{input:function(t){t.target.composing||e.$set(e.selNumber,"rma_date",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"col-sm-4"},[r("label",[e._v("สถานะ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selNumber.status_rma,expression:"selNumber.status_rma"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selNumber.status_rma},on:{input:function(t){t.target.composing||e.$set(e.selNumber,"status_rma",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("อ้างอิง Invoice เลขที่")]),e._v(" "),r("el-select",{staticClass:"col-sm-12 px-0",staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",loading:e.loadingInvoice,"remote-method":e.remoteInvoice,disabled:e.dsaInvoice,placeholder:"กรุณาเลือกเลขที่ Invoice"},on:{change:e.onInvoiceChange},model:{value:e.invoiceSelected,callback:function(t){e.invoiceSelected=t},expression:"invoiceSelected"}},e._l(this.filterInvoice,(function(t){return r("el-option",{key:t.pick_release_no,attrs:{label:t.pick_release_no,value:t.pick_release_no,selected:t.pick_release_no==e.invoiceSelected}})})),1)],1)]),e._v(" "),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("วันที่ Invoice")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selInvoice.pick_release_approve_date,expression:"selInvoice.pick_release_approve_date"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selInvoice.pick_release_approve_date},on:{input:function(t){t.target.composing||e.$set(e.selInvoice,"pick_release_approve_date",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("เลขที่ใบลดหนี้")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selNumber.credit_note_number,expression:"selNumber.credit_note_number"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selNumber.credit_note_number},on:{input:function(t){t.target.composing||e.$set(e.selNumber,"credit_note_number",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("รหัสร้านค้า")]),e._v(" "),r("el-select",{staticClass:"col-sm-12 px-0",staticStyle:{width:"100%"},attrs:{filterable:"",disabled:e.dsaCustomer,placeholder:"กรุณาเลือกรหัสร้านค้า"},on:{change:e.onCustomerChange},model:{value:e.customerSelected,callback:function(t){e.customerSelected=t},expression:"customerSelected"}},e._l(this.filterCustomer,(function(t){return r("el-option",{key:t.customer_number,attrs:{label:t.customer_number+" : "+t.customer_name,value:t.customer_number,selected:t.customer_number==e.customerSelected}})})),1)],1)]),e._v(" "),r("div",{staticClass:"col-sm-8"},[r("div",{staticClass:"form-group"},[r("label",[e._v("ชื่อร้านค้า")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selCustomer.customer_name,expression:"selCustomer.customer_name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selCustomer.customer_name},on:{input:function(t){t.target.composing||e.$set(e.selCustomer,"customer_name",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("สั่งทาง")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selInvoice.source_system,expression:"selInvoice.source_system"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selInvoice.source_system},on:{input:function(t){t.target.composing||e.$set(e.selInvoice,"source_system",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("หมายเหตุสั่งทาง")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selInvoice.remark_source_system,expression:"selInvoice.remark_source_system"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selInvoice.remark_source_system},on:{input:function(t){t.target.composing||e.$set(e.selInvoice,"remark_source_system",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-4"},[r("div",{staticClass:"form-group"},[r("label",[e._v("สถานที่จัดส่งสินค้า")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selInvoice.ship_to_site_name,expression:"selInvoice.ship_to_site_name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.selInvoice.ship_to_site_name},on:{input:function(t){t.target.composing||e.$set(e.selInvoice,"ship_to_site_name",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",[e._v("หมายเหตุรายการ")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selNumber.symptom_description,expression:"selNumber.symptom_description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:e.selNumber.symptom_description},on:{input:function(t){t.target.composing||e.$set(e.selNumber,"symptom_description",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"hr-line-dashed"}),e._v(" "),r("div",{staticClass:"col-xl-12"},[e.isCigaratte?r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-bordered text-center table-hover f13"},[e._m(1),e._v(" "),e.orderLines.length?r("tbody",e._l(e.orderLines,(function(t,o){return r("tr",{key:o},[r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.enaRow[o],expression:"enaRow[itemIdx]"}],attrs:{type:"checkbox",disabled:"Confirm"==e.selNumber.status_rma||"Cancelled"==e.selNumber.status_rma},domProps:{checked:Array.isArray(e.enaRow[o])?e._i(e.enaRow[o],null)>-1:e.enaRow[o]},on:{change:function(t){var r=e.enaRow[o],s=t.target,n=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&e.$set(e.enaRow,o,r.concat([null])):a>-1&&e.$set(e.enaRow,o,r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.enaRow,o,n)}}})]),e._v(" "),r("td",[e._v(e._s(o+1))]),e._v(" "),r("td",[e._v(e._s(t.item_code))]),e._v(" "),r("td",[e._v(e._s(t.item_description))]),e._v(" "),r("td",[e._v(e._s(t.approve_cardboardbox))]),e._v(" "),r("td",[e._v(e._s(t.approve_carton))]),e._v(" "),r("td",[r("vue-numeric",{staticClass:"form-control",staticStyle:{"text-align":"right"},attrs:{separator:",",disabled:!e.enaRow[o]},on:{change:function(t){return e.rmaQuantityCi(o)}},model:{value:t.rma_quantity_cbb,callback:function(r){e.$set(t,"rma_quantity_cbb",r)},expression:"item.rma_quantity_cbb"}})],1),e._v(" "),r("td",[r("vue-numeric",{staticClass:"form-control",staticStyle:{"text-align":"right"},attrs:{separator:",",disabled:!e.enaRow[o]},on:{change:function(t){return e.rmaQuantityCi(o)}},model:{value:t.rma_quantity_carton,callback:function(r){e.$set(t,"rma_quantity_carton",r)},expression:"item.rma_quantity_carton"}})],1),e._v(" "),r("td",[r("vue-numeric",{staticClass:"form-control",staticStyle:{"text-align":"right"},attrs:{separator:",",disabled:!e.enaRow[o]},on:{change:function(t){return e.rmaQuantityCi(o)}},model:{value:t.rma_quantity_pack,callback:function(r){e.$set(t,"rma_quantity_pack",r)},expression:"item.rma_quantity_pack"}})],1)])})),0):r("tbody",[e._m(2)])])]):r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-bordered text-center table-hover f13"},[e._m(3),e._v(" "),e.orderLines.length?r("tbody",e._l(e.orderLines,(function(t,o){return r("tr",{key:o},[r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.enaRow[o],expression:"enaRow[itemIdx]"}],attrs:{type:"checkbox",disabled:"Draft"!=e.selNumber.status_rma},domProps:{checked:Array.isArray(e.enaRow[o])?e._i(e.enaRow[o],null)>-1:e.enaRow[o]},on:{change:function(t){var r=e.enaRow[o],s=t.target,n=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&e.$set(e.enaRow,o,r.concat([null])):a>-1&&e.$set(e.enaRow,o,r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.enaRow,o,n)}}})]),e._v(" "),r("td",[e._v(e._s(o+1))]),e._v(" "),r("td",[e._v(e._s(t.item_code))]),e._v(" "),r("td",[e._v(e._s(t.item_description))]),e._v(" "),r("td",[e._v(e._s(t.order_quantity))]),e._v(" "),r("td",[e._v(e._s(t.uom))]),e._v(" "),r("td",[r("vue-numeric",{staticClass:"form-control",staticStyle:{"text-align":"right"},attrs:{separator:",",disabled:!e.enaRow[o]},on:{change:function(t){return e.rmaQuantity(o)}},model:{value:t.enter_rma_quantity,callback:function(r){e.$set(t,"enter_rma_quantity",r)},expression:"item.enter_rma_quantity"}})],1),e._v(" "),r("td",[r("el-select",{attrs:{filterable:"",disabled:!e.enaRow[o],placeholder:"กรุณาเลือกหน่วยนับ"},on:{change:function(t){return e.rmaQuantity(o)}},model:{value:t.enter_rma_uom,callback:function(r){e.$set(t,"enter_rma_uom",r)},expression:"item.enter_rma_uom"}},e._l(e.filterUomList,(function(e){return r("el-option",{key:e.uom_code,attrs:{label:e.unit_of_measure,value:e.uom_code}})})),1)],1)])})),0):r("tbody",[e._m(4)])])])])])])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-md btn-primary m-0",attrs:{"data-toggle":"dropdown",type:"button"}},[e._v("\n                                        ปุ่มคำสั่ง "),r("i",{staticClass:"fa fa-caret-down"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",{staticClass:"align-middle"},[r("th",{attrs:{rowspan:"2"}},[e._v("เลือก")]),e._v(" "),r("th",{attrs:{rowspan:"2"}},[e._v("รายการที่")]),e._v(" "),r("th",{attrs:{rowspan:"2"}},[e._v("รหัสผลิตภัณฑ์")]),e._v(" "),r("th",{attrs:{rowspan:"2"}},[e._v("ชื่อผลิตภัณฑ์")]),e._v(" "),r("th",{attrs:{colspan:"2"}},[e._v("จำนวนที่ซื้อ")]),e._v(" "),r("th",{attrs:{colspan:"3"}},[e._v("จำนวนที่ขอคืน")])]),e._v(" "),r("tr",{staticClass:"align-middle"},[r("th",{staticClass:"w-80"},[e._v("หีบ")]),e._v(" "),r("th",{staticClass:"w-80"},[e._v("ห่อ")]),e._v(" "),r("th",{staticClass:"w-80"},[e._v("หีบ")]),e._v(" "),r("th",{staticClass:"w-80"},[e._v("ห่อ")]),e._v(" "),r("th",{staticClass:"w-80"},[e._v("ซอง")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"9"}},[e._v("ไม่พบข้อมูล")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",{staticClass:"align-middle"},[r("th",{attrs:{rowspan:"2"}},[e._v("เลือก")]),e._v(" "),r("th",{attrs:{rowspan:"2"}},[e._v("รายการที่")]),e._v(" "),r("th",{attrs:{rowspan:"2"}},[e._v("รหัสผลิตภัณฑ์")]),e._v(" "),r("th",{attrs:{rowspan:"2"}},[e._v("ชื่อผลิตภัณฑ์")]),e._v(" "),r("th",{attrs:{colspan:"2"}},[e._v("จำนวนที่ซื้อ")]),e._v(" "),r("th",{attrs:{colspan:"3"}},[e._v("จำนวนที่ขอคืน")])]),e._v(" "),r("tr",{staticClass:"align-middle"},[r("th",{staticClass:"w-80"},[e._v("จำนวน")]),e._v(" "),r("th",{staticClass:"w-80"},[e._v("หน่วยนับ")]),e._v(" "),r("th",{staticClass:"w-80"},[e._v("จำนวน")]),e._v(" "),r("th",{staticClass:"w-80",staticStyle:{width:"180px"}},[e._v("หน่วยนับ")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"9"}},[e._v("ไม่พบข้อมูล")])])}],!1,null,"f52b9904",null).exports},2434:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});const o={props:["repeatFlagValue","repeatTimeHourValue","repeatTimeMinValue","repeatQtyValue"],data:function(){return{repeatFlag:"true"==this.repeatFlagValue,repeatTimeHour:this.repeatTimeHourValue,repeatTimeMin:this.repeatTimeMinValue,repeatQty:this.repeatQtyValue}},mounted:function(){},methods:{onRepeatTimeHourChanged:function(e){e.target.value>=10&&(this.repeatTimeHour=10,this.repeatTimeMin=0)},onRepeatTimeMinChanged:function(e){e.target.value>59&&(this.repeatTimeMin=59),this.repeatTimeHour>=10&&(this.repeatTimeMin=0)},onFlagChanged:function(e){this.repeatFlag=e}}};const s=(0,r(51900).Z)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row form-group"},[r("div",{staticClass:"col-md-12"},[r("qm-el-checkbox",{attrs:{value:e.repeatFlag,label:"สร้างซ้ำ",name:"repeat_flag",size:"small"},on:{change:e.onFlagChanged}})],1)]),e._v(" "),e.repeatFlag?r("div",{staticClass:"row form-group"},[e._m(0),e._v(" "),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatTimeHour,expression:"repeatTimeHour"}],staticClass:"form-control text-center",attrs:{type:"number",name:"repeat_time_hour",min:0,max:12},domProps:{value:e.repeatTimeHour},on:{blur:e.onRepeatTimeHourChanged,input:function(t){t.target.composing||(e.repeatTimeHour=t.target.value)}}})]),e._v(" "),e._m(1),e._v(" "),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatTimeMin,expression:"repeatTimeMin"}],staticClass:"form-control text-center",attrs:{type:"number",name:"repeat_time_min",min:0,max:59},domProps:{value:e.repeatTimeMin},on:{blur:e.onRepeatTimeMinChanged,input:function(t){t.target.composing||(e.repeatTimeMin=t.target.value)}}})]),e._v(" "),e._m(2)]):e._e(),e._v(" "),e.repeatFlag?r("div",{staticClass:"row form-group"},[r("div",{staticClass:"col-md-6"},[r("label",{staticClass:"required"},[e._v(" จำนวนเลขที่ตัวอย่าง ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatQty,expression:"repeatQty"}],attrs:{type:"hidden",name:"repeat_qty"},domProps:{value:e.repeatQty},on:{input:function(t){t.target.composing||(e.repeatQty=t.target.value)}}}),e._v(" "),r("el-input-number",{staticClass:"w-100",attrs:{min:1,max:10},model:{value:e.repeatQty,callback:function(t){e.repeatQty=t},expression:"repeatQty"}})],1),e._v(" "),e._m(3)]):e._e()])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12"},[r("label",{staticClass:"required"},[e._v(" รอบเวลาที่สร้าง ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-2"},[r("p",{staticClass:"form-control-static md:tw-mt-4 tw-mt-2 tw-mb-0"},[e._v("\n                ชั่วโมง\n            ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-2"},[r("p",{staticClass:"form-control-static md:tw-mt-4 tw-mt-2 tw-mb-0"},[e._v("\n                นาที\n            ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-4"},[r("label",{staticClass:"md:tw-block tw-hidden"},[e._v(" ")]),e._v(" "),r("p",{staticClass:"form-control-static md:tw-mt-4 tw-mt-2 tw-mb-0"},[e._v("\n                ชุด\n            ")])])}],!1,null,null,null).exports}}]);