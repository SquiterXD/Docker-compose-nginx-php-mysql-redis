(self.webpackChunk=self.webpackChunk||[]).push([[5922],{67791:(e,t,a)=>{"use strict";a.d(t,{gR:()=>n,R_:()=>i,sD:()=>o});var s=a(30381),r=a.n(s),n={formatDate:"DD/MM/YYYY",formatMonth:"MM/YYYY",formatYear:"YYYY",monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i={irp0001_table_header:[{document_number:"",status:"NEW",period_year:"2020",period_name:"Jan-20",period_from:"12/01/2020",period_to:"12/01/2020",policy_set_number:"1",policy_set_description:"POLICY SET DESCRIPTION",department_code:"DEPARTMENT CODE",department_desc:"DEPARTMENT DESC"}],irp0001_table_line:[{line_number:"1",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"INTERFACE",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"3",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"CONFIRMED",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"}],irp0010_table_header:[{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},{claim_header_id:"2",status:"INTERFACE",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"}],irp0010_form:{headers:{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},apply:{apply_company:[{company_id:55,company_name:"บริษัท เทเวศประกันภัย จำกัด (มหาชน)",claim_percent:"40",claim_amount:"140000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""},{company_id:54,company_name:"บริษัท ทิพยประกันภัย จำกัด (มหาชน)",claim_percent:"60",claim_amount:"160000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""}]}},irp0002_table_line:[{status:"NEW",line_number:"",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"111",unit_price:"2",line_amount:"222",coverage_amount:"230",calculate_days:"2",calculate_start_date:"12/01/2020",calculate_end_date:"15/01/2020"}]},o={setFirstLetterUpperCase:function(e){if(e&&null!=e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}return e},setYearCE:function(e,t){var a="",s="month"===e?n.formatMonth:"date"===e?n.formatDate:"year"===e?n.formatYear:"";return t&&s?a=r()(r()(t,s).subtract(543,"years").toDate()).format(s):a},setYearBE:function(e,t){var a="",s="month"===e?n.formatMonth:"date"===e?n.formatDate:"year"===e?n.formatYear:"";return t&&s?a=r()(r()(t,s).add(543,"years").toDate()).format(s):a},showYearBE:function(e,t){var a="";if("month"===e&&t&&null!=t){var s=t.split("/"),r=+s[1]+543;return a="".concat(s[0],"/").concat(r)}if("date"===e&&t&&null!=t){var n=t.split("/"),i=+n[2]+543;return a="".concat(n[0],"/").concat(n[1],"/").concat(i)}return"year"===e&&t&&null!=t?+t+543:a},getTime:function(e){var t="";if(e&&null!=e){var a=e.split("/");return t=new Date("".concat(a[1],"/").concat(a[0],"/").concat(a[2])).getTime()}return t},calculateDate:function(e,t){var a="",s="";if(e&&t){var r=o.getTime(e),n=o.getTime(t);a=(s=Math.round(Math.abs((n-r)/864e5)))?s+1:s}return a},checkStatusInterface:function(e){return!(!e||"INTERFACE"!==e.toUpperCase())},checkStatusCancelled:function(e){return!(!e||"CANCELLED"!==e.toUpperCase())},isNullOrUndefined:function(e){return null==e?"":e},formatCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="";if(e||0===e){a=parseFloat(e);var s=e.toString().split(".");if(void 0===s[1]){var r=parseInt(s[0]).toFixed(t).split(".")[1];return"".concat(parseInt(s[0]).toLocaleString(),".").concat(r)}if(0==a.toString().split(".")[0]){var n=a.toFixed(t).split(".")[1];return"".concat(a.toString().split(".")[0],".").concat(n)}var i=a.toFixed(t).split(".")[1],o="".concat(parseInt(s[0]).toLocaleString(),".").concat(i);return o}return a},formatfloat:function(e){return e.slice(0,e.indexOf(".")+1+2)},checkStatusConfirmed:function(e){if(e)return"CONFIRMED"===e.toUpperCase()},showPeriodNameFormat:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1])),s=a.getFullYear(),r=1===(a.getMonth()+1).toString().length?"0".concat(a.getMonth()+1):a.getMonth()+1;return"".concat(r,"/").concat(s+543)}return e},setValuePeriodNameFormat:function(e){var t="";if(e&&null!=e){var a=n.monthNameShort[e.getMonth()],s=(+e.getFullYear()-543).toString(),r=s.substr(s.length-2);t="".concat(a,"-").concat(r)}return t},checkStatusNew:function(e){if(e&&"NEW"===e.toUpperCase())return!0},calculateDateMomentTable:function(e){var t=n.formatDate,a="",s="",i="",o=e.start_calculate_date,l=e.end_calculate_date;if(o&&l){var c=helperDate.convertDate(o,t),d=helperDate.convertDate(l,t);c.then((function(n){a=r()(n,t),d.then((function(n){s=r()(n,t),i=s.diff(a,"days"),e.days=-1===Math.sign(i)?"":i+1}))}))}else e.days=""},covertFomatDateMoment:function(e,t){var a="date"===t?n.formatDate:"month"===t?n.formatMonth:"year"===t?n.formatYear:"";return e&&t?r()(e).format(a):""},setBudgetYearFromFieldStCalendar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",a=("date"===t?n.formatDate:"month"===t?n.formatMonth:"year"===t&&n.formatYear,"");if(e){var s=e.getFullYear(),i=r()({year:s,month:8,date:30}),o=r()({year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),l=o.isAfter(i)?1:0;return r()(r()({year:s+l,month:8,date:30}),n.formatDate).toDate()}return a},setLabelStatusAsset:function(e){return"Y"===e?"Active":"N"===e?"Inactive":""},setFotmatPeriodNameIsFullDate:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1]));return r()(a).format(n.formatDate)}return""},setFullDateIsDateCE:function(e){var t="";if(e){var a=r()(e).format(n.formatDate);return t=o.setYearCE("date",a)}return t},setLabelExpenseFlag:function(e){return"Y"==e?"Yes":"No"},setLabelVatRefund:function(e){return"Y"==e?"Yes":"No"},setDefaultActive:function(e){var t=$(".".concat(e)).is(":checked");$(".".concat(e)).prop("checked",!t)},setDefaultEndDateIsLastDateOfMonth:function(e){var t=n.formatDate;if(e){var a=r()(e).endOf("month");return r()(a).format(t)}return""}}},53057:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(23645),r=a.n(s)()((function(e){return e[1]}));r.push([e.id,"td[data-v-ddffa024],th[data-v-ddffa024]{padding:.25rem}th[data-v-ddffa024]{background:#fff;position:-webkit-sticky;position:sticky;top:0}.mouse-over[data-v-ddffa024]:hover{background-color:#d4edda!important}",""]);const n=r},55922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var s=a(12364),r=a(43126),n=a(21341),i=a(83030),o=a(30381),l=a.n(o),c=a(75943);const d={name:"ir-asset-plan-modal-fetch",data:function(){return{fetch:{year:"",insurance_start_date:"",insurance_end_date:"",policy_set_header_id_start:"",policy_set_header_id_end:"",as_of_date:"",asset_group:"",asset_status:""},rules:{year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],as_of_date:[{required:!0,message:"กรุณาระบุ ณ วันที่",trigger:"change"}]},showLoading:!1}},props:["setYearCE","vars"],methods:{clickSearch:function(){var e=this;this.$refs.form_asset_plan_fetch.validate((function(t){if(!t)return!1;e.getDataRows()}))},clickClear:function(){this.resetFields()},validateNotElUi:function(e,t){e?this.$refs.form_asset_plan_fetch.fields.find((function(e){return e.prop==t})).clearValidate():this.$refs.form_asset_plan_fetch.validateField(t)},getDataRows:function(){var e=this;this.showLoading=!0;var t={year:this.setYearCE("year",this.fetch.year),insurance_start_date:this.setYearCE("date",this.fetch.insurance_start_date),insurance_end_date:this.setYearCE("date",this.fetch.insurance_end_date),program_code:"IRP0003",policy_set_header_start:this.fetch.policy_set_header_id_start,policy_set_header_end:this.fetch.policy_set_header_id_end,as_of_date:this.setYearCE("date",this.fetch.as_of_date),asset_group:this.fetch.asset_group,asset_status:this.fetch.asset_status};axios.get("/ir/ajax/asset/fetch",{params:t}).then((function(t){var a=t.data;e.showLoading=!1,e.$emit("fetch-table-header",a.data),$("#modal_asset_plan_fetch").modal("hide")})).catch((function(t){swal({title:"Warning",text:"รายการนี้ถูกดึงข้อมูลเรียบร้อยแล้ว",type:"warning",showCancelButton:!0}),e.showLoading=!1}))},getDataInsuranceDate:function(){var e=this,t={year:this.setYearCE("year",this.fetch.year),keyword:""};axios.get("/ir/ajax/lov/effective-date",{params:t}).then((function(t){var a=t.data.data;null===a?(e.$refs.fetch_insurance_start_date.resetField(),e.$refs.fetch_insurance_end_date.resetField()):(e.fetch.insurance_start_date=a.start_date_active,e.fetch.insurance_end_date=a.end_date_active)})).catch((function(e){swal("Error",e,"error")}))},resetFields:function(){this.$refs.form_asset_plan_fetch.resetFields()},getValuePolicyStModal:function(e){this.fetch.policy_set_header_id_start=e,this.fetch.policy_set_header_id_end=e},getValuePolicyEnModal:function(e){this.fetch.policy_set_header_id_end=e},getValueAssetGroupModal:function(e){this.fetch.asset_group=e.code},getValueYearModal:function(e){var t=this.vars.formatYear;e?this.fetch.year=l()(e).format(t):(this.fetch.year="",this.$refs.fetch_insurance_start_date.resetField(),this.$refs.fetch_insurance_end_date.resetField()),this.validateNotElUi(e,"year"),this.getDataInsuranceDate()},getValueAsOfDateModal:function(e){var t=this.vars.formatDate;e?this.fetch.as_of_date=l()(e).format(t):this.$refs.fetch_as_of_date.resetField(),this.validateNotElUi(e,"as_of_date")},getValueAssetStatusModal:function(e){this.fetch.asset_status=e}},components:{lovPolicySetHeaderId:r.Z,dateInput:n.Z,lovAssetGroup:i.Z,dropdownStatusAsset:c.Z}};var _=a(51900);const u=(0,_.Z)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_asset_plan_fetch",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}]},[e._m(0),e._v(" "),a("el-form",{ref:"form_asset_plan_fetch",staticClass:"demo-dynamic form_table_line",attrs:{model:e.fetch,"label-width":"120px",rules:e.rules}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ปี *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_year",attrs:{prop:"year"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_year","p-type":"year",placeholder:"ปี",value:e.fetch.year,format:e.vars.formatYear},on:{dateWasSelected:e.getValueYearModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("วันที่คุ้มครอง")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_insurance_start_date",attrs:{prop:"insurance_start_date"}},[a("el-input",{attrs:{placeholder:"วันที่คุ้มครอง",disabled:""},model:{value:e.fetch.insurance_start_date,callback:function(t){e.$set(e.fetch,"insurance_start_date",t)},expression:"fetch.insurance_start_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_insurance_end_date",attrs:{prop:"insurance_end_date"}},[a("el-input",{attrs:{placeholder:"ถึงวันที่คุ้มครอง",disabled:""},model:{value:e.fetch.insurance_end_date,callback:function(t){e.$set(e.fetch,"insurance_end_date",t)},expression:"fetch.insurance_end_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("กรมธรรม์ชุดที่")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_policy_set_header_id_start",attrs:{prop:"policy_set_header_id_start"}},[a("lov-policy-set-header-id",{attrs:{name:"fetch_policy_set_header_id_start",size:"",placeholder:"กรมธรรม์ชุดที่",popperBody:!1,fixTypeFr:"20",fixTypeSc:""},on:{"change-lov":e.getValuePolicyStModal},model:{value:e.fetch.policy_set_header_id_start,callback:function(t){e.$set(e.fetch,"policy_set_header_id_start",t)},expression:"fetch.policy_set_header_id_start"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_policy_set_header_id_end",attrs:{prop:"policy_set_header_id_end"}},[a("lov-policy-set-header-id",{attrs:{name:"fetch_policy_set_header_id_end",size:"",placeholder:"ถึงกรมธรรม์ชุดที่",popperBody:!1,fixTypeFr:"20",fixTypeSc:""},on:{"change-lov":e.getValuePolicyEnModal},model:{value:e.fetch.policy_set_header_id_end,callback:function(t){e.$set(e.fetch,"policy_set_header_id_end",t)},expression:"fetch.policy_set_header_id_end"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ณ วันที่ *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_as_of_date",attrs:{prop:"as_of_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_as_of_date","p-type":"date",placeholder:"ณ วันที่",value:e.fetch.as_of_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueAsOfDateModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("กลุ่มของทรัพย์สิน")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_asset_group",attrs:{prop:"asset_group"}},[a("lov-asset-group",{attrs:{placeholder:"กลุ่มของทรัพย์สิน",name:"fetch_asset_group",size:"",popperBody:!1},on:{"change-lov":e.getValueAssetGroupModal},model:{value:e.fetch.asset_group,callback:function(t){e.$set(e.fetch,"asset_group",t)},expression:"fetch.asset_group"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){return e.clickSearch()}}},[a("i",{staticClass:"fa fa-database"}),e._v(" ดึงข้อมูล\n          ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต\n          ")])])])],1)])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("การดึงข้อมูล")])])}],!1,null,null,null).exports;var h=a(87150);const f={name:"ir-asset-plan-index-search",data:function(){return{rules:{year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],as_of_date:[{required:!0,message:"กรุณาระบุ ณ วันที่",trigger:"change"}]},status:[],getTimeInsuSt:"",getTimeInsuEn:"",policies:[],loading:!1}},props:["search","setYearCE","vars"],computed:{checkInsuranceDate:function(){var e=this.search.insurance_start_date,t=this.search.insurance_end_date;return!e||!t||this.getTimeInsuSt<=this.getTimeInsuEn}},methods:{clickSearch:function(){var e=this;this.$refs.search_index_asset_plan.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.reqDate()&&e.$emit("click-search",e.search)}))},clickClear:function(){window.location.href="/ir/assets/asset-plan"},getDataStatus:function(){var e=this;axios.get("/ir/ajax/lov/status").then((function(t){var a=t.data;console.log("response getDataStatus ",a),e.status=a})).catch((function(e){swal("Error",e,"error")}))},getDataAssetGroup:function(e){this.search.asset_group=e},reqDate:function(){if(this.checkInsuranceDate)return!0;swal("Warning","ฟิลด์วันที่คุ้มครองต้องน้อยกว่าหรือเท่ากับฟิลด์วันที่คุ้มครองถึง!","warning")},getDataPolicySetHeaderId:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.policies=a.data})).catch((function(e){swal("Error",e,"error")}))},remoteMethodPolicySt:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:e,type:"20",type2:""})},focusPolicySt:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"20",type2:""})},changePolicySt:function(e){this.search.policy_set_header_id_start=e,this.search.policy_set_header_id_end=e},remoteMethodPolicyEn:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:e,type:"20",type2:""})},focusPolicyEn:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"20",type2:""})},changePolicyEn:function(e){console.log("changePolicyEn ",e),this.search.policy_set_header_id_end=e},getDataInsuranceDate:function(e){var t=this;axios.get("/ir/ajax/lov/effective-date",{params:e}).then((function(e){var a=e.data.data;null===a?(t.search.insurance_start_date="",t.search.insurance_end_date=""):(t.search.insurance_start_date=a.start_date_active,t.search.insurance_end_date=a.end_date_active)})).catch((function(e){swal("Error",e,"error")}))},clickCancel:function(){window.location.href="/ir/assets/asset-plan"},fetchTableHeader:function(e){this.$emit("fetch-show-table-header",e)},clickFetch:function(){this.$refs.modal_fetch.resetFields()},getValueYear:function(e){var t=this.vars.formatYear;e?(this.search.year=l()(e).format(t),this.getDataInsuranceDate({year:this.setYearCE("year",this.search.year),keyword:""})):(this.search.year="",this.search.insurance_start_date="",this.search.insurance_end_date="",this.getDataInsuranceDate({year:this.search.year,keyword:""}))},getValueAsOfDate:function(e){var t=this.vars.formatDate;this.search.as_of_date=e?l()(e).format(t):""},getValueAssetStatus:function(e){this.search.asset_status=e},getValueStatus:function(e){this.search.status=e}},components:{lovAssetGroup:s.Z,modalFetch:u,dropdownStatusAsset:c.Z,dropdownStatusIr:h.Z},mounted:function(){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"20",type2:""})}};const m=(0,_.Z)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"search_index_asset_plan",staticClass:"demo-ruleForm",attrs:{model:e.search,"label-width":"120px"}},[a("div",{staticClass:"col-lg-11"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ปี")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"year"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"year","p-type":"year",placeholder:"ปี",value:e.search.year,format:e.vars.formatYear},on:{dateWasSelected:e.getValueYear}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("วันที่คุ้มครอง")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"วันที่คุ้มครอง",disabled:""},model:{value:e.search.insurance_start_date,callback:function(t){e.$set(e.search,"insurance_start_date",t)},expression:"search.insurance_start_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"ถึงวันที่คุ้มครอง",disabled:""},model:{value:e.search.insurance_end_date,callback:function(t){e.$set(e.search,"insurance_end_date",t)},expression:"search.insurance_end_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("กรมธรรม์ชุดที่")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-select",{attrs:{placeholder:"กรมธรรม์ชุดที่",name:"policy_set_header_id_start","remote-method":e.remoteMethodPolicySt,loading:e.loading,remote:"",clearable:!0,filterable:""},on:{focus:e.focusPolicySt,change:e.changePolicySt},model:{value:e.search.policy_set_header_id_start,callback:function(t){e.$set(e.search,"policy_set_header_id_start",t)},expression:"search.policy_set_header_id_start"}},e._l(e.policies,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-select",{attrs:{placeholder:"ถึงกรมธรรม์ชุดที่",name:"policy_set_header_id_end","remote-method":e.remoteMethodPolicyEn,loading:e.loading,remote:"",clearable:!0,filterable:""},on:{focus:e.focusPolicyEn,change:e.changePolicyEn},model:{value:e.search.policy_set_header_id_end,callback:function(t){e.$set(e.search,"policy_set_header_id_end",t)},expression:"search.policy_set_header_id_end"}},e._l(e.policies,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ณ วันที่")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"as_of_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"as_of_date","p-type":"date",placeholder:"ณ วันที่",value:e.search.as_of_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueAsOfDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("กลุ่มของทรัพย์สิน")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("lov-asset-group",{attrs:{attrName:"asset_group",isTable:!1,size:""},on:{"change-value-asset-group":e.getDataAssetGroup},model:{value:e.search.asset_group,callback:function(t){e.$set(e.search,"asset_group",t)},expression:"search.asset_group"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("สถานะ")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("dropdown-status-ir",{attrs:{name:"status",size:"",popperBody:!0,disabled:!1,placeholder:"สถานะ"},on:{"change-lov":e.getValueStatus},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"text-right el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.clickSearch()}}},[a("i",{staticClass:"fa fa-search"}),e._v(" ค้นหา\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_asset_plan_fetch"},on:{click:function(t){return e.clickFetch()}}},[a("i",{staticClass:"fa fa-database"}),e._v(" ดึงข้อมูล\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.clickCancel()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต\n        ")])])],1)]),e._v(" "),a("modal-fetch",{ref:"modal_fetch",attrs:{setYearCE:e.setYearCE,vars:e.vars},on:{"fetch-table-header":e.fetchTableHeader}})],1)}),[],!1,null,null,null).exports;const p={name:"ir-asset-plan-index-table-header",data:function(){return{activeIndex:""}},props:["isNullOrUndefined","tableHeader","formatCurrency","search","setFirstLetterUpperCase","showYearBE","checkStatusNew"],methods:{clickRow:function(e,t){var a={header_id:e.header_id,document_number:this.isNullOrUndefined(e.document_number),asset_status:this.isNullOrUndefined(e.asset_status),policy_set_description:this.isNullOrUndefined(e.policy_set_description),policy_set_header_id:this.isNullOrUndefined(e.policy_set_header_id),status:this.isNullOrUndefined(e.status),count_asset:this.isNullOrUndefined(e.count_asset),as_of_date:this.isNullOrUndefined(e.as_of_date),insurance_start_date:this.isNullOrUndefined(e.insurance_start_date),insurance_end_date:this.isNullOrUndefined(e.insurance_end_date),year:this.isNullOrUndefined(e.year),total_cost:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_cost),total_cover_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_cover_amount),total_insu_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_insu_amount),total_vat_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_vat_amount),total_net_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_net_amount),total_rec_insu_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_rec_insu_amount),receivables:e.type,total_duty_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_duty_amount)};this.$emit("click-row",a),this.activeIndex=t}},watch:{tableHeader:function(e,t){this.activeIndex=""}}};var v=a(93379),g=a.n(v),y=a(53057),b={insert:"head",singleton:!1};g()(y.Z,b);y.Z.locals;const C=(0,_.Z)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[e._m(0),e._v(" "),a("tbody",{attrs:{id:"table_search"}},[e._l(e.tableHeader,(function(t,s){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.tableHeader.length>0,expression:"tableHeader.length > 0"}],key:s,staticClass:"mouse-over",class:"style_row_show "+(s===e.activeIndex?"highlight":""),on:{click:function(a){return e.clickRow(t,s)}}},[a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button",href:"/ir/assets/asset-plan/edit/"+t.header_id}},[e.isNullOrUndefined(t.document_number)?a("span",[e._v("View / Edit")]):a("span",[e._v("Select")])])]),e._v(" "),a("td",[e._v(e._s(e.isNullOrUndefined(t.document_number)))]),e._v(" "),a("td",[e._v(e._s(e.isNullOrUndefined(t.reference_document_number)))]),e._v(" "),a("td",[e._v(e._s(e.setFirstLetterUpperCase(t.status)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("year",t.year)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.policy_set_number))+"\n        ")]),e._v(" "),a("td",[e._v(e._s(e.isNullOrUndefined(t.policy_set_description)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(t.count_asset)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.as_of_date)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.insurance_start_date)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.insurance_end_date)))])])})),e._v(" "),0===e.tableHeader.length?a("tr",{staticClass:"text-center mouse-over"},[a("td",{attrs:{colspan:"11"}},[e._v("ไม่มีข้อมูล")])]):e._e()],2),e._v(" "),a("tfoot")])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("Action")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Document Number "),a("br"),e._v("เลขที่เอกสาร")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Reference "),a("br"),e._v("Document")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("IR Status "),a("br"),e._v("สถานะ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("Year "),a("br"),e._v("ปี")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[e._v("Policy No. "),a("br"),e._v("กรมธรรม์ชุดที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"1%"}},[e._v("Policy Description "),a("br"),e._v("รายละเอียดกรมธรรม์ชุดที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("Count "),a("br"),e._v("จำนวนรายการ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[e._v("As Of Date "),a("br"),e._v("ณ วันที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[e._v("วันที่คุ้มครองตั้งแต่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[e._v("วันที่คุ้มครองถึง")])])])}],!1,null,"ddffa024",null).exports;function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){r=!0,n=e}finally{try{s||null==o.return||o.return()}finally{if(r)throw n}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}const E={name:"ir-asset-plan-index-table-total",data:function(){return{}},props:["tableTotal","formatCurrency","isNullOrUndefined","statusRowTableHeader","checkStatusNew","receivables"],computed:{newDataReceivables:function(){return Array.from(this.receivables.reduce((function(e,t){var a=t.receivable_name,s=t.net_amount;return e.set(a,(e.get(a)||0)+ +s)}),new Map),(function(e){var t=w(e,2);return{receivable_name:t[0],net_amount:t[1]}}))},totalRecInsuAmount:function(){var e=0;return this.receivables.filter((function(t){e+=+Number(t.net_amount).toFixed(2)})),e}},methods:{setZeroWhenIsNullOrUndefined:function(e){return""===e||null==e||isNaN(e)?this.formatCurrency("0"):this.formatCurrency(e)},formatSum:function(e,t,a){return Number(Number(Number(e).toFixed(2))+Number(Number(t).toFixed(2))+Number(Number(a).toFixed(2))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatData:function(e){var t=0;return e.filter((function(e){t+=+Number(e.net_amount).toFixed(2)})),t}}};const D=(0,_.Z)(E,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-striped"},[e._m(0),e._v(" "),a("tbody",{attrs:{id:"table_total"}},[e._l(e.tableTotal,(function(t,s){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.tableTotal.length>0,expression:"tableTotal.length > 0"}],key:s,staticClass:"text-right"},[a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_cost)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_cover_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_insu_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_duty_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_vat_amount)))]),e._v(" "),a("td",[e._v(e._s(e.formatSum(t.total_insu_amount,t.total_duty_amount,t.total_vat_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_rec_insu_amount)))])])})),e._v(" "),e._l(e.newDataReceivables,(function(t,s){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.receivables.length>0&&e.tableTotal.length>0&&!e.checkStatusNew(e.statusRowTableHeader),expression:"receivables.length > 0 && tableTotal.length > 0 && !checkStatusNew(statusRowTableHeader)"}],key:"rec_"+s,staticClass:"text-right"},[a("td",{attrs:{colspan:"6"}},[e._v(e._s(e.isNullOrUndefined(t.receivable_name)))]),e._v(" "),a("td",[e._v(e._s(e.formatCurrency(e.formatData(e.receivables))))])])})),e._v(" "),0===e.tableTotal.length?a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"7"}},[e._v("ไม่มีข้อมูล")])]):e._e()],2),e._v(" "),a("tfoot")])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticClass:"text-right"},[a("th",{staticClass:"width_table"},[e._v("Total Asset Cost "),a("br"),e._v("ราคาทุนรวม (บาท)")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Coverage Amount "),a("br"),e._v("มูลค่าทุนประกันรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Premium "),a("br"),e._v("ค่าเบี้ยประกันรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Duty Fee "),a("br"),e._v("อากรรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Vat "),a("br"),e._v("ภาษีมูลค่าเพิ่มรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Net Amount "),a("br"),e._v("ค่าเบี้ยประกันสุทธิรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("ค่าเบี้ยประกันเรียกเก็บสุทธิรวม")])])])}],!1,null,null,null).exports;var x=a(67791);const S={name:"ir-asset-plan-index",data:function(){return{search:{year:"",insurance_start_date:"",insurance_end_date:"",policy_set_header_id_start:"",policy_set_header_id_end:"",as_of_date:"",asset_group:"",asset_status:"",status:""},tableHeader:[],tableTotal:[],headerRow:{header_id:"",document_number:"",status:"",year:"",policy_set_header_id:"",policy_set_description:"",count_asset:"",as_of_date:"",insurance_start_date:"",insurance_end_date:"",total_cost:"",total_cover_amount:"",total_insu_amount:"",total_vat_amount:"",total_net_amount:"",total_rec_insu_amount:"",total_duty_amount:""},year:"",funcs:x.sD,vars:x.gR,statusRowTableHeader:"",receivables:[],showLoading:!1}},methods:{getDataSearch:function(e){this.search=e,this.getDataRowsTableHeader()},getDataRowShowTableTotal:function(e){this.tableTotal=[e],this.statusRowTableHeader=e.status,this.receivables=e.receivables},getDataRowsTableHeader:function(){var e=this;this.showLoading=!0;var t={year:this.funcs.setYearCE("year",this.search.year),insurance_start_date:this.funcs.setYearCE("date",this.search.insurance_start_date),insurance_end_date:this.funcs.setYearCE("date",this.search.insurance_end_date),policy_set_header_start:this.search.policy_set_header_id_start,policy_set_header_end:this.search.policy_set_header_id_end,as_of_date:this.funcs.setYearCE("date",this.search.as_of_date),location_code:this.search.asset_group,asset_status:this.search.asset_status,status:this.search.status};axios.get("/ir/ajax/asset",{params:t}).then((function(t){var a=t.data;e.showLoading=!1,e.tableHeader=a.data,e.tableTotal=[]})).catch((function(e){swal("Error",e,"error")}))},fetchShowTableHeader:function(e){this.tableHeader=e,this.tableTotal=[]}},components:{indexSearch:m,indexTableHeader:C,indexTableTotal:D}};const O=(0,_.Z)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}]},[a("index-search",{attrs:{search:e.search,setYearCE:e.funcs.setYearCE,vars:e.vars},on:{"click-search":e.getDataSearch,"fetch-show-table-header":e.fetchShowTableHeader}}),e._v(" "),a("index-table-header",{attrs:{isNullOrUndefined:e.funcs.isNullOrUndefined,tableHeader:e.tableHeader,formatCurrency:e.funcs.formatCurrency,search:e.search,setFirstLetterUpperCase:e.funcs.setFirstLetterUpperCase,showYearBE:e.funcs.showYearBE,checkStatusNew:e.funcs.checkStatusNew},on:{"click-row":e.getDataRowShowTableTotal}}),e._v(" "),a("index-table-total",{attrs:{tableTotal:e.tableTotal,formatCurrency:e.funcs.formatCurrency,isNullOrUndefined:e.funcs.isNullOrUndefined,statusRowTableHeader:e.statusRowTableHeader,checkStatusNew:e.funcs.checkStatusNew,receivables:e.receivables}})],1)}),[],!1,null,null,null).exports},12364:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const s={name:"ir-asset-plan-lov-asset-group",data:function(){return{assetGroup:[],loading:!1,asset_group_code:this.value}},props:["attrName","value","isTable","indexTable","size"],methods:{remoteMethodAssetGroup:function(e){this.getAssetGroup({meaning:"",keyword:e})},getAssetGroup:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/location",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.assetGroup=a})).catch((function(e){swal("Error",e,"error")}))},focusAssetGroup:function(e){this.getAssetGroup({meaning:"",keyword:""})},changeAssetGroup:function(e){var t={asset_group:"",rowId:"",asset_group_name:"",id:""};if(this.isTable&&e)for(var a in this.assetGroup){var s=this.assetGroup[a];s.meaning===e&&(t.asset_group=e,t.rowId=this.indexTable,t.asset_group_name=s.description,t.id=s.value,this.$emit("change-value-asset-group",t))}else this.isTable&&!e?this.$emit("change-value-asset-group",t):this.$emit("change-value-asset-group",e)}},mounted:function(){this.getAssetGroup({meaning:"",keyword:""})},watch:{value:function(e,t){this.asset_group_code=e}}};const r=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"กลุ่มของทรัพย์สิน",name:e.attrName,"remote-method":e.remoteMethodAssetGroup,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size},on:{focus:e.focusAssetGroup,change:e.changeAssetGroup},model:{value:e.asset_group_code,callback:function(t){e.asset_group_code=t},expression:"asset_group_code"}},e._l(e.assetGroup,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports},21341:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const s={name:"ir-components-calendar-date-input",data:function(){return{date:this.value}},props:["attrName","value","sizeSmall","placeholder","disabled"],computed:{},mounted:function(){var e=this;$(document).ready((function(){$("input.date_input").datepicker({format:"dd/mm/yyyy",autoclose:!0,keyboardNavigation:!1}),$('input[name="'.concat(e.attrName,'"]')).on("change",(function(t){console.log("change ",t,t.target.value);var a={value:t.target.value,getTime:$('input[name="'.concat(e.attrName,'"]')).datepicker("getDate").getTime()};e.$emit("change-date",a),console.log("params ",a)}))}))},watch:{value:function(e,t){this.date=e}}};const r=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"el-input date "+(e.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],staticClass:"input-medium form-control date_input el-input__inner",attrs:{type:"text",name:e.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:e.placeholder,autocomplete:"off",disabled:e.disabled},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})])}),[],!1,null,null,null).exports},75943:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const s={name:"ir-components-dropdown-status-asset",data:function(){return{rows:[{label:"Active",value:"Y"},{label:"Inactive",value:"N"}],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{onchange:function(e){this.$emit("change-dropdown",e)}},watch:{value:function(e,t){this.result=e}}};const r=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)}),[],!1,null,null,null).exports},87150:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const s={name:"ir-components-lov-status-ir",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{getDataRows:function(){var e=this;axios.get("/ir/ajax/lov/status").then((function(t){var a=t.data;e.rows=a})).catch((function(e){swal("Error",e,"error")}))},change:function(e){this.$emit("change-lov",e)}},watch:{value:function(e,t){this.result=e}},created:function(){this.getDataRows()}};const r=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:"สถานะ",name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.change},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports},83030:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const s={name:"ir-components-lov-asset-group",data:function(){return{rows:[],loading:!1,result:this.value}},props:["placeholder","name","value","size","popperBody"],methods:{remoteMethod:function(e){this.getDataRows({meaning:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/location",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.rows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({meaning:"",keyword:""})},change:function(e){var t={id:"",code:"",desc:""};if(e)for(var a in this.rows){var s=this.rows[a];s.meaning===e&&(t.code=e,t.desc=s.description,t.id=s.meaning)}else t.id="",t.code="",t.desc="";this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({meaning:"",keyword:""})},watch:{value:function(e,t){this.result=e}}};const r=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,"remote-method":e.remoteMethod,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size,"popper-append-to-body":e.popperBody},on:{focus:e.focus,change:e.change},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports},43126:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const s={name:"ir-components-lov-policy-set-header-id",data:function(){return{rows:[],dataSet:[],loading:!1,result:this.value,isDisabled:void 0!==this.disabled&&this.disabled}},props:["value","name","size","placeholder","popperBody","fixTypeFr","fixTypeSc","check","disabled"],methods:{remoteMethod:function(e){this.dataSet=this.rows.filter((function(t){return t.policy_set_number.toLowerCase().indexOf(e.toLowerCase())>-1||t.policy_set_description.toLowerCase().indexOf(e.toLowerCase())>-1}))},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.check?t.dataSet=t.rows=a.data.filter((function(e){return e.meaning.toLowerCase()==t.check.toLowerCase()})):t.dataSet=t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.getDataRows({policy_set_header_id:"",keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},onchange:function(e){console.log("onchange ",e),this.$emit("change-lov",e)}},mounted:function(){console.log("mounted policy_set_header_id ",this.value),this.result=this.value?+this.value:this.value,this.getDataRows({policy_set_header_id:this.value,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},watch:{value:function(e,t){this.result=e?+e:e,this.getDataRows({policy_set_header_id:e,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},disabled:function(){this.isDisabled=this.disabled}}};const r=(0,a(51900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,"remote-method":e.remoteMethod,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size,"popper-append-to-body":e.popperBody,disabled:e.isDisabled},on:{focus:e.onfocus,change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataSet,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},51900:(e,t,a)=>{"use strict";function s(e,t,a,s,r,n,i,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var _=c.beforeCreate;c.beforeCreate=_?[].concat(_,l):[l]}return{exports:e,options:c}}a.d(t,{Z:()=>s})}}]);