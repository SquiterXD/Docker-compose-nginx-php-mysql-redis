(self.webpackChunk=self.webpackChunk||[]).push([[7613],{77757:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});var a=s(23645),i=s.n(a)()((function(t){return t[1]}));i.push([t.id,".modal-body{padding:15px!important}.modal-dialog{height:80%!important;padding-top:10%}",""]);const r=i},87613:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>v});var a,i=s(87757),r=s.n(i),l=s(30381),n=s.n(l);function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function c(t,e,s,a,i,r,l){try{var n=t[r](l),o=n.value}catch(t){return void s(t)}n.done?e(o):Promise.resolve(o).then(a,i)}const d={props:["user-profile","trans-date","token","trans-btn","types","statuses","headers","species","formLine","h-years","sales-fiscals-years"],mounted:function(){},data:function(){return{years:[],year:"",salesFiscal:"",salesFiscalNumber:"",salesFiscalVersion:"",salesFiscals:[],salesFiscalsNo:[],salesFiscalsVersion:[],dialogTableVisible:!1,dialogFormVisible:!1,yearNumber:"",showTable:!1,showLine:!1,header:"",lines:[],dLines:[],trlines:[],medicinal_leaves:[],form:{header_id:"",period_year:"",period_year_no:"",date_create:"",date_updated:"",lld_year:"",planning_year:"",planning_no:"",planning_updated:"",planning_version:"",sales_fiscal_version:"",sales_fiscal_no:"",lines:[],type:"",status:"inactive",tran_approve_date:""},items:[],typeSelected:"",statusSelect:"inactive",speciesSelected:"",form_input:{},formLines:[],form_update:{header_id:"",lines:[],tran_approve_date:""},linesMap:[],loading:{form:!1,tempSearch:!1,create:!1,save:!1},searchTable:"",search:{year:"",no:"",change_no:""},searchHeader:{year:"",no:"",change_no:""},fiscalYearNoSelected:"",fiscalYearNo:[],uHeaders:[]}},methods:(a={getYears:function(){var t=this;axios.get("/pd/ajax/pdp0014/get-years").then((function(e){200==e.status&&(console.log(e),t.years=e.data.years)})).catch((function(t){console.log(t)}))},getTempVersion:function(){var t=this;this.uHeaders=[],this.loading.tempSearch=!0,this.fiscalYearNo=[],this.fiscalYearNoSelected="",axios.get("/pd/ajax/pdp0014/get-temp-version?year="+this.year).then((function(e){200==e.status&&(t.fiscalYearNo=e.data.fiscalYearNo),t.loading.tempSearch=!1})).catch((function(e){console.log(e),t.loading.tempSearch=!1}))},searchHeaders:function(){var t=this;this.uHeaders=[],this.loading.tempSearch=!0,axios.get("/pd/ajax/pdp0014/search-headers?year="+this.year+"&no="+this.fiscalYearNoSelected).then((function(e){200==e.status&&(t.uHeaders=e.data.headers),t.loading.tempSearch=!1})).catch((function(e){t.loading.tempSearch=!1,console.log(e)}))},checkNumberFromYear:function(){var t=this;this.year?axios.get("/pd/ajax/pdp0014/check-number-from-year/"+this.year).then((function(e){200==e.status&&(t.yearNumber=e.data.yearNumber)})).catch((function(t){console.log(t)})):this.yearNumber=""},getSalesFiscals:function(t){var e=this;this.showTable=!0,this.dialogTableVisible=!0,"get-no"==t&&(this.search.change_no="",this.search.no="",this.salesFiscalsNo=[],this.salesFiscalsVersion=[]),"get-version"==t&&(this.search.change_no="",this.salesFiscalsVersion=[]),axios.get("/pd/ajax/pdp0014/get-sales-fiscals?action="+t+"&year="+this.search.year+"&no="+this.search.no+"&change_no="+this.search.change_no).then((function(s){200==s.status&&("get-no"==t&&(e.salesFiscalsNo=s.data.salesFiscalsNo),"get-version"==t&&(e.salesFiscalsVersion=s.data.salesFiscalsVersion))})).catch((function(t){console.log(t)}))},searchSalesFiscal:function(t){var e=this;axios.get("/pd/ajax/pdp0014/get-sales-fiscals?action="+t+"&year="+this.search.year+"&no="+this.search.no+"&change_no="+this.search.change_no).then((function(t){200==t.status&&(e.salesFiscals=t.data.salesFiscals)})).catch((function(t){console.log(t)}))},selectSalesFiscal:function(t){console.log(t),this.dialogTableVisible=!1,this.showTable=!1,this.salesFiscal=this.salesFiscals[t].sales_fiscal_year_th,this.salesFiscalNumber=this.salesFiscals[t].sales_fiscal_year_no,this.salesFiscalVersion=this.salesFiscals[t].sales_fiscal_year_revision,this.search.year=this.salesFiscals[t].sales_fiscal_year_th,this.search.no=this.salesFiscals[t].sales_fiscal_year_no,this.search.change_no=this.salesFiscals[t].sales_fiscal_year_revision},insertHeader:function(){this.form.period_year=this.year,this.form.period_year_no=this.yearNumber,this.form.lld_year="",this.form.planning_year=this.salesFiscal,this.form.planning_no=this.salesFiscalNumber,this.form.planning_version=this.salesFiscalVersion},getItems:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(console.log("non get item"),"1004"==this.typeSelected)return this.getLines(this.header.web_h_id,"all",this.typeSelected);this.typeSelected&this.speciesSelected&&("tobacco_type"==t&&(this.speciesSelected=null),console.log("get item"),this.getLines(this.header.web_h_id,this.speciesSelected,this.typeSelected))},createLine:function(){var t,e=this;return(t=r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.type=e.typeSelected,e.form.status=e.statusSelect,e.loading.form=!0,t.next=5,e.insertHeader();case 5:return e.form.sales_fiscal_year_th=e.search.year,e.form.sales_fiscal_year_no=e.search.no,e.form.sales_fiscal_year_revision=e.search.change_no,e.form.planning_year=e.search.year,e.form.sales_fiscal_no=e.search.no,e.form.planning_version=e.search.change_no,e.form.planning_no=e.search.no,t.next=14,axios.post("/pd/ajax/pdp0014/create-line",e.form).then((function(t){if("E"==t.data.result)return swal({title:"\nเกิดข้อผิดพลาด",text:t.data.e,type:"error",html:!0,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ตกลง"});e.afterCallHeader(t),e.afterCallLines(t),e.loading.form=!1})).catch((function(t){e.loading.form=!1})).finally((function(t){console.log(t),e.loading.form=!1}));case 14:case"end":return t.stop()}}),t)})),function(){var e=this,s=arguments;return new Promise((function(a,i){var r=t.apply(e,s);function l(t){c(r,a,i,l,n,"next",t)}function n(t){c(r,a,i,l,n,"throw",t)}l(void 0)}))})()},fitterLines:function(t){},findLines:function(){var t=this;console.log("get lines"),axios.get("/pd/ajax/pdp0014/find-lines/63").then((function(e){t.lines=e.data.lines,t.trlines=e.data.header_table,t.medicinal_leaves=e.data.medicinalLeaves,t.dLines=e.data.dLines,t.formLines=e.data.mapLines,t.showLine=!0})).catch((function(t){console.log(t)}))},inputData:function(t,e,s){if(this.dLines.length>0){var a=this.dLines.find((function(a){return a.item_code==t&a.medicinal_leaves==s&a.ingredien_species_type==e}));return a?a.ingredien_percent_item:0}},yearlyKg:function(t,e){console.log()}},o(a,"inputData",(function(t,e){console.log(t,e)})),o(a,"checkHas",(function(t,e,s){return"undefined"!=this.formLines[t+s+e]})),o(a,"fitterTobaccoType",(function(){var t=this,e=this.dLines.filter((function(e){return e.ingredien_species_type==t.speciesSelected}));this.dLines=e})),o(a,"summary",(function(t){return parseFloat(t).toFixed(2)})),o(a,"summaryTr",(function(t){})),o(a,"divide",(function(t,e){return summary(t/e)})),o(a,"converseStr",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log(this.formLines[e.toString()])})),o(a,"save",(function(){var t=this;this.loading.save=!0,this.form_update.lines=this.formLines,axios.post("/pd/ajax/pdp0014/update-line/"+this.header.web_h_id,this.form_update).then((function(e){if(console.log(e),"E"==e.data.result)return t.loading.save=!1,swal({title:"\nเกิดข้อผิดพลาด",text:e.data.e,type:"error",html:!0,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ตกลง"});t.alertSucces("สำเร็จ"),console.log("S"),t.loading.save=!1})).catch((function(e){return t.loading.save=!1,swal({title:"\nเกิดข้อผิดพลาด",text:e,type:"error",html:!0,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ตกลง"},(function(t){resolve(t)}))})).finally((function(e){console.log(e),t.loading.save=!1}))})),o(a,"selectHeader",(function(t){var e=this;axios.get("/pd/ajax/pdp0014/select-header/"+t).then((function(t){var s=t.data.header;e.form.lld_year=s.sales_fiscal_year_no,e.year=s.fiscal_year_th,e.yearNumber=s.fiscal_year_no,e.salesFiscal=s.sales_fiscal_year_th,e.salesFiscalNumber=s.sales_fiscal_year_no,e.salesFiscalVersion=s.sales_fiscal_year_revision,e.header=s,e.form.tran_approve_date=n()(s.tran_approval_date).add(543,"years").format("YYYY-MM-DD"),e.form.date_create=n()(s.creation_date).add(543,"years").format("YYYY-MM-DD"),e.form.date_updated=n()(s.last_update_date).add(543,"years").format("YYYY-MM-DD")})).then((function(){e.insertHeader()})).catch((function(t){console.log(t)}))})),o(a,"getLines",(function(t,e,s){var a=this;this.lines=[],this.trlines=[],this.medicinal_leaves=[],this.dLines=[],this.formLines=[],axios.get("/pd/ajax/pdp0014/get-lines/"+t+"?ingredien_species_type="+e+"&ingredien_tobacco_type="+s).then((function(t){"S"==t.data.status&&(a.afterCallLines(t),a.showLine=!0),console.log(t.data.status),"E"==t.data.status&&(a.showLine=!0)})).catch((function(t){return a.lines=[],a.trlines=[],a.medicinal_leaves=[],a.dLines=[],a.formLines=[],a.showLine=!1,swal({title:"\n None Found Data ",text:t,type:"error",html:!0,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ตกลง"})}))})),o(a,"afterCallHeader",(function(t){console.log(t),this.header=t.data.header,this.header_web_h_id=t.data.header.web_h_id,this.form.date_create=n()(t.data.header.creation_date).add(543,"years").format("YYYY-MM-DD"),this.form.date_updated=n()(t.data.header.last_update_date).add(543,"years").format("YYYY-MM-DD"),this.yearNumber=t.data.yearNumber,this.year=t.data.year,this.form.period_year=this.year,this.form.period_year_no=this.yearNumber})),o(a,"afterCallLines",(function(t){this.lines=t.data.lines,this.trlines=t.data.header_table,this.medicinal_leaves=t.data.medicinalLeaves,this.dLines=t.data.dLines,this.formLines=t.data.mapLines})),o(a,"beforeCallLines",(function(){this.lines=[],this.trlines=[],this.medicinal_leaves=[],this.dLines=[],this.formLines=[]})),o(a,"alertError",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(e){swal({title:"\nมีข้อผิดพลาด",text:t,type:"error",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(t){e(t)}))}))})),o(a,"printAction",(function(){var t=this.typeSelected,e=this.speciesSelected,s=this.year,a=this.yearNumber;console.log({typeSelected:t,speciesSelected:e,year:s,yearNumber:a}),location.href="/ir/reports/get-param?year="+s+"&yearNumber="+a+"&speciesSelected="+e+"&typeSelected="+t+"&program_code=PDR0007&function_name=PDR0007&output=pdf"})),o(a,"alertSucces",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(e){swal({title:"\nสำเร็จ",text:t,type:"success",dangerMode:!1,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(t){e(t)}))}))})),o(a,"sumAmount",(function(t){var e=Object.values(this.lines);return"quantity"==t?e.reduce((function(t,e){return t+e.quantity}),0):"qty_lld"==t?e.reduce((function(t,e){return t+e.qty_lld}),0):"year_quantity"==t?e.reduce((function(t,e){return t+e.year_quantity}),0):"month_quantity"==t?e.reduce((function(t,e){return t+e.month_quantity}),0):void 0})),o(a,"mapLinesCol",(function(t){var e=Object.values(t).map((function(t){console.log(t.item_code)}));this.linesMap=e})),o(a,"sumLines",(function(t,e,s){return Object.values(this.dLines).filter((function(t){return t.medicinal_leaves==e})).reduce((function(t,e){return t+e.sum_ingredien_percent_item}),0)})),o(a,"sumKgLines",(function(t,e,s,a){var i=Object.values(this.dLines).filter((function(t){return t.medicinal_leaves==s})),r=Object.values(this.lines);return i.reduce((function(t,e){var s=r.find((function(t){return t.item_code==e.item_code}));return t+e.sum_ingredien_percent_item*s.year_quantity}),0)})),o(a,"sumLinesCasing",(function(t,e,s){return Object.values(this.dLines).filter((function(t){return t.medicinal_leaves==e&t.ingredien_species_type==s})).reduce((function(t,e){return t+parseFloat(e.ingredien_percent_item)}),0)})),o(a,"sumKgLinesCasing",(function(t,e,s,a){var i=Object.values(this.dLines).filter((function(t){return t.medicinal_leaves==s})),r=Object.values(this.lines);return i.reduce((function(t,e){var s=r.find((function(t){return t.item_code==e.item_code}));return t+.01*e.ingredien_percent_item*s.year_quantity}),0)})),o(a,"updateApprove",(function(){this.form_update.tran_approve_date=n()(this.header.tran_approve_date).add(543,"years").format("YYYY-MM-DD")})),o(a,"fitterTable",(function(){var t=this.searchTable.trim();this.salesFiscals,this.salesFiscals.filter((function(e){return e.sales_fiscal_year_th.indexOf(t)>-1}))})),o(a,"checkGroup",(function(t){})),a),computed:{totalLines:function(){return Object.keys(this.lines).length-1},totalAllYear:function(){},totalMonth:function(){},filteredList:function(){var t=this.search.year.toString(),e=this.search.no,s=this.search.change_no;return e.trim()?this.salesFiscals.filter((function(t){return t.sales_fiscal_year_no.toLowerCase().includes(e.toLowerCase())})):t.trim()?this.salesFiscals.filter((function(e){return e.sales_fiscal_year_th.toLowerCase().includes(t.toLowerCase())})):s.trim()?this.salesFiscals.filter((function(t){return t.sales_fiscal_year_revision.toLowerCase().includes(s.toLowerCase())})):this.salesFiscals},filteredHeader:function(){var t=this.searchHeader.year.toString(),e=this.searchHeader.no;return e.trim()?this.headers.filter((function(t){return t.fiscal_year_no.toLowerCase().includes(e.toLowerCase())})):t.trim()?this.headers.filter((function(e){return e.fiscal_year_th.toLowerCase().includes(t.toLowerCase())})):this.headers}}};var m=s(93379),u=s.n(m),_=s(77757),p={insert:"head",singleton:!1};u()(_.Z,p);_.Z.locals;const v=(0,s(51900).Z)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"ibox"},[s("div",{staticClass:"ibox-title"},[s("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-w-m btn-success",attrs:{"data-toggle":"modal","data-target":"#ModalCreate"},on:{click:t.getYears}},[s("i",{staticClass:"fa fa-plus"}),t._v(" สร้าง\n                        ")]),t._v(" "),t._m(1),t._v(" "),s("button",{staticClass:"btn btn-w-m btn-primary",attrs:{type:"submit"},on:{click:t.save}},[s("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}}),t._v(" บันทึก\n                        ")]),t._v(" "),s("button",{staticClass:"btn btn-w-m btn-info",attrs:{type:"submit"},on:{click:t.printAction}},[s("i",{staticClass:"fa fa-print"}),t._v(" พิมพ์\n                        ")])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"ModalCreate",tabindex:"-1",role:"dialog","aria-labelledby":"ModalCreateLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-sm-12"},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"row col-12 ml-2"},[s("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-3 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปีงบประมาณ:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("el-select",{staticClass:"mr-2 form-control-file",attrs:{clearable:"",placeholder:"ปีงบประมาณ",size:"small","popper-append-to-body":!1},on:{change:function(e){return t.getSalesFiscals("get-no")}},model:{value:t.search.year,callback:function(e){t.$set(t.search,"year",e)},expression:"search.year"}},t._l(t.salesFiscalsYears,(function(t){return s("el-option",{key:t.sales_fiscal_year_th,attrs:{label:t.sales_fiscal_year_th,value:t.sales_fiscal_year_th}})})),1)],1)]),t._v(" "),s("div",{staticClass:"form-group mb-0 col-4 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ครั้งที่ปีงบประมาณการจำหน่าย:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("el-select",{staticClass:"mr-2 form-control-file",attrs:{clearable:"",placeholder:"ปีงบประมาณ",size:"small","popper-append-to-body":!1},on:{change:function(e){return t.getSalesFiscals("get-version")}},model:{value:t.search.no,callback:function(e){t.$set(t.search,"no",e)},expression:"search.no"}},t._l(t.salesFiscalsNo,(function(t){return s("el-option",{key:t.sales_fiscal_year_no,attrs:{label:t.sales_fiscal_year_no,value:t.sales_fiscal_year_no}})})),1)],1)]),t._v(" "),s("div",{staticClass:"form-group mb-0 col-3 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปรับครั้งที่:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("el-select",{staticClass:"mr-2 form-control-file",attrs:{clearable:"",placeholder:"ปีงบประมาณ",size:"small","popper-append-to-body":!1},model:{value:t.search.change_no,callback:function(e){t.$set(t.search,"change_no",e)},expression:"search.change_no"}},t._l(t.salesFiscalsVersion,(function(t){return s("el-option",{key:t.sales_fiscal_year_revision,attrs:{label:t.sales_fiscal_year_revision,value:t.sales_fiscal_year_revision}})})),1)],1)]),t._v(" "),s("div",{staticClass:"form-group mb-0 col-lg-2 col-md-2 col-sm-6 col-xs-6 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปรับครั้งที่:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("button",{staticClass:"btn btn-w-m btn-default",attrs:{type:"button"},on:{click:function(e){return t.searchSalesFiscal("search")}}},[s("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),t._v(" ค้นหา\n                                                ")])])])])])])]),t._v(" "),t.salesFiscals.length>0&t.showTable?s("div",{staticClass:"table-responsive"},[s("div",{staticStyle:{height:"250px",overflow:"scroll"}},[s("table",{staticClass:"table"},[t._m(3),t._v(" "),s("tbody",t._l(t.salesFiscals,(function(e,a){return s("tr",{key:a},[s("td",[t._v(" "+t._s(e.sales_fiscal_year_th)+" ")]),t._v(" "),s("td",[t._v(" "+t._s(e.sales_fiscal_year_no)+" ")]),t._v(" "),s("td",[t._v(" "+t._s(e.approve_date)+" ")]),t._v(" "),s("td",[t._v(" "+t._s(e.sales_fiscal_year_revision)+" ")]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-primary btn-xs",on:{click:function(e){return t.selectSalesFiscal(a)}}},[t._v("เลือก")])])])})),0)])])]):t._e(),t._v(" "),s("div",{staticClass:"form-group row mt-4"},[s("div",{staticClass:"col-lg-12 text-center"},[s("button",{staticClass:"btn btn-primary col-lg-2 p-2",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createLine}},[s("i",{staticClass:"fa fa-check"}),t._v("สร้าง\n                                            ")]),t._v(" "),t._m(4)])])])])])]),t._v(" "),s("div",{staticClass:"modal inmodal fade",staticStyle:{display:"none"},attrs:{id:"ModalSearch",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[t._m(5),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.tempSearch,expression:"loading.tempSearch"}],staticClass:"modal-body"},[s("div",{staticClass:"row col-12"},[s("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ปีงบประมาณ:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("el-select",{staticClass:"mr-2",attrs:{clearable:"",placeholder:"ปีงบประมาณ",size:"small","popper-append-to-body":!1},on:{change:t.getTempVersion},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},t._l(t.hYears,(function(t){return s("el-option",{key:t.fiscal_year_th,attrs:{label:t.fiscal_year_th,value:t.fiscal_year_th}})})),1)],1)]),t._v(" "),s("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ครั้งที่:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("el-select",{staticClass:"mr-2",attrs:{clearable:"",placeholder:"ครั้งที่",size:"small","popper-append-to-body":!1},model:{value:t.fiscalYearNoSelected,callback:function(e){t.fiscalYearNoSelected=e},expression:"fiscalYearNoSelected"}},t._l(t.fiscalYearNo,(function(t){return s("el-option",{key:t.fiscal_year_no,attrs:{label:t.fiscal_year_no,value:t.fiscal_year_no}})})),1)],1)]),t._v(" "),s("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-2 col-sm-6 col-xs-6 mt-2"},[s("label",{staticClass:"text-left tw-font-bold tw-uppercase mb-1"},[t._v(" ครั้งที่:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("button",{staticClass:"btn btn-w-m btn-default",attrs:{type:"button"},on:{click:t.searchHeaders}},[s("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),t._v(" ค้นหา\n                                        ")])])])]),t._v(" "),s("table",{staticClass:"table mt-2"},[t._m(6),t._v(" "),s("tbody",t._l(t.uHeaders,(function(e,a){return s("tr",{key:a,staticStyle:{cursor:"pointer"},attrs:{"data-dismiss":"modal"},on:{click:function(s){return t.selectHeader(e.web_h_id)}}},[s("td",[t._v(t._s(e.fiscal_year_th))]),t._v(" "),s("td",[t._v(t._s(e.fiscal_year_no))])])})),0)])])])])])])]),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.form,expression:"loading.form"}],staticClass:"ibox-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-sm-12 row"},[s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            ปีงบประมาณ\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.period_year,expression:"form.period_year"}],staticClass:"form-control text-center p-0 col-12",attrs:{disabled:""},domProps:{value:t.form.period_year},on:{input:function(e){e.target.composing||t.$set(t.form,"period_year",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            ครั้งที่\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.period_year_no,expression:"form.period_year_no"}],staticClass:"form-control text-center p-0 col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.form.period_year_no},on:{input:function(e){e.target.composing||t.$set(t.form,"period_year_no",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-3 col-form-label text-right"},[t._v("\n                            วันที่สร้าง\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("span",{staticClass:"remark"},[t._v(" "+t._s(t.form.date_create)+" ")])]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label text-right"},[t._v("\n                            วันที่แก้ไขล่าสุด\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("span",{staticClass:"remark"},[t._v(t._s(t.form.date_updated))])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-sm-12 row"},[s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            อ้างอิงค่า LLD ปี\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lld_year,expression:"form.lld_year"}],staticClass:"form-control text-center p-0 col-12",attrs:{disabled:""},domProps:{value:t.form.lld_year},on:{input:function(e){e.target.composing||t.$set(t.form,"lld_year",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            ประมาณยอดจำหน่ายปี\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.planning_year,expression:"form.planning_year"}],staticClass:"form-control text-center p-0 col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.form.planning_year},on:{input:function(e){e.target.composing||t.$set(t.form,"planning_year",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-3 col-form-label text-right"},[t._v("\n                            ครั้งที่\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.planning_no,expression:"form.planning_no"}],staticClass:"form-control text-center p-0 col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.form.planning_no},on:{input:function(e){e.target.composing||t.$set(t.form,"planning_no",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label text-right"},[t._v("\n                            ปรับครั้งที่ \n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-3 col-form-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.planning_version,expression:"form.planning_version"}],staticClass:"form-control text-center p-0 col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.form.planning_version},on:{input:function(e){e.target.composing||t.$set(t.form,"planning_version",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-sm-12 row"},[s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[t._m(7),t._v(" "),s("div",{staticClass:"col-lg-9 col-form-label"},[s("el-select",{staticClass:"form-group",attrs:{size:"small",clearable:"",placeholder:"Select","popper-append-to-body":!1},on:{change:function(e){return t.getItems("tobacco_type")}},model:{value:t.typeSelected,callback:function(e){t.typeSelected=e},expression:"typeSelected"}},t._l(t.types,(function(t){return s("el-option",{key:t.ingredien_tobacco_type,attrs:{label:t.ingredien_tobacco_desc,value:t.ingredien_tobacco_type}})})),1)],1)]),t._v(" "),s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-6 col-form-label text-right"},[t._v("\n                            ผู้บันทึก\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-6 col-form-label"},[s("input",{staticClass:"form-control col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.userProfile.user_name}})])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-sm-12 row"},[s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[t._m(8),t._v(" "),s("div",{staticClass:"col-lg-9 col-form-label"},[s("el-select",{staticClass:"form-group",attrs:{clearable:"",size:"small",placeholder:"Select","popper-append-to-body":!1,disabled:"1004"==t.typeSelected},on:{change:function(e){return t.getItems("tobacco_group")}},model:{value:t.speciesSelected,callback:function(e){t.speciesSelected=e},expression:"speciesSelected"}},t._l(t.species,(function(t,e){return s("el-option",{key:e,attrs:{label:t.tobacco_type_desc,value:t.tobacco_type_meaning}})})),1)],1)]),t._v(" "),s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-6 col-form-label text-right"},[t._v("\n                            วันที่อนุมัติ\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-6 col-form-label"},[s("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%","border-radius":"3px"},attrs:{name:"input_date",id:"input_date","v-model":t.header.tran_approval_date,format:t.transDate["js-format"]},on:{change:function(e){return t.updateApprove()}}})],1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-sm-12 row"},[s("div",{staticClass:"col-lg-6 col-sm-12 form-inline"},[s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            สถานะ\n                        ")]),t._v(" "),s("div",{staticClass:"col-lg-9 col-form-label"},[s("el-select",{staticClass:"form-group",attrs:{clearable:"",size:"small",placeholder:"Select","popper-append-to-body":!1},on:{change:function(e){return t.fitterLines("status")}},model:{value:t.statusSelect,callback:function(e){t.statusSelect=e},expression:"statusSelect"}},t._l(t.statuses,(function(t,e){return s("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1)])])])])]),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.save,expression:"loading.save"}],staticClass:"ibox-title p-4"},[t.showLine&0==t.lines.length?s("div",{attrs:{align:"center"}},[s("h4",[t._v(" Data Not Found. ")])]):t._e(),t._v(" "),s("div",{staticClass:"row align-items-center"},[t.showLine?s("div",{staticStyle:{width:"1920px",overflow:"scroll",height:"700px"}},[t.showLine&"1004"!=t.typeSelected?s("table",{staticClass:"table",attrs:{width:"100%"}},t._l(t.trlines,(function(e,a){return s("div",{key:a},[0==a?s("thead",[s("tr",[t._m(9,!0),t._v(" "),t._m(10,!0),t._v(" "),t._m(11,!0),t._v(" "),t._m(12,!0),t._v(" "),t._m(13,!0),t._v(" "),s("th",{staticClass:"w-20 text-center",attrs:{colspan:2*e.merge_tr}},[s("div",{staticClass:"tw-bg-red-300 p-2"},[t._v(" ใบยา ")])])]),t._v(" "),s("tr",t._l(e.medicinal_leaves,(function(e,a){return s("th",{key:a,staticClass:"text-center w-300",attrs:{colspan:"2"}},[s("div",{staticClass:"p-2 tw-bg-green-200"},[t._v(t._s(e))])])})),0),t._v(" "),s("tr",t._l(e.medicinal_leaves_tr,(function(e,a){return s("th",{key:a,staticClass:"text-center"},[s("div",{staticClass:"tw-bg-gray-400 p-2"},[t._v(t._s(a%2==0?"%":"กก."))])])})),0)]):t._e(),t._v(" "),t._l(t.lines,(function(e,a){return s("tbody",{key:a},[s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" "+t._s(e.item_desc)+" ")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:e.quantity}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:e.qty_lld}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:e.year_quantity}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:e.month_quantity}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[t.formLines[e.item_code+a+t.speciesSelected]?s("input",{directives:[{name:"model",rawName:"v-model",value:t.formLines[e.item_code+a+t.speciesSelected].ingredien_percent_item,expression:"formLines[uLine.item_code+mlTr+speciesSelected].ingredien_percent_item"}],staticClass:"form-control text-right",attrs:{type:"text",disabled:i%2!=0},domProps:{value:t.formLines[e.item_code+a+t.speciesSelected].ingredien_percent_item},on:{input:[function(s){s.target.composing||t.$set(t.formLines[e.item_code+a+t.speciesSelected],"ingredien_percent_item",s.target.value)},function(s){return t.inputData(t.formLines[e.item_code+a+t.speciesSelected].ingredien_percent_item,t.formLines[e.item_code+a+t.speciesSelected])}]}}):t._e(),t._v(" "),t.formLines[e.item_code+a+t.speciesSelected]?t._e():s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0}})]):t._e(),t._v(" "),i%2!=0?s("span",[t.formLines[e.item_code+a+t.speciesSelected]?s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(e.year_quantity*(t.formLines[e.item_code+a+t.speciesSelected]?.01*t.formLines[e.item_code+a+t.speciesSelected].ingredien_percent_item:0))}}):t._e(),t._v(" "),t.formLines[e.item_code+a+t.speciesSelected]?t._e():s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"}})]):t._e()])}))],2),t._v(" "),t.totalLines==a?s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" รวมการใช้ 6 เดือน ")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("quantity")/2)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("qty_lld")/2)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("year_quantity")/2)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("month_quantity")/2)}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.sumLinesCasing(e.item_code,a,t.speciesSelected)/2)}})]):t._e(),t._v(" "),i%2!=0?s("span",[s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(t.sumKgLinesCasing(e.year_quantity,e.item_code,a,t.speciesSelected)/2)}})]):t._e()])}))],2):t._e(),t._v(" "),t.totalLines==a?s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" รวมการใช้ทั้งปี")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("quantity"))}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("qty_lld"))}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("year_quantity"))}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("month_quantity"))}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.sumLinesCasing(e.item_code,a,t.speciesSelected))}})]):t._e(),t._v(" "),i%2!=0?s("span",[s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(t.sumKgLinesCasing(e.year_quantity,e.item_code,a,t.speciesSelected))}})]):t._e()])}))],2):t._e(),t._v(" "),t.totalLines==a?s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" รวมการใช้ต่อเดือน")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("quantity")/12)}}),t._v(" "+t._s()+" ")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("qty_lld")/12)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("year_quantity")/12)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("month_quantity")/12)}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.sumLinesCasing(e.item_code,a,t.speciesSelected)/12)}})]):t._e(),t._v(" "),i%2!=0?s("span",[s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(t.sumKgLinesCasing(e.year_quantity,e.item_code,a,t.speciesSelected)/12)}})]):t._e()])}))],2):t._e()])}))],2)})),0):t._e(),t._v(" "),t.showLine&"1004"==t.typeSelected?s("table",{staticClass:"table",attrs:{width:"100%"}},t._l(t.trlines,(function(e,a){return s("div",{key:a},[0==a?s("thead",[s("tr",[t._m(14,!0),t._v(" "),t._m(15,!0),t._v(" "),t._m(16,!0),t._v(" "),t._m(17,!0),t._v(" "),t._m(18,!0),t._v(" "),s("th",{staticClass:"w-20 text-center",attrs:{colspan:2*e.merge_tr}},[s("div",{staticClass:"tw-bg-red-300 p-2"},[t._v("  ใบยา  ")])])]),t._v(" "),s("tr",t._l(e.medicinal_leaves,(function(e,a){return s("th",{key:a,staticClass:"w-300 text-center",attrs:{colspan:"2"}},[s("div",{staticClass:"p-2 tw-bg-green-200"},[t._v(" "+t._s(e)+" ")])])})),0),t._v(" "),s("tr",t._l(e.medicinal_leaves_tr,(function(e,a){return s("th",{key:a,staticClass:"text-center"},[s("div",{staticClass:"tw-bg-gray-400 p-2"},[t._v(" "+t._s(a%2==0?"ต่อ 100 กก":"กก.")+" ")])])})),0)]):t._e(),t._v(" "),t._l(t.lines,(function(e,a){return s("tbody",{key:a},[s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" "+t._s(e.item_desc)+" ")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(e.quantity)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(e.qty_lld)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(e.year_quantity)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(e.month_quantity)}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[t.formLines[e.item_code+a+"all"]?s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.formLines[e.item_code+a+"all"].sum_ingredien_percent_item)}}):t._e(),t._v(" "),t.formLines[e.item_code+a+"all"]?t._e():s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0}})]):t._e(),t._v(" "),i%2!=0?s("span",[t.formLines[e.item_code+a+"all"]?s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(e.year_quantity*(t.formLines[e.item_code+a+"all"]?t.formLines[e.item_code+a+"all"].sum_ingredien_percent_item:0))}}):t._e(),t._v(" "),t.formLines[e.item_code+a+"all"]?t._e():s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"}})]):t._e()])}))],2),t._v(" "),t.totalLines==a?s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" รวมการใช้ 6 เดือน ")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("quantity")/2)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("qty_lld")/2)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("year_quantity")/2)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("month_quantity")/2)}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.sumLines(e.item_code,a,t.speciesSelected)/2)}})]):t._e(),t._v(" "),i%2!=0?s("span",[s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(t.sumKgLines(e.year_quantity,e.item_code,a,t.speciesSelected)/2)}})]):t._e()])}))],2):t._e(),t._v(" "),t.totalLines==a?s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" รวมการใช้ทั้งปี")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("quantity"))}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("qty_lld"))}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("year_quantity"))}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("month_quantity"))}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.sumLines(e.item_code,a,t.speciesSelected))}})]):t._e(),t._v(" "),i%2!=0?s("span",[s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(t.sumKgLines(e.year_quantity,e.item_code,a,t.speciesSelected))}})]):t._e()])}))],2):t._e(),t._v(" "),t.totalLines==a?s("tr",[s("td",{staticClass:"w-150 text-right"},[t._v(" รวมการใช้ต่อเดือน")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("quantity")/12)}}),t._v(" "+t._s()+" ")]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("qty_lld")/12)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("year_quantity")/12)}})]),t._v(" "),s("td",{staticClass:"w-150 text-right"},[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:""},domProps:{value:t.summary(t.sumAmount("month_quantity")/12)}})]),t._v(" "),t._l(e.medicinal_leaves_tr,(function(a,i){return s("td",{key:i,staticClass:"w-50"},[i%2==0?s("span",[s("input",{staticClass:"form-control text-right",attrs:{type:"text",disabled:!0},domProps:{value:t.summary(t.sumLines(e.item_code,a,t.speciesSelected)/12)}})]):t._e(),t._v(" "),i%2!=0?s("span",[s("input",{staticClass:"form-control text-center col-12",attrs:{disabled:"",type:"text"},domProps:{value:t.summary(t.sumKgLines(e.year_quantity,e.item_code,a,t.speciesSelected)/12)}})]):t._e()])}))],2):t._e()])}))],2)})),0):t._e()]):t._e()])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-4"},[s("h5",[t._v("ประมาณการใช้วัตถุดิบในคงคลัง :")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-w-m btn-default",attrs:{type:"submit","data-toggle":"modal","data-target":"#ModalSearch"}},[s("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),t._v(" ค้นหา\n                        ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h3",{staticClass:"modal-title",attrs:{id:"ModalCreateLabel"}},[t._v("\n                                    สรา้งประมาณการใช้วัตถุดิบตามประมาณยอดจำหน่าย")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"20%"}},[t._v("ปีงบประมาณ")]),t._v(" "),s("th",{staticStyle:{width:"20%"}},[t._v("ครั้งที่ปีงบประมาณการจำหน่าย")]),t._v(" "),s("th",{staticStyle:{width:"20%"}},[t._v("วันที่อนุมัติ")]),t._v(" "),s("th",{staticStyle:{width:"20%"}},[t._v("ปรับครั้งที่")]),t._v(" "),s("th",{staticStyle:{width:"20%"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-danger col-lg-2 p-2",attrs:{type:"button","data-dismiss":"modal"}},[s("i",{staticClass:"fa fa-times"}),t._v("ยกเลิก\n                                            ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),s("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),s("h4",{staticClass:"modal-title"},[t._v("ประมาณการยอดจำหน่ายประจำปี")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{width:"50px"}},[t._v("ปีงบประมาณ")]),t._v(" "),s("th",[t._v("ครั้งที่")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            ประเภท "),s("span",{staticClass:"text-danger"},[t._v(" * ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-3 col-form-label"},[t._v("\n                            กลุ่ม "),s("span",{staticClass:"text-danger"},[t._v(" * ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v(" ตราบุหรี่ ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("ประมาณการจำหน่ายประจำปี (ล้านมวน) ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("ค่า LLD (ก.ก./พันมวน) ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v(" จำนวนที่ใช้ต่อปี (ก.ก.) ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v(" จำนวนที่ใช้ต่อเดือน (ก.ก.) ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("ตราบุหรี่")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("ประมาณการจำหน่ายประจำปี (ล้านมวน)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("ค่า LLD (ก.ก./พันมวน)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("จำนวนที่ใช้ต่อปี (ก.ก.)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w-150 text-center",attrs:{rowspan:"3"}},[s("div",{staticClass:"h-150 p-2 tw-bg-gray-400"},[t._v("จำนวนที่ใช้ต่อเดือน (ก.ก.)")])])}],!1,null,null,null).exports}}]);