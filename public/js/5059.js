(self.webpackChunk=self.webpackChunk||[]).push([[5059],{73721:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var a=o(23645),r=o.n(a)()((function(t){return t[1]}));r.push([t.id,".el-table .warning-row[data-v-0ef8b354]{background-color:#fdf5e6!important}.side_list[data-v-0ef8b354]{height:500px;border-radius:5px;padding:20px;border:2px solid #eee}.side_list .title[data-v-0ef8b354]{font-size:14px;font-weight:700;color:#909399}.side_list .show_list[data-v-0ef8b354]{max-height:400px;overflow:scroll}.side_list .show_list-item[data-v-0ef8b354]{width:100%;justify-content:space-between}.m-px__5[data-v-0ef8b354]{margin:5px}.flex[data-v-0ef8b354]{display:flex}.text-title[data-v-0ef8b354]{font-size:16px;font-weight:600}.btn-info[data-v-0ef8b354]{background-color:#02b0ef;border-color:#02b0ef}.btn-success[data-v-0ef8b354]{background-color:#1ab394;border-color:#1ab394}.btn-cancel[data-v-0ef8b354]{background-color:#ec4958;border-color:#ec4958;color:#fff}.text-refresh[data-v-0ef8b354]{color:#ec4958}.show_list[data-v-0ef8b354]{display:flex;flex-wrap:wrap}.show_list-item[data-v-0ef8b354]{cursor:pointer;display:flex;margin:5px;background-color:#f4f4f5;padding:3px 10px;color:#909399;border-color:#e9e9eb;border-radius:3px;text-align:left;align-items:center}.show_list-item[data-v-0ef8b354]:hover{background-color:#ededf0}.show_list-item__close[data-v-0ef8b354]{margin-left:10px}",""]);const s=r},85059:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>p});var a=o(87757),r=o.n(a);function s(t,e,o,a,r,s,n){try{var c=t[s](n),i=c.value}catch(t){return void o(t)}c.done?e(i):Promise.resolve(i).then(a,r)}function n(t){return function(){var e=this,o=arguments;return new Promise((function(a,r){var n=t.apply(e,o);function c(t){s(n,a,r,c,i,"next",t)}function i(t){s(n,a,r,c,i,"throw",t)}c(void 0)}))}}const c={data:function(){return{tableData:[],form:{show:!1,loading:!1,fetch_data:!1,cost_code_list:[],cost_code:"",product_group:"",description:""}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.form.fetch_data=!0,axios.get("/ct/ajax/product_group/get-data-from-view").then((function(e){t.tableData=e.data.product_groups,t.form.cost_code_list=e.data.cost_code_list,t.form.fetch_data=!1}))},save:function(){var t=this;return n(r().mark((function e(){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t,(a=JSON.parse(JSON.stringify(o.form))).cost_code_list=[],o.form.loading=!0,axios.post("/ct/ajax/product_group/cost-code",{input:a}).then((function(t){var e=t.data;"S"==e.status&&(swal({title:"&nbsp;",text:"บันทึกข้อมูลสำเร็จ",type:"success",html:!0}),o.form.cost_code="",o.form.product_group="",o.form.description="",o.fetchData()),"S"!=e.status&&swal({title:"Error !",text:e.message,type:"error",showConfirmButton:!0}),o.form.loading=!1}));case 5:case"end":return e.stop()}}),e)})))()},update:function(t){var e=this;return n(r().mark((function o(){var a;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e,a={cost_code:t.cost_code,product_group:t.product_group,description:t.description},t.loading=!0,axios.post("/ct/ajax/product_group/update-cost-code",{input:a}).then((function(e){var o=e.data;"S"==o.status&&(swal({title:"&nbsp;",text:"บันทึกข้อมูลสำเร็จ",type:"success",html:!0}),t.loading=!1,t.show_edit_form=!1),"S"!=o.status&&swal({title:"Error !",text:o.message,type:"error",showConfirmButton:!0}),t.loading=!1}));case 4:case"end":return o.stop()}}),o)})))()},del:function(t){var e=this;return n(r().mark((function o(){var a,s;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=e,!1,s={cost_code:t.cost_code,product_group:t.product_group,description:t.description},o.next=5,helperAlert.showProgressConfirm("กรุณายืนยันลบข้อมูล");case 5:o.sent&&(t.loading=!0,axios.post("/ct/ajax/product_group/del-cost-code",{input:s}).then((function(e){var o=e.data;"S"==o.status&&(swal({title:"&nbsp;",text:"บันทึกข้อมูลสำเร็จ",type:"success",html:!0}),t.loading=!1,a.fetchData()),"S"!=o.status&&swal({title:"Error !",text:o.message,type:"error",showConfirmButton:!0}),t.loading=!1})));case 7:case"end":return o.stop()}}),o)})))()}}};var i=o(93379),l=o.n(i),d=o(73721),u={insert:"head",singleton:!1};l()(d.Z,u);d.Z.locals;const p=(0,o(51900).Z)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-product-groups"},[o("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.form.show?o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.form.loading,expression:"form.loading"}],staticClass:"col-lg-12 mt-2 mb-5 "},[o("div",{staticClass:"row"},[o("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[o("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v("ศูนย์ต้นทุน :")]),t._v(" "),o("div",{staticClass:"input-group "},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:""},model:{value:t.form.cost_code,callback:function(e){t.$set(t.form,"cost_code",e)},expression:"form.cost_code"}},t._l(t.form.cost_code_list,(function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._v(" "),o("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[o("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v("กลุ่มผลิตภัณฑ์ :")]),t._v(" "),o("div",{staticClass:"input-group "},[o("el-input",{attrs:{type:"text",placeholder:"",maxlength:"50","show-word-limit":""},model:{value:t.form.product_group,callback:function(e){t.$set(t.form,"product_group",e)},expression:"form.product_group"}})],1)]),t._v(" "),o("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[o("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v("รายละเอียด :")]),t._v(" "),o("div",{staticClass:"input-group "},[o("el-input",{attrs:{type:"text",placeholder:"",maxlength:"50","show-word-limit":""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)]),t._v(" "),o("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[o("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v(" ")]),t._v(" "),o("div",{staticClass:"input-group "},[o("button",{staticClass:"btn btn-white btn-lg",attrs:{type:"button"},on:{click:function(e){t.form.show=!1}}},[t._v("ยกเลิก")]),t._v(" "),o("button",{staticClass:"btn btn-success btn-lg ml-2",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[t._v("บันทึก")])])])])]):t._e()]),t._v(" "),o("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.form.show?t._e():o("div",{staticClass:"col-lg-12 mt-2 text-right"},[o("el-button",{staticClass:"btn btn-success m-px__5",attrs:{type:"success"},on:{click:function(e){t.form.show=!0}}},[t._v("\n            เพิ่มผลิตภัณฑ์ใหม่\n          ")])],1)]),t._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.form.fetch_data,expression:"form.fetch_data"}],staticClass:"col-lg-12 mt-2"},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[o("el-table-column",{attrs:{prop:"cost_code",label:"ศูนย์ต้นทุน",align:"center",width:"110"}}),t._v(" "),o("el-table-column",{attrs:{prop:"cost_description",label:"รายละเอียด"}}),t._v(" "),o("el-table-column",{attrs:{prop:"product_group",label:"กลุ่มผลิตภัณฑ์",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[(e.row.show_edit_form,o("div",[t._v("\n                  "+t._s(e.row.product_group)+"\n              ")]))]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"description",label:"รายละเอียด","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.show_edit_form?o("div",[o("el-input",{attrs:{type:"text",placeholder:"",maxlength:"50","show-word-limit":""},model:{value:e.row.description,callback:function(o){t.$set(e.row,"description",o)},expression:"scope.row.description"}})],1):o("div",[t._v("\n                  "+t._s(e.row.description)+"\n              ")])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.show_edit_form?t._e():o("button",{staticClass:"btn btn-warning btn-lg tw-w-24",attrs:{type:"button"},on:{click:function(t){e.row.show_edit_form=!0}}},[t._v("\n              แก้ไข\n            ")]),t._v(" "),e.row.show_edit_form?o("button",{staticClass:"btn btn-success btn-lg tw-w-24",attrs:{type:"button"},on:{click:function(o){return t.update(e.row)}}},[t._v("\n              บันทึก\n            ")]):t._e(),t._v(" "),o("button",{staticClass:"btn btn-danger btn-lg ml-2 tw-w-24",attrs:{type:"button"},on:{click:function(o){return t.del(e.row)}}},[t._v("ลบ")]),t._v(" "),o("a",{staticClass:"btn btn-primary btn-lg tw-w-24",attrs:{href:"/ct/product_group/"+e.row.product_group+"?cost_code="+e.row.cost_code}},[t._v("\n              ผลิตภัณฑ์\n            ")])]}}])})],1)],1)],1)}),[],!1,null,"0ef8b354",null).exports}}]);