(self.webpackChunk=self.webpackChunk||[]).push([[2626],{37051:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(23645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,"td[data-v-3a7d6ae6],th[data-v-3a7d6ae6]{padding:.25rem}th[data-v-3a7d6ae6]{background:#fff;position:-webkit-sticky;position:sticky;top:0}.mouse-over[data-v-3a7d6ae6]:hover{background-color:#d4edda!important}",""]);const s=o},44520:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(23645),o=a.n(n)()((function(e){return e[1]}));o.push([e.id,'.el-form-item__content{line-height:40px;position:relative;font-size:14px;margin-left:0!important}.table.b-table>thead>tr>[aria-sort]>div{display:flex;justify-content:space-between;align-items:flex-end}.table.b-table>thead>tr>[aria-sort]{cursor:pointer}table.b-table>tfoot>tr>th[aria-sort=descending]>div:before,table.b-table>thead>tr>th[aria-sort=descending]>div:before{content:"";padding-left:15px}table.b-table>tfoot>tr>th[aria-sort=descending]>div:after,table.b-table>thead>tr>th[aria-sort=descending]>div:after{opacity:1;content:"\\2193";padding-left:10px}table.b-table>tfoot>tr>th[aria-sort=ascending]>div:before,table.b-table>thead>tr>th[aria-sort=ascending]>div:before{content:"";padding-left:15px}table.b-table>tfoot>tr>th[aria-sort=ascending]>div:after,table.b-table>thead>tr>th[aria-sort=ascending]>div:after{opacity:1;content:"\\2191";padding-left:10px}table.b-table>tfoot>tr>th[aria-sort=none]>div:before,table.b-table>thead>tr>th[aria-sort=none]>div:before{content:"";padding-left:15px}table.b-table>tfoot>tr>th[aria-sort=none]>div:after,table.b-table>thead>tr>th[aria-sort=none]>div:after{opacity:1;content:"\\21C5";font-weight:400;padding-left:10px}.table-active,.table-active>td,.table-active>th,.table-hover>tbody>tr:hover{background-color:#d4edda!important}',""]);const s=o},92626:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ee});var n=a(67791),o=a(38012);const s={name:"ir-asset-increase-department-location",data:function(){return{departmentLocations:[],loading:!1,department_location_code:this.departmentLocationCode}},props:["attrName","departmentLocationCode","indexTable","rows"],methods:{remoteMethodDepartmentLocation:function(e){this.getDepartmentLocations({meaning:"",keyword:e})},getDepartmentLocations:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/department-location",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.departmentLocations=a})).catch((function(e){swal("Error",e,"error")}))},focusDepartmentLocation:function(e){this.getDepartmentLocations({meaning:"",keyword:""})},changeDepartmentLocation:function(e){if(e)for(var t in this.departmentLocations){var a=this.departmentLocations[t];a.meaning===e&&(this.rows[this.indexTable].department_location_code=e,this.rows[this.indexTable].department_location_desc=a.description)}else this.rows[this.indexTable].department_location_code="",this.rows[this.indexTable].department_location_desc="";this.$emit("change-value-department-locations",this.rows)}},mounted:function(){this.getDepartmentLocations({meaning:"",keyword:""})},watch:{departmentLocationCode:function(e,t){this.department_location_code=e}}};var i=a(51900);const r=(0,i.Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสหน่วยงานตามสถานที่",name:e.attrName,"remote-method":e.remoteMethodDepartmentLocation,loading:e.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:e.changeDepartmentLocation,focus:e.focusDepartmentLocation},model:{value:e.department_location_code,callback:function(t){e.department_location_code=t},expression:"department_location_code"}},e._l(e.departmentLocations,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const c={name:"ir-asset-increase-lov-department-cost",data:function(){return{departmentCosts:[],loading:!1,department_cost_code:this.departmentCostCode}},props:["attrName","departmentCostCode","indexTable","rows"],methods:{remoteMethodDepartmentCost:function(e){this.getDepartmentCosts({department_code:"",keyword:e})},getDepartmentCosts:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.departmentCosts=a})).catch((function(e){swal("Error",e,"error")}))},focusDepartmentCost:function(e){this.getDepartmentCosts({department_code:"",keyword:""})},changeDepartmentCost:function(e){if(e)for(var t in this.departmentCosts){var a=this.departmentCosts[t];a.meaning===e&&(this.rows[this.indexTable].department_cost_code=e,this.rows[this.indexTable].department_cost_desc=a.description)}else this.rows[this.indexTable].department_cost_code="",this.rows[this.indexTable].department_cost_desc="";this.$emit("change-value-department-costs",this.rows)}},mounted:function(){this.getDepartmentCosts({department_code:"",keyword:""})},watch:{departmentCostCode:function(e,t){this.department_cost_code=e}}};const l=(0,i.Z)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสหน่วยงานตามค่าใช้จ่าย",name:e.attrName,"remote-method":e.remoteMethodDepartmentCost,loading:e.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:e.changeDepartmentCost,focus:e.focusDepartmentCost},model:{value:e.department_cost_code,callback:function(t){e.department_cost_code=t},expression:"department_cost_code"}},e._l(e.departmentCosts,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const d={name:"ir-asset-increase-lov-department",data:function(){return{departments:[],loading:!1,department_code:this.departmentCode}},props:["attrName","departmentCode","indexTable","rows"],methods:{remoteMethodDepartment:function(e){this.getDepartments({value:"",keyword:e})},getDepartments:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/cat-segment1",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.departments=a})).catch((function(e){swal("Error",e,"error")}))},focusDepartment:function(e){this.getDepartments({value:"",keyword:""})},changeDepartment:function(e){if(e)for(var t in this.departments){var a=this.departments[t];a.meaning===e&&(this.rows[this.indexTable].department_code=e,this.rows[this.indexTable].department_name=a.description)}else this.rows[this.indexTable].department_code="",this.rows[this.indexTable].department_name="";this.$emit("change-value-departments",this.rows)}},mounted:function(){this.getDepartments({value:"",keyword:""})},watch:{departmentCode:function(e,t){this.department_code=e}}};const u=(0,i.Z)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสสังกัด",name:e.attrName,"remote-method":e.remoteMethodDepartment,loading:e.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:e.changeDepartment,focus:e.focusDepartment},model:{value:e.department_code,callback:function(t){e.department_code=t},expression:"department_code"}},e._l(e.departments,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const m={name:"ir-asset-increase-lov-category",data:function(){return{categories:[],loading:!1,category_code:this.categoryId}},props:["attrName","categoryId","indexTable","rows"],methods:{remoteMethodCategory:function(e){this.getCategories({value:"",keyword:e})},getCategories:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/category-seg4",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.categories=a})).catch((function(e){swal("Error",e,"error")}))},focusCategory:function(e){this.getCategories({value:"",keyword:""})},changeCategory:function(e){if(e)for(var t in this.categories){var a=this.categories[t];a.meaning===e&&(this.rows[this.indexTable].category_code=e,this.rows[this.indexTable].category_description=a.description,this.rows[this.indexTable].category_id=a.value)}else this.rows[this.indexTable].category_code="",this.rows[this.indexTable].category_description="",this.rows[this.indexTable].category_id="";this.$emit("change-value-categories",this.rows)}},mounted:function(){this.getCategories({value:"",keyword:""})},watch:{categoryId:function(e,t){this.category_code=e}}};const _=(0,i.Z)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสหมวด",name:e.attrName,"remote-method":e.remoteMethodCategory,loading:e.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:e.changeCategory,focus:e.focusCategory},model:{value:e.category_code,callback:function(t){e.category_code=t},expression:"category_code"}},e._l(e.categories,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const p={name:"ir-asset-increase-lov-receivable",data:function(){return{receivables:[],loading:!1,receivable_name:this.receivable}},props:["attrName","receivable","indexTable","rows","headerRow"],methods:{remoteMethodReceivable:function(e){this.getReceivables({value:"",keyword:e})},getReceivables:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/receivable-charge",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.receivables=a})).catch((function(e){swal("Error",e,"error")}))},focusReceivable:function(e){this.getReceivables({value:"",keyword:""})},changeReceivable:function(e){if(e)for(var t in this.receivables){this.receivables[t].description===e&&(this.rows[this.indexTable].receivable_name=e)}else this.rows[this.indexTable].receivable_name="";this.$emit("change-value-receivables",this.rows)}},mounted:function(){this.getReceivables({value:"",keyword:""})},watch:{receivable:function(e,t){this.receivable_name=e}}};const h=(0,i.Z)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"เรียกเก็บ",name:e.attrName,"remote-method":e.remoteMethodReceivable,loading:e.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:e.changeReceivable,focus:e.focusReceivable},model:{value:e.receivable_name,callback:function(t){e.receivable_name=t},expression:"receivable_name"}},e._l(e.receivables,(function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.description}})})),1)],1)}),[],!1,null,null,null).exports;var f=a(61701),v=a(84371),g=a(49710),b=a(30077),y=a(57460),w=a(9882),C=a(35938),x=a(8613),k=a(22374),R=a(75721),N=a(31262),L=a(25826),A=a(24829);const D={name:"ir-asset-increase-modal-account-code",data:function(){return{argSearchCompany:{compnany_code:"",description:""},account_code:"",account_name:"",description:this.descriptions,rules:{company:[{required:!0,message:"กรุณาระบุ Company Code",trigger:"change"}],branch:[{required:!0,message:"กรุณาระบุ EVM",trigger:"change"}],department:[{required:!0,message:"กรุณาระบุ Department",trigger:"change"}],product:[{required:!0,message:"กรุณาระบุ Cost Center",trigger:"change"}],source:[{required:!0,message:"กรุณาระบุ Budget Year",trigger:"change"}],account:[{required:!0,message:"กรุณาระบุ Budget Type",trigger:"change"}],subAccount:[{required:!0,message:"กรุณาระบุ Budget Detail",trigger:"change"}],projectActivity:[{required:!0,message:"กรุณาระบุ Budget Reason",trigger:"change"}],interCompany:[{required:!0,message:"กรุณาระบุ Main Account",trigger:"change"}],allocation:[{required:!0,message:"กรุณาระบุ Sub Account",trigger:"change"}],futureUsed1:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}],futureUsed2:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}]},account:this.accounts,account_id:this.accountId,typeCost:this.type_cost,disabled:!1}},props:["index","rows","accounts","accountId","type_cost","descriptions"],computed:{propProduct:function(){return{prop3:"department_code",value:this.account.department}},propSubAccount:function(){return{prop3:"budget_type",value:this.account.account}},propAllocation:function(){return{prop3:"main_account",value:this.account.interCompany}},checkAccountCode:function(){for(var e in this.account){return!!this.account[e]}return!1},checkAccountDesc:function(){for(var e in this.description){return!!this.description[e]}return!1}},methods:{clickAgree:function(){var e=this;this.$refs.modal_account_mapping.validate((function(t){t&&(e.account_code=e.account.company+"."+e.account.branch+"."+e.account.department+"."+e.account.product+"."+e.account.source+"."+e.account.account+"."+e.account.subAccount+"."+e.account.projectActivity+"."+e.account.interCompany+"."+e.account.allocation+"."+e.account.futureUsed1+"."+e.account.futureUsed2,e.account_desc=e.description.department+"."+e.description.interCompany+"."+e.description.allocation,e.rows[e.index].account_code=e.account_code,e.rows[e.index].account_desc=e.account_desc,e.rows[e.index].account_code_desc=e.account_desc,e.$emit("select-accounts",e.rows),e.$emit("clear-req",e.account_code),$("#modal_account".concat(e.index)).modal("hide"))}))},getDataCompany:function(e){this.account.company=e.value,this.description.company=e.desc},getDataBranch:function(e){this.account.branch=e.value,this.description.branch=e.desc},getValueDepartment:function(e){this.account.department=e.value,this.description.department=e.desc},getDataProduct:function(e){this.account.product=e.value,this.description.product=e.desc},getDataSource:function(e){this.account.source=e.value,this.description.source=e.desc},getDataAccount:function(e){this.account.account=e.value,this.description.account=e.desc},getDataSubAccount:function(e){this.account.subAccount=e.value,this.description.subAccount=e.desc},getDataProjectActivity:function(e){this.account.projectActivity=e.value,this.description.projectActivity=e.desc},getDataInterCompany:function(e){this.account.interCompany=e.value,this.description.interCompany=e.desc},getDataAllocation:function(e){this.account.allocation=e.value,this.description.allocation=e.desc},getDataFutureUsed1:function(e){this.account.futureUsed1=e.value,this.description.futureUsed1=e.desc},getDataFutureUsed2:function(e){this.account.futureUsed2=e.value,this.description.futureUsed2=e.desc},getValueAccount:function(e){this.account=e.account,this.description=e.description},getValueTypeCode:function(e,t){this.rows.length>0&&(this.rows[this.index].account_id=e.id,this.rows[this.index].type_cost=e.code),e.code?this.disabled=!0:this.disabled=!1}},components:{lovCompany:f.Z,lovBranch:v.Z,lovDepartment:g.Z,lovProduct:b.Z,lovSource:y.Z,lovAccount:w.Z,lovSubAccount:C.Z,lovProjectActivity:x.Z,lovInterCompany:k.Z,lovAllocation:R.Z,lovFutureUsed1:N.Z,lovFutureUsed2:L.Z,lovTypeCost:A.Z},watch:{accounts:function(e,t){this.account_id=e},type_cost:function(e,t){this.typeCost=e},descriptions:function(e,t){this.description=e},accountId:function(e,t){this.account_id=e}}};const E=(0,i.Z)(D,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_account"+e.index,tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("ข้อมูลรหัสบัญชี (Account Mapping)")])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("el-form",{ref:"modal_account_mapping",staticClass:"demo-ruleForm",attrs:{model:e.account,rules:e.rules,"label-width":"120px"}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              ประเภทค่าใช้จ่าย\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"type_cost"}},[a("lov-type-cost",{attrs:{account_id:e.accountId,placeholder:"ประเภทค่าใช้จ่าย",popperBody:!1,name:"type_cost"+e.index,disabled:!1},on:{"split-account":e.getValueAccount,"change-lov":e.getValueTypeCode},model:{value:e.typeCost,callback:function(t){e.typeCost=t},expression:"typeCost"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Company Code *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"company"}},[a("lov-company",{attrs:{attrName:"segmentCompany"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataCompany},model:{value:e.account.company,callback:function(t){e.$set(e.account,"company",t)},expression:"account.company"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              EVM *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"branch"}},[a("lov-branch",{attrs:{attrName:"segmentBranch"+e.index,vendorId:"",disabled:e.disabled},on:{"change-lov-segment":e.getDataBranch},model:{value:e.account.branch,callback:function(t){e.$set(e.account,"branch",t)},expression:"account.branch"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Department *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"department"}},[a("lov-department",{attrs:{attrName:"segmentDepartment"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getValueDepartment},model:{value:e.account.department,callback:function(t){e.$set(e.account,"department",t)},expression:"account.department"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Cost Center *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"product"}},[a("lov-product",{attrs:{attrName:"segmentProduct"+e.index,departmentCode:e.account.department,disabled:e.disabled},on:{"change-lov-segment":e.getDataProduct},model:{value:e.account.product,callback:function(t){e.$set(e.account,"product",t)},expression:"account.product"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Year *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"source"}},[a("lov-source",{attrs:{attrName:"segmentSource"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataSource},model:{value:e.account.source,callback:function(t){e.$set(e.account,"source",t)},expression:"account.source"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Type *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"account"}},[a("lov-account",{attrs:{attrName:"segmentAccount"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataAccount},model:{value:e.account.account,callback:function(t){e.$set(e.account,"account",t)},expression:"account.account"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Detail *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"subAccount"}},[a("lov-sub-account",{attrs:{attrName:"segmentSubAccount"+e.index,budgetType:e.account.account,disabled:e.disabled},on:{"change-lov-segment":e.getDataSubAccount},model:{value:e.account.subAccount,callback:function(t){e.$set(e.account,"subAccount",t)},expression:"account.subAccount"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Reason *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"projectActivity"}},[a("lov-project-activity",{attrs:{attrName:"segmentProjectActivity"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataProjectActivity},model:{value:e.account.projectActivity,callback:function(t){e.$set(e.account,"projectActivity",t)},expression:"account.projectActivity"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Main Account *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"interCompany"}},[a("lov-inter-company",{attrs:{attrName:"segmentInterCompany"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataInterCompany},model:{value:e.account.interCompany,callback:function(t){e.$set(e.account,"interCompany",t)},expression:"account.interCompany"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Sub Account *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"allocation"}},[a("lov-allocation",{attrs:{attrName:"`segmentAllocation${index}`",mainAccount:e.account.interCompany,disabled:e.disabled},on:{"change-lov-segment":e.getDataAllocation},model:{value:e.account.allocation,callback:function(t){e.$set(e.account,"allocation",t)},expression:"account.allocation"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Reserved *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed1"}},[a("lov-future-used1",{attrs:{attrName:"segmentFutureUsed1"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataFutureUsed1},model:{value:e.account.futureUsed1,callback:function(t){e.$set(e.account,"futureUsed1",t)},expression:"account.futureUsed1"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Reserved *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed2"}},[a("lov-future-used2",{attrs:{attrName:"segmentFutureUsed2"+e.index,disabled:e.disabled},on:{"change-lov-segment":e.getDataFutureUsed2},model:{value:e.account.futureUsed2,callback:function(t){e.$set(e.account,"futureUsed2",t)},expression:"account.futureUsed2"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),e._v(" ตกลง\n        ")])])])])])}),[],!1,null,null,null).exports;const S={name:"ir-asset-increase-ceil-thousand-currency-input",data:function(){return{isInputActive:!1,cover_amount_edit:""}},props:["value","rows","index","isChangeCeli","isBlurCeli","insurance_amount_master","vat_amount_master","sizeSmall","placeholder","qtyDay"],computed:{displayValue:{get:function(){return this.cover_amount_edit=this.value,this.isInputActive?(void 0===this.value||null===this.value?"":this.value).toString():this.value||0===this.value&&void 0!==this.value&&null!==this.value?parseFloat(this.value).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"):void 0},set:function(e){var t=+e;isNaN(t)&&(t=""),this.$emit("input",t)}}},methods:{ceilThousand:function(e){e=""===e||null==e?"0":e;var t="";this.isBlurCeli?(this.isInputActive=!1,t=void 0===this.displayValue||null===this.displayValue?"":this.displayValue):this.isChangeCeli&&(t=e.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"));var a=t.toString().split(","),n=e.toString().split("."),o=a.length-1,s="";if(parseInt(a[o])<=999)return s=1e3*Math.ceil(n[0]/1e3),isNaN(s)&&(s=""),void this.$emit("value-cover-amount",s)}}};const U=(0,i.Z)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.sizeSmall?"el-input--small":""},[e.isChangeCeli?a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayValue,expression:"displayValue"}],staticClass:"form-control el-input__inner text-right",attrs:{type:"text",autocomplete:"off",placeholder:e.placeholder,maxlength:"15"},domProps:{value:e.displayValue},on:{blur:function(t){e.isInputActive=!1},focus:function(t){e.isInputActive=!0},change:function(t){return e.ceilThousand(t.target.value)},input:function(t){t.target.composing||(e.displayValue=t.target.value)}}}):e._e(),e._v(" "),e.isBlurCeli?a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayValue,expression:"displayValue"}],staticClass:"form-control el-input__inner text-right",attrs:{type:"text",autocomplete:"off",placeholder:e.placeholder,maxlength:"15"},domProps:{value:e.displayValue},on:{blur:function(t){return e.ceilThousand(e.value)},focus:function(t){e.isInputActive=!0},input:function(t){t.target.composing||(e.displayValue=t.target.value)}}}):e._e()])}),[],!1,null,null,null).exports;var I=a(17159),j=a(75943),O=a(30381),F=a.n(O);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const q={name:"ir-asset-increase-edit-table-line",data:function(){return{setDataRowsNotInterface:[],complete:!0,columnSelected:[],columnSelectedId:[],manual_cover_amounts:[],indexTable:0,account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},account2:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},rules:{department_location_code:[{required:!0,message:"กรุณาระบุรหัสหน่วยงานตามสถานที่",trigger:"change"}],department_cost_code:[{required:!0,message:"กรุณาระบุรหัสหน่วยงานตามค่าใช้จ่าย",trigger:"change"}],account_code:[{required:!0,message:"กรุณาระบุรหัสบัญชี",trigger:"change"}],asset_number:[{required:!0,message:"กรุณาระบุรหัสทรัพย์สิน",trigger:"blur"}],department_code:[{required:!0,message:"กรุณาระบุรหัสสังกัด",trigger:"change"}],location_name:[{required:!0,message:"กรุณาระบุกลุ่มของทรัพย์สิน",trigger:"change"}],category_code:[{required:!0,message:"กรุณาระบุรหัสหมวด",trigger:"change"}],quantity:[{required:!0,message:"กรุณาระบุจำนวน",trigger:"blur"}],adjustment_amount:[{required:!0,message:"กรุณาระบุจำนวนเงิน",trigger:"blur"}],coverage_amount:[{required:!0,message:"กรุณาระบุมูลค่าทุนประกัน",trigger:"blur"}]},isInputActive:!1,res_rows_id:[],accountId:"",type_cost:"",activeIndex:"",dataLoading:!1,disabled_change_page:!1,current_page:1,totalRows:0,per_page:10,sortBy:"",sortDesc:!1,sortDirection:"asc",showLoading:!1,isBusy:!1,fields:[{key:"selected",sortable:!1,class:"text-center text-nowrap options-column align-middle"},{key:"line_no",sortable:!0,class:"text-center text-nowrap options-column align-middle"},{key:"status",sortable:!0,class:"text-nowrap options-column align-middle",tdClass:"align-middle"},{key:"line_type",sortable:!0,class:"text-nowrap options-column align-middle",tdClass:"align-middle"},{key:"department_location_code",sortable:!0,class:"text-center text-nowrap options-column align-middle",tdClass:"align-middle el_field"},{key:"department_location_desc",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"department_cost_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"department_cost_desc",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"account_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"account_desc",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"asset_number",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"department_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"department_name",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"location_name",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"category_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"category_description",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"quantity",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"adjustment_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"coverage_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle el_field"},{key:"insurance_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"duty_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"vat_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"net_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"receivable_name",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"expense_flag",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"remove",sortable:!1,class:"text-center text-nowrap align-middle",thStyle:"min-width: 65px;"}]}},props:["isNullOrUndefined","formatCurrency","headerRow","insurance_amount_master","vat_amount_master","form","yearTh","setFirstLetterUpperCase","showYearBE","setYearCE","revision","someInterfaceNotEmpty","tableLineAll","perPage","test","header_id","qtyDay","setLabelStatusAsset","vars","setLabelExpenseFlag","revenue_stamp","formatfloat","checkExpenseFlag","lastRowId"],methods:{onRowSelected:function(e){this.selected=e},rowClass:function(e,t,a){if(e&&"row"===t)return e.rowId===this.lastRowId?"newLine":void 0},formatSum:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Number(Number(Number(e).toFixed(2))+Number(Number(t).toFixed(2))+Number(Number(a).toFixed(2))+Number(Number(n).toFixed(2))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatTotal:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Number(Number(Number(e.replace(",","")).toFixed(2))+Number(Number(t.replace(",","")).toFixed(2))+Number(Number(a.replace(",","")).toFixed(2))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},clickRow:function(e,t){var a={line_number:this.isNullOrUndefined(e.line_number),department_location_code:this.isNullOrUndefined(e.department_location_code),department_location_desc:this.isNullOrUndefined(e.department_location_desc),department_cost_code:this.isNullOrUndefined(e.department_cost_code),department_cost_desc:this.isNullOrUndefined(e.department_cost_desc),account_code:this.isNullOrUndefined(e.account_code),account_desc:this.isNullOrUndefined(e.account_desc),asset_number:this.isNullOrUndefined(e.asset_number),department_code:this.isNullOrUndefined(e.department_code),department_name:this.isNullOrUndefined(e.department_name),location_code:this.isNullOrUndefined(e.location_code),location_name:this.isNullOrUndefined(e.location_name),category_code:this.isNullOrUndefined(e.category_code),category_id:this.isNullOrUndefined(e.category_id),category_description:this.isNullOrUndefined(e.category_description),quantity:1,current_cost:this.isNullOrUndefined(e.current_cost),coverage_amount:this.isNullOrUndefined(e.coverage_amount),insurance_amount:this.isNullOrUndefined(e.insurance_amount),vat_amount:this.isNullOrUndefined(e.vat_amount),net_amount:this.isNullOrUndefined(e.net_amount),receivable_name:this.isNullOrUndefined(e.receivable_name),line_type:"MANUAL",insurance_start_date:this.isNullOrUndefined(e.insurance_start_date),insurance_end_date:this.isNullOrUndefined(e.insurance_end_date),flag:"add",year:this.headerRow.year,account_id:this.isNullOrUndefined(e.account_id),asset_id:this.isNullOrUndefined(e.asset_id),location:this.isNullOrUndefined(e.location),adjustment_source_type:"ADJUSTMENT",adjustment_date:F()(F()().add(543,"years")).format(this.vars.formatDate),adjustment_id:this.isNullOrUndefined(e.adjustment_id),adjustment_type:"COST",adjustment_quantity:this.isNullOrUndefined(e.adjustment_quantity),adjustment_cost:this.isNullOrUndefined(e.adjustment_cost),adjustment_amount:this.isNullOrUndefined(e.adjustment_amount),original_cost:this.isNullOrUndefined(e.original_cost),policy_set_header_id:this.headerRow.policy_set_header_id,policy_set_description:this.headerRow.policy_set_description,revision:this.someInterfaceNotEmpty?this.revision:this.headerRow.revision,expense_flag:"N",type_cost:this.isNullOrUndefined(e.type_cost),duty_amount:this.isNullOrUndefined(e.duty_amount),premium_rate:this.insurance_amount_master,prepaid_insurance:this.prepaid_insurance,revenue_stamp:this.revenue_stamp,tax:this.vat_amount_master};this.$emit("click-row",a),this.activeIndex=t},clickSelectAll:function(){var e=this;e.columnSelected=[],e.columnSelectedId=[];var t=$('input[name="asset_increase_select_all"]').is(":checked");e.form.tableLine.forEach((function(a,n){t&&!e.checkStatusInterface(a.status)&&e.complete&&!e.checkExpenseFlag&&e.setSelectedColumn(a)}))},clickSelectRow:function(e,t){var a=this;if($('input[name="asset_increase_select'.concat(e,'"]')).is(":checked")){a.setSelectedColumn(t),a.form.tableLine.filter((function(e,t){return!(a.checkStatusInterface(e.status)||!a.complete||a.checkExpenseFlag)})).length===a.columnSelected.length&&$('input[name="asset_increase_select_all"]').prop("checked",!0)}else{var n=a.columnSelected.indexOf(t);n>-1&&(a.columnSelected.splice(n,1),a.columnSelectedId.splice(n,1)),$('input[name="asset_increase_select_all"]').prop("checked",!1)}},clickConfirm:function(){var e=this;0!==this.columnSelected.length?this.$refs.save_table_line.validate((function(t){if(!t)return!1;e.columnSelected.filter((function(e){return e.status="CONFIRMED",e}))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการยืนยัน!","warning")},clickCancel:function(){var e=this;this.$refs.save_table_line.validate((function(t){if(!t)return!1;e.columnSelected.filter((function(e){return e.status="CANCELLED",e}))})),0===this.columnSelected.length&&swal("Warning","กรุณาเลือกข้อมูลที่ต้องการยกเลิก!","warning")},clickClear:function(){var e=this;0!==this.columnSelected.length?this.$refs.save_table_line.validate((function(t){if(!t)return!1;e.columnSelected.filter((function(e){return e.status="NEW",e}))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการรีเซต!","warning")},clickComplete:function(){var e=this;this.$refs.save_table_line.validate((function(t){t&&e.setComplete()}))},someStatusNew:function(e){return!(!e.status||"new"!==e.status.toLowerCase())},everyStatusNew:function(e){return!(!e.status||"new"!==e.status.toLowerCase())},everyStatusConfirmed:function(e){return!(!e.status||"confirmed"!==e.status.toLowerCase())},everyStatusCancelled:function(e){return!(!e.status||"cancelled"!==e.status.toLowerCase())},someStatusConfirmedCancelled:function(e){return!(!e.status||"confirmed"!==e.status.toLowerCase()&&"cancelled"!==e.status.toLowerCase())},everyStatusInterface:function(e){return!(!e.status||"interface"!==e.status.toLowerCase())},someStatusInterface:function(e){return!(!e.status||"interface"!==e.status.toLowerCase())},setSelectedColumn:function(e){this.columnSelected.push(e),this.columnSelectedId.push(e.rowId)},setDefault:function(){this.$emit("set-default-edit",{searchDefault:!0})},clickIncomplete:function(){this.complete=!this.complete,this.$emit("complete",this.complete)},getDataAssetGroupTable:function(e){this.form.tableLine[e.rowId].location_code=e.asset_group,this.form.tableLine[e.rowId].location_name=e.asset_group_name,this.form.tableLine[e.rowId].location_id=e.id},getDataRows:function(e){this.form.tableLine=e},focusNotKey:function(){$(".readonly").on("keydown paste focus mousedown",(function(e){9!=e.keyCode&&e.preventDefault()}))},clickModalAccount:function(e,t){var a=this;if(this.indexTable=t,this.$refs.editTableLineModalAccountCode.$refs.modal_account_mapping.clearValidate(),this.accountId=e.account_id,this.type_cost=e.type_cost,this.account.company="",this.account.branch="",this.account.department="",this.account.product="",this.account.source="",this.account.account="",this.account.subAccount="",this.account.projectActivity="",this.account.interCompany="",this.account.allocation="",this.account.futureUsed1="",this.account.futureUsed2="",this.account2.company="",this.account2.branch="",this.account2.department="",this.account2.product="",this.account2.source="",this.account2.account="",this.account2.subAccount="",this.account2.projectActivity="",this.account2.interCompany="",this.account2.allocation="",this.account2.futureUsed1="",this.account2.futureUsed2="",e.account_code){var n=e.account_code.split(".");this.account.company=n[0],this.account.branch=n[1],this.account.department=n[2],this.account.product=n[3],this.account.source=n[4],this.account.account=n[5],this.account.subAccount=n[6],this.account.projectActivity=n[7],this.account.interCompany=n[8],this.account.allocation=n[9],this.account.futureUsed1=n[10],this.account.futureUsed2=n[11],axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:n,type:"all"}}).then((function(e){var t=e.data.data.split(".");a.account2.company=t[0],a.account2.branch=t[1],a.account2.department=t[2],a.account2.product=t[3],a.account2.source=t[4],a.account2.account=t[5],a.account2.subAccount=t[6],a.account2.projectActivity=t[7],a.account2.interCompany=t[8],a.account2.allocation=t[9],a.account2.futureUsed1=t[10],a.account2.futureUsed2=t[11]}))}},getDataRowSelectAccount:function(e){this.form.tableLine=e},clearReqAccountCode:function(e){var t=this;e?this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+t.indexTable+".account_code"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+this.indexTable+".account_code")},changeQuantity:function(e,t){this.form.tableLine[t].adjustment_quantity=e,this.form.tableLine[t].original_quantity=e},getDataRowsFieldAdjAmount:function(e,t,a){this.form.tableLine=e,t?this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+a+".adjustment_amount"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+a+".adjustment_amount"),t&&this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+a+".coverage_amount"})).clearValidate()},getDataRowsFieldCoverAmount:function(e,t,a){this.form.tableLine=e,t?this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+a+".coverage_amount"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+a+".coverage_amount")},setComplete:function(){var e=this,t=this,a=[];this.form.tableLine.filter((function(t){var n=M(M({},t),{},{adjustment_date:"add"===t.flag?e.setYearCE("date",t.adjustment_date):t.adjustment_date});a.push(n)}));var n=this.form.tableLine.filter((function(e){return e.status&&e.status.toLowerCase(),e})),o=(this.form.tableLine.filter((function(e){if(e.receivable_code)return e})),{data:{header_id:this.headerRow.header_id,document_number:this.headerRow.document_number,status:this.checkStatus?this.checkStatus:this.headerRow.status,year:this.headerRow.year,asset_status:this.headerRow.asset_status,policy_set_header_id:this.headerRow.policy_set_header_id,policy_set_description:this.headerRow.policy_set_description,count_asset:n.length||0===n.length?n.length:this.headerRow.count_asset,total_adjustment_cost:this.headerRow.total_adjustment_cost,total_cover_amount:this.headerRow.total_cover_amount,total_insu_amount:this.headerRow.total_cover_amount,total_vat_amount:this.headerRow.total_vat_amount,total_net_amount:this.headerRow.total_net_amount,total_rec_insu_amount:this.headerRow.total_rec_insu_amount,receivable_name:this.headerRow.receivable_name,as_of_date:"",start_calculate_date:this.headerRow.start_calculate_date,end_calculate_date:this.headerRow.end_calculate_date,start_addition_date:this.headerRow.start_addition_date,end_addition_date:this.headerRow.end_addition_date,program_code:"IRP0004",rows:a,insurance_start_date:this.headerRow.insurance_start_date,insurance_end_date:this.headerRow.insurance_end_date,revision:this.someInterfaceNotEmpty?this.test:this.headerRow.revision}});this.headerRow.header_id?"PENDING"==this.checkStatus||"NEW"==this.checkStatus?swal({title:"Warning",text:"มีรายการที่ยังไม่ถูกยืนยัน!",type:"warning",showCancelButton:!0,closeOnConfirm:!1},(function(e){e&&t.receivedCompleted(o)})):t.receivedCompleted(o):swal("Warning","ไม่มีรหัสนี้ในระดับ Header!","warning")},blurQuantity:function(e,t){e?this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+t+".quantity"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+t+".quantity")},checkStatusInterface:function(e){return!(!e||"INTERFACE"!==e.toUpperCase())},calColumn:function(e){this.form.tableLine=e},getValueCoverAmount:function(e,t,a,n){this.setCalulateColumsFromCoverAmount(e,t,n),a&&(e?this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+t+".coverage_amount"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+t+".coverage_amount"))},getValueCoverAmountFromAdjAmount:function(e,t,a,n){this.setCalulateColumsFromCoverAmount(e,t,n),a?(this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+t+".adjustment_amount"})).clearValidate(),this.$refs.save_table_line.fields.find((function(e){return e.prop=="tableLine."+t+".coverage_amount"})).clearValidate()):(this.$refs.save_table_line.validateField("tableLine."+t+".adjustment_amount"),this.$refs.save_table_line.validateField("tableLine."+t+".coverage_amount"))},setCalulateColumsFromCoverAmount:function(e,t,a){var n=e||0===e&&null!=e?e:0;this.form.tableLine[t].coverage_amount=n;var o=this.headerRow.days?this.headerRow.days:0;this.form.tableLine[t].insurance_amount=n||0===n?[n*a.premium_rate/100]*o/365:"";var s=this.form.tableLine[t].insurance_amount,i=s||0===s?s*this.revenue_stamp/100:0;this.form.tableLine[t].duty_amount=s||0===s?s*this.revenue_stamp/100:0,this.form.tableLine[t].vat_amount=s||0===s?(s+i)*this.vat_amount_master/100:0,this.form.tableLine[t].net_amount=s||0===s?+s+ +this.form.tableLine[t].duty_amount.toFixed(2)+ +this.form.tableLine[t].vat_amount.toFixed(2):0},receivedCompleted:function(e){var t=this;axios.post("/ir/ajax/asset",e).then((function(e){var a=e.data,n=a.data;t.complete=!t.complete,swal({title:"Success",text:a.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1}),t.setDefault(),t.$emit("complete",t.complete),t.res_rows_id=n.rows,t.setDisplayBtnRemove(),t.headerRow.document_number=n.document_number})).catch((function(e){400===e.response.data.status?swal("Warning",e.response.data.message,"warning"):swal("Error",e,"error")}))},clickRemove:function(e,t){var a=this;swal({title:"Warning",text:"ต้องการลบหรือไม่?",type:"warning",showCancelButton:!0,closeOnConfirm:!1},(function(t){t&&(e.line_id?axios.post("/ir/ajax/asset/delete",e).then((function(e){e.data.data;swal({title:"Success",text:"",type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})):swal({title:"Success",text:"",timer:3e3,type:"success",showCancelButton:!1,showConfirmButton:!1}),a.tableLineAll.splice(a.tableLineAll.indexOf(e),1),a.form.tableLine.splice(a.form.tableLine.indexOf(e),1))}))},setDisplayBtnRemove:function(){var e=this;this.res_rows_id.length>0&&this.form.tableLine.filter((function(t){return e.res_rows_id.filter((function(e){t.line_id=t.rowId==e.row_id?e.line_id:t.line_id})),t}))},getValueAdjustmentDate:function(e,t){var a=this.vars.formatDate;this.form.tableLine[t].adjustment_date=e?F()(e).format(a):""},getValueAssetStatus:function(e,t){this.form.tableLine[t].asset_status=e},accountEnter:function(e,t){var a=this,n=e.account_code.split(".");12==n.length?""==n[0]||""==n[1]||""==n[2]||""==n[3]||""==n[4]||""==n[5]||""==n[6]||""==n[7]||""==n[8]||""==n[9]||""==n[10]||""==n[11]?swal({title:"Warning",text:"กรอกชุดบัญชีไม่ครบ กรุณาตรวจสอบใหม่",type:"warning",closeOnConfirm:!0},(function(e){})):(this.dataLoading=!0,axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:n}}).then((function(e){a.form.tableLine[t].account_desc=e.data.desc,a.form.tableLine[t].account_code_desc=e.data.data,a.dataLoading=!1})).catch((function(e){this.dataLoading=!1}))):swal({title:"Warning",text:"กรอกชุดบัญชีไม่ครบ กรุณาตรวจสอบใหม่",type:"warning",closeOnConfirm:!0},(function(e){}))}},computed:{testt:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=1)})),e},test2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=1)})),e},test3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=1)})),e},test4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=1)})),e},money:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=+t.coverage_amount)})),e},money2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=+t.coverage_amount)})),e},money3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=+t.coverage_amount)})),e},money4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=t.coverage_amount)})),e},prem:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=+Number(t.insurance_amount).toFixed(2))})),e},prem2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=+Number(t.insurance_amount).toFixed(2))})),e},prem3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=+Number(t.insurance_amount).toFixed(2))})),e},prem4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=+Number(t.insurance_amount).toFixed(2))})),e},dutt:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=+Number(t.duty_amount).toFixed(2))})),e},dutt2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=+Number(t.duty_amount).toFixed(2))})),e},dutt3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=+Number(t.duty_amount).toFixed(2))})),e},dutt4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=+Number(t.duty_amount).toFixed(2))})),e},vatt:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=+t.vat_amount)})),e},vatt2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=+t.vat_amount)})),e},vatt3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=+t.vat_amount)})),e},vatt4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=+t.vat_amount)})),e},nett:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=+t.net_amount)})),e},nett2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=+t.net_amount)})),e},nett3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=+t.net_amount)})),e},nett4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=+t.net_amount)})),e},tran:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&(e+=+t.adjustment_amount)})),e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},tran2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&(e+=+t.adjustment_amount)})),e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},tran3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&(e+=+t.adjustment_amount)})),e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},tran4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&(e+=+t.adjustment_amount)})),e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},totaltran:function(){var e=0;return this.tableLineAll.filter((function(t){e+=+t.adjustment_amount})),e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},poli:function(){return this.headerRow.policy_set_number},polides:function(){return this.headerRow.policy_set_description},checkStatus:function(){var e=this.tableLineAll.some(this.someStatusNew),t=this.tableLineAll.every(this.everyStatusNew),a=this.tableLineAll.every(this.everyStatusConfirmed),n=this.tableLineAll.every(this.everyStatusCancelled),o=this.tableLineAll.some(this.someStatusConfirmedCancelled),s=this.tableLineAll.every(this.everyStatusInterface),i=this.tableLineAll.some(this.someStatusInterface);return t&&!i?"NEW":!o||a||n||e||i?a&&!i?"CONFIRMED":n&&!i?"CANCELLED":e&&!t?"PENDING":s||i&&!e?"INTERFACE":"":"CONFIRMED"},startt:function(){if(""!=this.headerRow.start_addition_date){var e=this.headerRow.start_addition_date.split("/");return e[0]+"/"+e[1]+"/"+(Number(e[2])+543)}return""},endd:function(){if(""!=this.headerRow.end_addition_date){var e=this.headerRow.end_addition_date.split("/");return e[0]+"/"+e[1]+"/"+(Number(e[2])+543)}return""},yearr:function(){return Number(this.headerRow.year)+543},policy_set:function(){return this.headerRow.policy_set_number},count_set:function(){return this.headerRow.count_asset},receivableNet:function(){var e=0;return this.tableLineAll.filter((function(t){"NEW"===t.status&&t.receivable_name&&(e+=+Number(t.net_amount).toFixed(2))})),e},receivableNet2:function(){var e=0;return this.tableLineAll.filter((function(t){"CONFIRMED"===t.status&&t.receivable_name&&(e+=+Number(t.net_amount).toFixed(2))})),e},receivableNet3:function(){var e=0;return this.tableLineAll.filter((function(t){"CANCELLED"===t.status&&t.receivable_name&&(e+=+Number(t.net_amount).toFixed(2))})),e},receivableNet4:function(){var e=0;return this.tableLineAll.filter((function(t){"INTERFACE"===t.status&&t.receivable_name&&(e+=+Number(t.net_amount).toFixed(2))})),e},tableData:function(){return this.form.tableLine.slice((this.current_page-1)*this.perPage,this.current_page*this.perPage)}},components:{lovAssetGroup:o.Z,lovDepartmentLocation:r,lovDepartmentCost:l,lovDepartment:u,lovCategory:_,lovReceivable:h,modalAccountCode:E,ceilThousandCurrencyInput:U,currencyInput:I.Z,dropdownStatusAsset:j.Z},watch:{complete:function(e,t){this.$emit("complete",e),e?($("#table_edit").find("input").prop("disabled",!1),$('input[name="asset_increase_select_all"]').prop("disabled",!1)):($("#table_edit").find("input").prop("disabled",!0),$('input[name="asset_increase_select_all"]').prop("checked",!1),$('input[name="asset_increase_select_all"]').prop("disabled",!0),$("#table_edit").find('input[type="checkbox"]').prop("checked",!1),this.columnSelected=[],this.columnSelectedId=[]),$(".checkbox_edit_disabled").prop("disabled",!0)},"headerRow.document_number":function(e,t){this.complete=!e}},mounted:function(){}};var B=a(93379),V=a.n(B),P=a(37051),W={insert:"head",singleton:!1};V()(P.Z,W);P.Z.locals;var z=a(44520),G={insert:"head",singleton:!1};V()(z.Z,G);z.Z.locals;const Y=(0,i.Z)(q,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],staticClass:"margin_top_20"},[a("el-form",{ref:"save_table_line",staticClass:"demo-dynamic form_table_line",attrs:{model:e.form,"label-width":"120px"}},[a("div",{staticClass:"table-responsive margin_top_20"},[a("div",{staticStyle:{"font-size":"18px"}},[e._v("  \n                    "),a("span",[e._v("กรมธรรม์ชุดที่ "+e._s(e.poli)+" : "+e._s(e.polides))]),e._v(" "),a("span",{staticClass:"ml-2"},[e._v("ปี : "+e._s(e.yearr))]),e._v(" "),a("span",{staticClass:"ml-2"},[e._v("ครั้งที่ : "+e._s(e.count_set))]),e._v(" "),a("span",{staticClass:"ml-2"},[e._v("วันที่ขึ้นทะเบียน/ตัดจำหน่าย : "+e._s(e.startt)+" ถึง "+e._s(e.endd))])]),e._v(" "),a("br"),e._v(" "),a("table",{staticClass:"table table-bordered",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("IR Status"),a("br"),e._v("สถานะ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("Count"),a("br"),e._v("จำนวนรายการ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Total Transaction Amount "),a("br"),e._v("จำนวนเงินทั้งหมด\n                        ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Total Coverage Amount "),a("br"),e._v("มูลค่าทุนประกันทั้งหมด\n                        ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[e._v("Total Premium "),a("br"),e._v("ค่าเบี้ยประกันทั้งหมด")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("Total Duty Fee "),a("br"),e._v("อากรทั้งหมด")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[e._v("Total Vat "),a("br"),e._v("ภาษีมูลค่าเพิ่มทั้งหมด")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Total Net Amount"),a("br"),e._v("ค่าเบี้ยประกันสุทธิทั้งหมด")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px","vertical-align":"middle"}},[e._v("ค่าเบี้ยประกันเรียกเก็บสุทธิรวม")])])]),e._v(" "),a("tbody",{attrs:{id:"table_search"}},[a("tr",[a("td",[e._v("New")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.testt))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.tran))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.money)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.prem)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.dutt)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.vatt)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.prem,e.dutt,e.vatt)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.receivableNet)))])]),e._v(" "),a("tr",[a("td",[e._v("Confirmed")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.test2))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.tran2))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.money2)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.prem2)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.dutt2)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.vatt2)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.prem2,e.dutt2,e.vatt2)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.receivableNet2)))])]),e._v(" "),a("tr",[a("td",[e._v("cancelled")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.test3))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.tran3))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.money3)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.prem3)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.dutt3)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.vatt3)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.prem3,e.dutt3,e.vatt3)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.receivableNet3)))])]),e._v(" "),a("tr",[a("td",[e._v("Interface")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.test4))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.tran4))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.money4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.prem4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.dutt4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.vatt4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.prem4,e.dutt4,e.vatt4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.receivableNet4)))])]),e._v(" "),a("tr",[a("td",[e._v("Total")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.testt+e.test2+e.test3+e.test4))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.totaltran))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatCurrency(e.money+e.money2+e.money3+e.money4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.prem,e.prem2,e.prem3,e.prem4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.dutt,e.dutt2,e.dutt3,e.dutt4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.vatt,e.vatt2,e.vatt3,e.vatt4)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v("\n                            "+e._s(e.formatTotal(e.formatSum(e.prem,e.prem2,e.prem3,e.prem4),e.formatSum(e.dutt,e.dutt2,e.dutt3,e.dutt4),e.formatSum(e.vatt,e.vatt2,e.vatt3,e.vatt4)))+"\n                        ")]),e._v(" "),a("td",{staticClass:"text-right"},[e._v(e._s(e.formatSum(e.receivableNet,e.receivableNet2,e.receivableNet3,e.receivableNet4)))])])]),e._v(" "),a("tfoot")])]),e._v(" "),a("div",{staticClass:"table-responsive margin_top_20 "},[a("b-table",{staticStyle:{display:"block",overflow:"auto","max-height":"500px"},attrs:{"table-class":"table table-bordered",busy:e.isBusy,items:e.form.tableLine,fields:e.fields,"current-page":e.current_page,"per-page":e.perPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,"tbody-tr-class":e.rowClass,"primary-key":"rowId","show-empty":"",hover:"",small:"","select-mode":"single",selectable:""},on:{"update:busy":function(t){e.isBusy=t},"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"head(selected)",fn:function(t){return[e._v("\n                        Select All "),a("br"),e._v(" "),a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{staticClass:"form-check-input",staticStyle:{position:"inherit"},attrs:{type:"checkbox",name:"asset_increase_select_all",disabled:!e.complete||e.checkStatusInterface(e.headerRow.status)||e.checkExpenseFlag},on:{click:function(t){return e.clickSelectAll()}}})])]}},{key:"head(line_no)",fn:function(t){return[a("div",[e._v("\n                            Line No\n                        ")])]}},{key:"head(status)",fn:function(t){return[a("div",[e._v("\n                            IR Status"),a("br"),e._v("สถานะ\n                        ")])]}},{key:"head(line_type)",fn:function(t){return[a("div",[e._v("\n                            Line Type"),a("br"),e._v("ประเภท\n                        ")])]}},{key:"head(department_location_code)",fn:function(t){return[a("div",[e._v("\n                            Department Code By Location "),a("br"),e._v("รหัสหน่วยงานตามสถานที่ *\n                        ")])]}},{key:"head(department_location_desc)",fn:function(t){return[a("div",[e._v("\n                            Department By Location "),a("br"),e._v("หน่วยงานตามสถานที่ *\n                        ")])]}},{key:"head(department_cost_code)",fn:function(t){return[a("div",[e._v("\n                            Department Code By Expense "),a("br"),e._v("รหัสหน่วยงานตามค่าใช้จ่าย *\n                        ")])]}},{key:"head(department_cost_desc)",fn:function(t){return[a("div",[e._v("\n                            Department By Expense "),a("br"),e._v("หน่วยงานตามค่าใช้จ่าย *\n                        ")])]}},{key:"head(account_code)",fn:function(t){return[a("div",[e._v("\n                            Expense Account Code "),a("br"),e._v("รหัสบัญชี *\n                        ")])]}},{key:"head(account_desc)",fn:function(t){return[a("div",[e._v("\n                            Expense Account Description "),a("br"),e._v("บัญชีค่าใช้จ่าย\n                        ")])]}},{key:"head(asset_number)",fn:function(t){return[a("div",[e._v("\n                            Asset Number "),a("br"),e._v("รหัสทรัพย์สิน *\n                        ")])]}},{key:"head(department_code)",fn:function(t){return[a("div",[e._v("\n                            รหัสสังกัด *\n                        ")])]}},{key:"head(department_name)",fn:function(t){return[a("div",[e._v("\n                             สังกัด *\n                        ")])]}},{key:"head(location_name)",fn:function(t){return[a("div",[e._v("\n                            กลุ่มของทรัพย์สิน *\n                        ")])]}},{key:"head(category_code)",fn:function(t){return[a("div",[e._v("\n                            รหัสหมวด *\n                        ")])]}},{key:"head(category_description)",fn:function(t){return[a("div",[e._v("\n                            หมวด *\n                        ")])]}},{key:"head(quantity)",fn:function(t){return[a("div",[e._v("\n                            Qty. "),a("br"),e._v("จำนวน *\n                        ")])]}},{key:"head(adjustment_amount)",fn:function(t){return[a("div",[e._v("\n                            Transaction Amount "),a("br"),e._v("จำนวนเงิน * (บาท)\n                        ")])]}},{key:"head(coverage_amount)",fn:function(t){return[a("div",[e._v("\n                            Coverage Amount "),a("br"),e._v("มูลค่าทุนประกัน เพิ่ม/ลด *\n                        ")])]}},{key:"head(insurance_amount)",fn:function(t){return[a("div",[e._v("\n                            Premium "),a("br"),e._v("ค่าเบี้ยประกัน เพิ่ม/ลด\n                        ")])]}},{key:"head(duty_amount)",fn:function(t){return[a("div",[e._v("\n                            Duty Fee "),a("br"),e._v("อากร\n                        ")])]}},{key:"head(vat_amount)",fn:function(t){return[a("div",[e._v("\n                            Vat "),a("br"),e._v("ภาษีมูลค่าเพิ่ม\n                        ")])]}},{key:"head(net_amount)",fn:function(t){return[a("div",[e._v("\n                            Net Amount "),a("br"),e._v("ค่าเบี้ยประกัน เพิ่ม/ลดสุทธิ\n                        ")])]}},{key:"head(receivable_name)",fn:function(t){return[a("div",[e._v("\n                           เรียกเก็บ\n                        ")])]}},{key:"head(expense_flag)",fn:function(t){return[a("div",[e._v("\n                           สถานะการตัดค่าใช้จ่าย\n                        ")])]}},{key:"head(remove)",fn:function(t){return[a("div",[e._v("\n                           ลบ\n                        ")])]}},{key:"cell(selected)",fn:function(t){return[a("div",{staticClass:"form-check padding_top_10",staticStyle:{position:"inherit"}},[a("input",{class:"form-check-input "+(e.checkStatusInterface(t.item.status)?"checkbox_edit_disabled":""),staticStyle:{position:"inherit"},attrs:{type:"checkbox",name:"asset_increase_select"+t.index,disabled:!(!e.checkStatusInterface(t.item.status)&&e.complete&&!e.checkExpenseFlag)},domProps:{value:""+t.index,checked:e.columnSelectedId.includes(t.item.rowId)},on:{click:function(a){return e.clickSelectRow(t.index,t.item)}}})])]}},{key:"cell(line_no)",fn:function(t){return[a("div",[e._v("\n                            "+e._s(t.item.line_no)+"\n                        ")])]}},{key:"cell(status)",fn:function(t){return[a("div",[e._v("\n                            "+e._s(e.setFirstLetterUpperCase(t.item.status))+"\n                        ")])]}},{key:"cell(line_type)",fn:function(t){return[a("div",[e._v("\n                            "+e._s(e.setFirstLetterUpperCase(t.item.line_type))+"\n                        ")])]}},{key:"cell(department_location_code)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.department_location_code))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".department_location_code",rules:e.rules.department_location_code}},[e.complete?a("lov-department-location",{attrs:{attrName:"department_location_code"+t.index,departmentLocationCode:t.item.department_location_code,indexTable:t.index,rows:e.form.tableLine},on:{"change-value-department-locations":e.getDataRows}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.department_location_code))+"\n                            ")])],1)]}},{key:"cell(department_location_desc)",fn:function(t){return[a("div",[e._v("\n                            "+e._s(e.setFirstLetterUpperCase(t.item.department_location_desc))+"\n                        ")])]}},{key:"cell(department_cost_code)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.department_cost_code))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".department_cost_code",rules:e.rules.department_cost_code}},[e.complete?a("lov-department-cost",{attrs:{attrName:"department_cost_code"+t.index,departmentCostCode:t.item.department_cost_code,indexTable:t.index,rows:e.form.tableLine},on:{"change-value-department-costs":e.getDataRows}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.department_cost_code))+"\n                            ")])],1)]}},{key:"cell(department_cost_desc)",fn:function(t){return[a("div",[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.department_cost_desc))+"\n                        ")])]}},{key:"cell(account_code)",fn:function(t){return[e.complete&&"add"===t.item.flag?a("el-form-item",{attrs:{prop:"tableLine."+t.index+".account_code",rules:e.rules.account_code}},[a("div",{staticStyle:{"padding-top":"3px"}},[a("el-input",{attrs:{placeholder:"รหัสบัญชี",type:"text",size:"small"},on:{focus:function(t){return e.focusNotKey()},change:function(a){return e.accountEnter(t.item,t.index)}},model:{value:t.item.account_code,callback:function(a){e.$set(t.item,"account_code",a)},expression:"row.item.account_code"}},[a("el-button",{attrs:{slot:"append","data-toggle":"modal","data-target":"#modal_account"+t.index,"native-type":"button"},on:{click:function(a){return e.clickModalAccount(t.item,t.index)}},slot:"append"},[a("i",{staticClass:"fa fa-search"})])],1)],1)]):a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.account_code))+"\n                        ")])]}},{key:"cell(account_desc)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.account_desc))+"\n                        ")])]}},{key:"cell(asset_number)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.asset_number))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".asset_number",rules:e.rules.asset_number}},[e.complete?a("el-input",{attrs:{placeholder:"รหัสทรัพย์สิน",size:"small"},model:{value:t.item.asset_number,callback:function(a){e.$set(t.item,"asset_number",a)},expression:"row.item.asset_number"}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.asset_number))+"\n                            ")])],1)]}},{key:"cell(department_code)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.department_code))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".department_code",rules:e.rules.department_code}},[e.complete?a("lov-department",{attrs:{attrName:"department_code"+t.index,departmentCode:t.item.department_code,indexTable:t.index,rows:e.form.tableLine},on:{"change-value-departments":e.getDataRows}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.department_code))+"\n                            ")])],1)]}},{key:"cell(department_name)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.department_name))+"\n                        ")])]}},{key:"cell(location_name)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.location_name))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".location_name",rules:e.rules.location_name}},[e.complete?a("lov-asset-group",{attrs:{attrName:"asset_group"+t.index,isTable:!0,indexTable:t.index,size:"small"},on:{"change-value-asset-group":e.getDataAssetGroupTable},model:{value:t.item.location_code,callback:function(a){e.$set(t.item,"location_code",a)},expression:"row.item.location_code"}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.location_name))+"\n                            ")])],1)]}},{key:"cell(category_code)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.category_code))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".category_code",rules:e.rules.category_code}},[e.complete?a("lov-category",{attrs:{attrName:"category_code"+t.index,categoryId:t.item.category_code,indexTable:t.index,rows:e.form.tableLine},on:{"change-value-categories":e.getDataRows}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.category_code))+"\n                            ")])],1)]}},{key:"cell(category_description)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.category_description))+"\n                        ")])]}},{key:"cell(quantity)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.formatCurrency(t.item.quantity))+"\n                        ")]):a("el-form-item",{staticClass:"currency_right",attrs:{prop:"tableLine."+t.index+".quantity",rules:e.rules.quantity}},[e.complete?a("currency-input",{attrs:{name:"quantity"+t.index,sizeSmall:!0,placeholder:"จำนวน",disabled:!1},on:{input:function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return e.changeQuantity.apply(void 0,o.concat([t.index]))},"blur-currency":function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return e.blurQuantity.apply(void 0,o.concat([t.index]))}},model:{value:t.item.quantity,callback:function(a){e.$set(t.item,"quantity",a)},expression:"row.item.quantity"}}):a("div",{},[e._v("\n                                    "+e._s(e.formatCurrency(t.item.quantity))+"\n                                ")])],1)]}},{key:"cell(adjustment_amount)",fn:function(t){return[e.checkStatusInterface(t.item.status)||!e.complete?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.adjustment_amount)?e.formatCurrency(t.item.adjustment_amount):e.isNullOrUndefined(t.item.adjustment_amount))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".adjustment_amount",rules:e.rules.adjustment_amount}},[e.complete?a("ceil-thousand-currency-input",{attrs:{isChangeCeli:!1,isBlurCeli:!0,rows:e.form.tableLine,index:t.index,insurance_amount_master:t.item.premium_rate,vat_amount_master:t.item.premium_tax,sizeSmall:!0,placeholder:"จำนวนเงิน",qtyDay:e.qtyDay},on:{"value-cover-amount":function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return e.getValueCoverAmountFromAdjAmount.apply(void 0,o.concat([t.index],[t.item.adjustment_amount],[t.item]))}},model:{value:t.item.adjustment_amount,callback:function(a){e.$set(t.item,"adjustment_amount",a)},expression:"row.item.adjustment_amount"}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.adjustment_amount)?e.formatCurrency(t.item.adjustment_amount):e.isNullOrUndefined(t.item.adjustment_amount))+"\n                            ")])],1)]}},{key:"cell(coverage_amount)",fn:function(t){return[e.checkStatusInterface(t.item.status)||!e.complete?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.coverage_amount)?e.formatCurrency(t.item.coverage_amount):e.isNullOrUndefined(t.item.coverage_amount))+"\n                        ")]):a("el-form-item",{attrs:{prop:"tableLine."+t.index+".coverage_amount",rules:e.rules.coverage_amount}},[e.complete?a("ceil-thousand-currency-input",{attrs:{isChangeCeli:!0,isBlurCeli:!1,rows:e.form.tableLine,index:t.index,insurance_amount_master:t.item.premium_rate,vat_amount_master:t.item.premium_tax,sizeSmall:!0,placeholder:"มูลค่าทุนประกัน เพิ่ม/ลด",qtyDay:e.qtyDay},on:{"value-cover-amount":function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return e.getValueCoverAmount.apply(void 0,o.concat([t.index],[!0],[t.item]))}},model:{value:t.item.coverage_amount,callback:function(a){e.$set(t.item,"coverage_amount",a)},expression:"row.item.coverage_amount"}}):a("div",{},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.coverage_amount)?e.formatCurrency(t.item.coverage_amount):e.isNullOrUndefined(t.item.coverage_amount))+"\n                            ")])],1)]}},{key:"cell(insurance_amount)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.insurance_amount)||0===e.isNullOrUndefined(t.item.insurance_amount)?e.formatCurrency(t.item.insurance_amount):e.isNullOrUndefined(t.item.insurance_amount))+"\n                        ")])]}},{key:"cell(duty_amount)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.duty_amount)||0===e.isNullOrUndefined(t.item.duty_amount)?e.formatCurrency(t.item.duty_amount):e.isNullOrUndefined(t.item.duty_amount))+"\n                        ")])]}},{key:"cell(vat_amount)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.vat_amount)||0===e.isNullOrUndefined(t.item.vat_amount)?e.formatCurrency(t.item.vat_amount):e.isNullOrUndefined(t.item.vat_amount))+"\n                        ")])]}},{key:"cell(net_amount)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.net_amount)||0===e.isNullOrUndefined(t.item.net_amount)?e.formatCurrency(t.item.net_amount):e.isNullOrUndefined(t.item.net_amount))+"\n                        ")])]}},{key:"cell(receivable_name)",fn:function(t){return["edit"===t.item.flag?a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.isNullOrUndefined(t.item.receivable_name))+"\n                        ")]):a("el-form-item",[e.complete?a("lov-receivable",{attrs:{attrName:"receivable_name"+t.index,receivable:t.item.receivable_name,indexTable:t.index,rows:e.form.tableLine,headerRow:e.headerRow},on:{"change-value-receivables":e.getDataRows}}):a("div",{staticClass:"padding_top_10"},[e._v("\n                                "+e._s(e.isNullOrUndefined(t.item.receivable_name))+"\n                            ")])],1)]}},{key:"cell(expense_flag)",fn:function(t){return[a("div",{staticClass:"padding_top_10"},[e._v("\n                            "+e._s(e.setLabelExpenseFlag(t.item.expense_flag))+"\n                        ")])]}},{key:"cell(remove)",fn:function(t){return["MANUAL"==t.item.line_type&&e.complete?["NEW"===t.item.status?a("el-form-item",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",name:"line_remove"+t.index},on:{click:function(a){return e.clickRemove(t.item,t.index)}}},[a("i",{staticClass:"fa fa-times m-r-xs"}),e._v("ลบ\n                                    ")])]):e._e()]:["add"!==t.item.flag||t.item.line_id?e._e():a("el-form-item",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",name:"line_remove"+t.index},on:{click:function(a){return e.clickRemove(t.item,t.index)}}},[a("i",{staticClass:"fa fa-times m-r-xs"}),e._v("ลบ\n                                    ")])])]]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.totalRows>e.per_page,expression:"totalRows > per_page"}],staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.per_page,align:"right"},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}})],1)]),e._v(" "),a("div",{staticClass:"row margin_top_20"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!e.complete||e.checkStatusInterface(e.headerRow.status)||e.checkExpenseFlag},on:{click:function(t){return e.clickConfirm()}}},[a("i",{staticClass:"fa fa-check"}),e._v("\n                                ยืนยัน\n                            ")]),e._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:!e.complete||e.checkStatusInterface(e.headerRow.status)||e.checkExpenseFlag},on:{click:function(t){return e.clickCancel()}}},[a("i",{staticClass:"fa fa-times"}),e._v("\n                                ยกเลิก\n                            ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!e.complete||e.checkStatusInterface(e.headerRow.status)||e.checkExpenseFlag},on:{click:function(t){return e.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v("\n                                รีเซต\n                            ")])])],1)]),e._v(" "),a("div",{staticClass:"col-md-6 lable_align"},[a("div",{staticClass:"form-group el_field"},[a("el-form-item",[a("button",{directives:[{name:"show",rawName:"v-show",value:e.complete,expression:"complete"}],staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.checkStatusInterface(e.headerRow.status)||e.checkExpenseFlag},on:{click:function(t){return e.clickComplete()}}},[a("i",{staticClass:"fa fa-check-square-o"}),e._v(" บันทึก (ล็อค)\n                            ")]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.complete,expression:"!complete"}],staticClass:"btn btn-danger",attrs:{type:"button",disabled:e.checkStatusInterface(e.headerRow.status)||e.checkExpenseFlag},on:{click:function(t){return e.clickIncomplete()}}},[a("i",{staticClass:"fa fa-minus-square-o"}),e._v(" แก้ไข (ปลดล็อค)\n                            ")])])],1)])])]),e._v(" "),a("modal-account-code",{ref:"editTableLineModalAccountCode",attrs:{index:e.indexTable,rows:e.form.tableLine,accounts:e.account,accountId:e.accountId,descriptions:e.account2,type_cost:e.type_cost},on:{"select-accounts":e.getDataRowSelectAccount,"clear-req":e.clearReqAccountCode}})],1)}),[],!1,null,"3a7d6ae6",null).exports;var H=a(23570),Q=a.n(H);function J(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const X={name:"ir-asset-increase-edit",data:function(){return{search:{status:"",code_asset:"",code_agency:""},result_array:{status:[],code_asset:[],code_agency:[]},funcs:n.sD,headerRow:{header_id:"",document_number:"",status:"",year:"",asset_status:"",policy_set_header_id:"",policy_set_description:"",count_asset:"",as_of_date:"",insurance_start_date:"",insurance_end_date:"",total_adjustment_cost:"",total_cover_amount:"",total_insu_amount:"",total_vat_amount:"",total_net_amount:"",total_rec_insu_amount:"",revision:"",start_calculate_date:"",end_calculate_date:"",start_addition_date:"",end_addition_date:"",days:"",expense_flag:""},complete:!0,insurance_amount_master:0,vat_amount_master:0,tableLineAll:[],form:{tableLine:[]},someInterfaceNotEmpty:!1,revision:"",rowsLength:0,vars:n.gR,prepaid_insurance:0,revenue_stamp:0,old_manual_insu_amount:"",searching:!1,per_page:500,lastRowId:-1,showLoading:!1}},props:["headerId"],methods:{getDefault:function(){var e=this;this.loading=!0,axios.get("/ir/ajax/asset/input-irp/"+this.headerId+"/IRP0004").then((function(t){var a=t.data;e.loading=!1,e.result_array={status:a.status,code_asset:a.asset_numbers,code_agency:a.department_codes}})).catch((function(e){swal("Error",e,"error")}))},clickSearch:function(){var e=this,t=this.tableLineAll.filter((function(t,a){t.line_number=a+1,t.line_no=a+1;var n=t.status?t.status.toUpperCase():t.status;return n===e.search.status&&t.asset_number===e.search.code_asset&&t.department_code===e.search.code_agency?t:(n!==e.search.status||t.asset_number!==e.search.code_asset||e.search.code_agency)&&(n!==e.search.status||e.search.code_asset||t.department_code!==e.search.code_agency)&&(e.search.status||t.asset_number!==e.search.code_asset||t.department_code!==e.search.code_agency)&&(n!==e.search.status||e.search.code_asset||e.search.code_agency)&&(e.search.status||t.asset_number!==e.search.code_asset||e.search.code_agency)&&(e.search.status||e.search.code_asset||t.department_code!==e.search.code_agency)&&(e.search.status||e.search.code_asset||e.search.code_agency)?void 0:t}));this.form.tableLine=t,""!=this.search.status||""!=this.search.code_asset||this.search.code_agency?this.searching=!0:this.searching=!1},clickCancel:function(){this.search={status:"",code_asset:"",code_agency:""};var e=this.tableLineAll.filter((function(e,t){return e}));this.form.tableLine=e},getDataRowShowTableTotal:function(e){e.old_manual_insu_amount&&(this.old_manual_insu_amount=+e.old_manual_insu_amount),this.form.tableLineAll=e},clickCreate:function(){var e=this;this.showLoading=!0,this.$refs.editEditTableLine.$refs.save_table_line.validate((function(t){if(!t)return!1;e.rowsLength=e.tableLineAll.length+1,e.lastRowId=Q()();var a={rowId:e.lastRowId,line_no:"",line_number:e.rowsLength,row_num:e.rowsLength,status:"NEW",asset_status:"Y",department_location_code:"",department_location_desc:"",department_cost_code:"",department_cost_desc:"",account_code:"",account_desc:"",asset_number:"",department_code:"",department_name:"",location_code:"",location_name:"",category_code:"",category_id:"",category_description:"",quantity:1,current_cost:"",coverage_amount:"",insurance_amount:"",vat_amount:"",net_amount:"",receivable_name:"",line_type:"MANUAL",insurance_start_date:"",insurance_end_date:"",flag:"add",year:e.headerRow.year,account_id:"",asset_id:"",location:"",adjustment_source_type:"ADJUSTMENT",adjustment_date:F()(F()().add(543,"years")).format(e.vars.formatDate),adjustment_id:"",adjustment_type:"COST",adjustment_quantity:"",adjustment_cost:"",adjustment_amount:"",original_cost:"",account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},policy_set_header_id:e.headerRow.policy_set_header_id,policy_set_description:e.headerRow.policy_set_description,revision:e.someInterfaceNotEmpty?e.revision:e.headerRow.revision,expense_flag:"N",type_cost:"",duty_amount:"",premium_rate:e.insurance_amount_master,prepaid_insurance:e.prepaid_insurance,revenue_stamp:e.revenue_stamp,tax:e.vat_amount_master};e.form.tableLine.push(a),e.tableLineAll.push(a),e.$nextTick((function(){e.$refs.editEditTableLine.current_page=Math.ceil(e.tableLineAll.length/e.per_page),e.$nextTick((function(){var t=e.$el.getElementsByClassName("newLine")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),e.showLoading=!1}))}))}))},getValueComplete:function(e){this.complete=e},getTableHeader:function(){var e=this;axios.get("/ir/ajax/asset/asset-adjust",{params:{year:"",revision:"",policy_id_from:"",policy_id_to:"",str_cal:"",end_cal:"",str_ad:"",end_ad:"",location_code:"",asset_status:"",status:""}}).then((function(t){var a=t.data,n=e.setPropertyTableHeader(a.data);e.headerRow=void 0===e.setHeaderRow(n)?e.headerRow:e.setHeaderRow(a.data),e.getDataFromMaster()})).catch((function(e){swal("Error",e,"error")}))},setHeaderRow:function(e){var t=this;return e.find((function(e){return e.header_id==t.headerId}))},setPropertyTableHeader:function(e){var t=this;return e.filter((function(e){return e.days="",t.funcs.calculateDateMomentTable(e),e})),e},getDataFromMaster:function(){var e=this,t={policy_set_header_id:this.headerRow.policy_set_header_id,date_from:this.headerRow.start_calculate_date,date_to:this.headerRow.end_calculate_date,year:this.headerRow.year};axios.get("/ir/ajax/lov/premium-rate",{params:t}).then((function(t){var a=t.data;""===a.data||null===a.data||void 0===a.data?(e.insurance_amount_master=0,e.vat_amount_master=0):(e.checkValueCal(a.data.premium_rate)?e.insurance_amount_master=0:e.insurance_amount_master=parseFloat(a.data.premium_rate),e.checkValueCal(a.data.tax)?e.vat_amount_master=0:e.vat_amount_master=parseFloat(a.data.tax),e.checkValueCal(a.data.prepaid_insurance)?e.prepaid_insurance=0:e.prepaid_insurance=parseFloat(a.data.prepaid_insurance),e.checkValueCal(a.data.revenue_stamp)?e.revenue_stamp=0:e.revenue_stamp=parseFloat(a.data.revenue_stamp)),e.getTableLine()})).catch((function(e){swal("Error",e,"error")}))},getTableLine:function(){var e=this;this.showLoading=!0;var t={header_id:this.headerId,year:this.headerId?"":this.headerRow.year,status:this.headerId?"":this.headerRow.status?this.headerRow.status.toUpperCase():this.headerRow.status,policy_set_header_id:this.headerId?"":this.headerRow.policy_set_header_id};axios.get("/ir/ajax/asset/asset-adjust/show",{params:t}).then((function(t){var a=t.data;e.showLoading=!1,e.tableLineAll=e.setProtertyTableLine(a.data);var n=e.tableLineAll.filter((function(e,t){return e}));e.form.tableLine=n,e.rowsLength=a.data.length})).catch((function(t){e.showLoading=!1,swal("Error",t,"error")}))},setProtertyTableLine:function(e){var t=this;return e.filter((function(e,a){(e.ap_interface_status||e.ar_interface_status||e.gl_interface_status||e.interface_status)&&(t.someInterfaceNotEmpty=!0,t.test=+t.headerRow.revision+1),e.line_no=a+1,e.line_number=a+1,e.rowId=Q()(),e.flag="edit",e.year=t.headerRow.year,e.revision=t.someInterfaceNotEmpty?t.test:t.headerRow.revision,e.department_location_desc=e.department_location_name,e.department_cost_desc=e.department_cost_name,e.quantity=e.original_quantity,e.premium_rate=null===e.premium_rate?0:e.premium_rate,e.prepaid_insurance=null===e.prepaid_insurance?0:e.prepaid_insurance,e.revenue_stamp=null===e.revenue_stamp?0:e.revenue_stamp,e.tax=null===e.tax?0:e.tax;var n=e.coverage_amount||0===e.coverage_amount&&void 0!==e.coverage_amount&&null!==e.coverage_amount?e.coverage_amount:0;e.coverage_amount=n;var o=t.headerRow.days?t.headerRow.days:0;(n||0===n)&&e.premium_rate;return e}))},checkValueCal:function(e){return""===e||null==e},getDesc:function(e,t){var a=this,n=e.account_code.split(".");axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:n}}).then((function(e){a.tableLineAll[t].account_code_desc=e.data.desc}))}},components:{editTableLine:Y},computed:{statusList:function(){return J(new Map(this.tableLineAll.filter((function(e){return""!==e.status})).map((function(e){return{status:"".concat(e.status)}})).map((function(e){return[e.status,e]}))).values()).sort((function(e,t){var a=e.status.toUpperCase(),n=t.status.toUpperCase();return a<n?-1:a>n?1:0}))},assetNumberList:function(){return J(new Map(this.tableLineAll.filter((function(e){return""!==e.asset_number})).map((function(e){return{asset_number:"".concat(e.asset_number)}})).map((function(e){return[e.asset_number,e]}))).values()).sort((function(e,t){var a=e.asset_number.toUpperCase(),n=t.asset_number.toUpperCase();return a<n?-1:a>n?1:0}))},departmentList:function(){return J(new Map(this.tableLineAll.filter((function(e){return""!==e.department_code&&""!==e.department_name})).map((function(e){return{label:"".concat(e.department_code+" : "+e.department_name),value:"".concat(e.department_code)}})).map((function(e){return[e.value,e]}))).values()).sort((function(e,t){var a=e.value.toUpperCase(),n=t.value.toUpperCase();return a<n?-1:a>n?1:0}))},checkExpenseFlag:function(){return"Y"===this.headerRow.expense_flag}},watch:{tableLineAll:function(e,t){e.filter((function(e,t){return e.line_no=t+1,e}))}},created:function(){this.getTableHeader()}};const ee=(0,i.Z)(X,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"สถานะ",filterable:"",clearable:!0},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.statusList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.status,value:e.status}})})),1)],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"รหัสทรัพย์สิน",filterable:"",clearable:!0},model:{value:e.search.code_asset,callback:function(t){e.$set(e.search,"code_asset",t)},expression:"search.code_asset"}},e._l(e.assetNumberList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.asset_number,value:e.asset_number}})})),1)],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"รหัสสังกัด",filterable:"",clearable:!0},model:{value:e.search.code_agency,callback:function(t){e.$set(e.search,"code_agency",t)},expression:"search.code_agency"}},e._l(e.departmentList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("div",{staticClass:"col-xl-3 padding_12 margin_auto_btn_search"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.clickSearch()}}},[a("i",{staticClass:"fa fa-search"}),e._v(" ค้นหา\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.clickCancel()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:!e.complete||e.funcs.checkStatusInterface(e.headerRow.status)||e.searching||e.checkExpenseFlag},on:{click:e.clickCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" เพิ่ม\n            ")])])]),e._v(" "),a("edit-table-line",{ref:"editEditTableLine",attrs:{isNullOrUndefined:e.funcs.isNullOrUndefined,formatCurrency:e.funcs.formatCurrency,headerRow:e.headerRow,insurance_amount_master:e.insurance_amount_master,vat_amount_master:e.vat_amount_master,form:e.form,tableLineAll:e.tableLineAll,setFirstLetterUpperCase:e.funcs.setFirstLetterUpperCase,showYearBE:e.funcs.showYearBE,setYearCE:e.funcs.setYearCE,someInterfaceNotEmpty:e.someInterfaceNotEmpty,revision:e.revision,setLabelStatusAsset:e.funcs.setLabelStatusAsset,vars:e.vars,setLabelExpenseFlag:e.funcs.setLabelExpenseFlag,formatfloat:e.funcs.formatfloat,revenue_stamp:e.revenue_stamp,checkExpenseFlag:e.checkExpenseFlag,perPage:e.per_page,"last-row-id":e.lastRowId},on:{complete:e.getValueComplete,"click-row":e.getDataRowShowTableTotal}})],1)}),[],!1,null,null,null).exports},38012:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-asset-increase-lov-asset-group",data:function(){return{assetGroup:[],loading:!1,asset_group_code:this.value}},props:["attrName","value","isTable","indexTable","size"],methods:{remoteMethodAssetGroup:function(e){this.getAssetGroup({value:"",keyword:e})},getAssetGroup:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/location",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.assetGroup=a})).catch((function(e){swal("Error",e,"error")}))},focusAssetGroup:function(e){this.getAssetGroup({value:"",keyword:""})},changeAssetGroup:function(e){var t={asset_group:"",rowId:"",asset_group_name:"",id:""};if(this.isTable&&e)for(var a in this.assetGroup){var n=this.assetGroup[a];n.meaning===e&&(t.asset_group=e,t.rowId=this.indexTable,t.asset_group_name=n.description,t.id=n.value,this.$emit("change-value-asset-group",t))}else this.isTable&&!e?this.$emit("change-value-asset-group",t):this.$emit("change-value-asset-group",e)}},mounted:function(){this.getAssetGroup({value:"",keyword:""})},watch:{value:function(e,t){this.asset_group_code=e}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"กลุ่มของทรัพย์สิน",name:e.attrName,"remote-method":e.remoteMethodAssetGroup,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size},on:{focus:e.focusAssetGroup,change:e.changeAssetGroup},model:{value:e.asset_group_code,callback:function(t){e.asset_group_code=t},expression:"asset_group_code"}},e._l(e.assetGroup,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports},75943:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-dropdown-status-asset",data:function(){return{rows:[{label:"Active",value:"Y"},{label:"Inactive",value:"N"}],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{onchange:function(e){this.$emit("change-dropdown",e)}},watch:{value:function(e,t){this.result=e}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)}),[],!1,null,null,null).exports},9882:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-account",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_type:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-type",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({budget_type:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.budget_type===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_type:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_type:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Type",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_type}})})),1)],1)}),[],!1,null,null,null).exports},75721:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-allocation",data:function(){return{dataRows:[],loading:!1,result:this.value,main_account:""}},props:["attrName","value","mainAccount","disabled"],methods:{remoteMethod:function(e){this.getDataRows({sub_account:"",keyword:e,main_account:this.main_account})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/sub-account",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.sub_account===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.main_account=this.mainAccount,this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},watch:{value:function(e,t){this.result=e},mainAccount:function(e,t){this.main_account=e,this.getDataRows({sub_account:this.result,keyword:"",main_account:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Sub Account",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.sub_account}})})),1)],1)}),[],!1,null,null,null).exports},84371:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-branch",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","vendorId","disabled"],methods:{remoteMethod:function(e){this.getDataRows({evm_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/evm-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({vendor_id:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.evm_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({vendor_id:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({vendor_id:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"EVM",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.evm_code}})})),1)],1)}),[],!1,null,null,null).exports},61701:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({compnany_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/company-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({compnany_code:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.company_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({compnany_code:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({compnany_code:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Company Code",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.company_code+": "+e.description,value:e.company_code}})})),1)],1)}),[],!1,null,null,null).exports},49710:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-department",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({department_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({department_code:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.department_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})},watch:{value:function(e,t){this.result=this.value,this.getDataRows({department_code:this.result,keyword:this.result})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Department",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.department_code}})})),1)],1)}),[],!1,null,null,null).exports},31262:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-future-used1",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({reserved1:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved1",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({reserved1:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.reserved1===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({reserved1:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({reserved1:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.reserved1}})})),1)],1)}),[],!1,null,null,null).exports},25826:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-future-used2",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({reserved2:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved2",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({reserved2:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.reserved2===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({reserved2:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({reserved2:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.reserved2}})})),1)],1)}),[],!1,null,null,null).exports},22374:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-inter-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({main_account:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/main-account",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({main_account:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.main_account===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({main_account:this.value,keyword:this.value})},watch:{value:function(e,t){this.result=e,this.getDataRows({main_account:e,keyword:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Main Account",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.main_account}})})),1)],1)}),[],!1,null,null,null).exports},30077:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-product",data:function(){return{dataRows:[],loading:!1,result:this.value,department_code:""}},props:["attrName","value","departmentCode","disabled"],methods:{remoteMethod:function(e){this.getDataRows({cost_center_code:"",keyword:e,department_code:this.department_code})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/cost-center-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.cost_center_code===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.department_code=this.departmentCode,this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},watch:{value:function(e,t){this.result=e},departmentCode:function(e,t){this.department_code=e,this.getDataRows({cost_center_code:"",keyword:"",department_code:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Cost Center",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.cost_center_code}})})),1)],1)}),[],!1,null,null,null).exports},8613:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-project-activity",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_reason:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-reason",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({budget_reason:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.budget_reason===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_reason:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_reason:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Reason",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_reason}})})),1)],1)}),[],!1,null,null,null).exports},57460:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-source",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_year:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-year",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({budget_year:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.budget_year===e){var n={value:e,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_year:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_year:e,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Year",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_year}})})),1)],1)}),[],!1,null,null,null).exports},35938:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-sub-account",data:function(){return{dataRows:[],loading:!1,result:this.value,budget_type:""}},props:["attrName","value","budgetType","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_detail:"",keyword:e,budget_type:this.budget_type})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-detail",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.budget_detail===e){var n={value:e,desc:a.meaning};return void this.$emit("change-lov-segment",n)}}var o={value:e,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.budget_type=this.budgetType,this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},watch:{value:function(e,t){this.result=e},budgetType:function(e,t){this.budget_type=e,this.getDataRows({budget_detail:"",keyword:"",budget_type:e})}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Detail",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,disabled:e.disabled,remote:"",filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.budget_detail+": "+e.meaning,value:e.budget_detail}})})),1)],1)}),[],!1,null,null,null).exports},24829:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const n={name:"ir-components-lov-type-cost",data:function(){return{rows:[],loading:!1,code:"",desc:"",result:this.value,account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},accountId:""}},props:["value","placeholder","popperBody","name","disabled"],methods:{remoteMethod:function(e){this.getDataRows({account_id:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onchange:function(e){var t={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};if(e)for(var a in this.rows){var n=this.rows[a];n.account_id==e&&(t.code=n.account_code,t.id=e,t.desc=n.description,t.account_combine=n.account_combine,t.account_combine_desc=n.account_combine_desc)}else t.code="",t.id="",t.desc="",t.account_combine="",t.account_combine_desc="";this.result=e,this.setPropAccountSplitCombine(t),this.$emit("change-lov",t)},onclick:function(){this.getDataRows({account_id:this.result,keyword:""})},setPropAccountSplitCombine:function(e){if(""!=e.account_combine){var t=e.account_combine.split("."),a=e.account_combine_desc.split("."),n=0,o=0;for(var s in this.account)this.account[s]=t[n],n++;for(var i in this.description)this.description[i]=a[o],o++;this.$emit("split-account",{account:e.account_combine,description:e.account_combine_desc,type_cost:e.code,type_cost_id:e.id})}else this.$emit("split-account",{account:"",description:"",type_cost:"",type_cost_id:""})},receivedDataRows:function(e){var t=this,a={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:e}).then((function(e){var n=e.data;if(t.loading=!1,t.rows=n.data,t.accountId&&null!==t.accountId&&void 0!==t.accountId)if(t.rows.length>0)for(var o in t.rows){var s=t.rows[o];s.account_id==t.accountId&&(t.result=s.account_id,a.code=s.account_code,a.id=s.account_id,a.desc=s.description,a.account_combine=s.account_combine,a.account_combine_desc=s.account_combine_desc)}else t.result="",a.code="",a.id=t.accountId,a.desc="",a.account_combine="",a.account_combine_desc="";else a.code="",a.id="",a.desc="",a.account_combine="",a.account_combine_desc="";t.$emit("change-lov",a)})).catch((function(e){swal("Error",e,"error")}))}},mounted:function(){},watch:{value:function(e,t){this.result=e}}};const o=(0,a(51900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange},nativeOn:{click:function(t){return e.onclick(t)}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.account_code+": "+e.description,value:e.account_id}})})),1)],1)}),[],!1,null,null,null).exports}}]);