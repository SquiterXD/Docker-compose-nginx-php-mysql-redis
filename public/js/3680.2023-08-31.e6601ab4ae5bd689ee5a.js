(self.webpackChunk=self.webpackChunk||[]).push([[3680],{43680:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(87757),r=a.n(s),l=a(30381),i=a.n(l);function n(t,e,a,s,r,l,i){try{var n=t[l](i),d=n.value}catch(t){return void a(t)}n.done?e(d):Promise.resolve(d).then(s,r)}const d={props:["days","customers","url","url-return","url-update","defaultValue"],data:function(){return{transport_number:this.defaultValue?this.defaultValue.transport_number:"",customer_id:this.defaultValue?Number(this.defaultValue.customer_id):"",transport_day:this.defaultValue?this.defaultValue.transport_day:"",time_of_day:this.defaultValue?this.defaultValue.time_of_day:"",standard_transport_day:this.defaultValue?this.defaultValue.standard_transport_day:"",standard_transport_time:this.defaultValue?this.defaultValue.standard_transport_time:"",customer_name:"",city:"",province_name:"",start_date:this.defaultValue?this.defaultValue.start_date:"",end_date:this.defaultValue?this.defaultValue.end_date:"",times:[{value:"เช้า",label:"เช้า"},{value:"บ่าย",label:"บ่าย"}],disableData:!!this.defaultValue&&!!this.defaultValue.customer_id,disabledDateTo:this.start_date?this.start_date:null}},mounted:function(){if(this.showDate(),this.customer_id&&this.checkCustomer(),this.standard_transport_time){var t=new Date;this.setDate=i()(t).format("yyyy-MM-DD"),this.standard_transport_time=this.setDate+" "+this.standard_transport_time}},methods:{checkCustomer:function(){var t=this;this.customer_name="",this.city="",this.province_name="",this.transport_day="",this.selectedData=this.customers.find((function(e){return e.customer_id==t.customer_id})),this.customer_name=this.selectedData.customer_name,this.city=this.selectedData.city,this.province_name=this.selectedData.province_name,this.transport_day=this.selectedData.delivery_date},onlyNumeric:function(){this.transport_number=this.transport_number.replace(/[^0-9 .]/g,"")},checkDate:function(){this.start_date&&i()(String(this.end_date)).format("yyyy-MM-DD")<i()(String(this.start_date)).format("yyyy-MM-DD")&&(this.$notify.error({title:"มีข้อผิดพลาด",message:"วันที่สิ้นสุดต้องไม่น้อยกว่าวันที่เริ่มต้น"}),this.end_date="")},showDate:function(){var t,e=this;return(t=r().mark((function t(){var a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.start_date){t.next=5;break}return t.next=3,helperDate.parseToDateTh(e.start_date,"yyyy-MM-DD");case 3:a=t.sent,e.start_date=a;case 5:if(!e.end_date){t.next=10;break}return t.next=8,helperDate.parseToDateTh(e.end_date,"yyyy-MM-DD");case 8:s=t.sent,e.end_date=s;case 10:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(s,r){var l=t.apply(e,a);function i(t){n(l,s,r,i,d,"next",t)}function d(t){n(l,s,r,i,d,"throw",t)}i(void 0)}))})()},fromDateWasSelected:function(t){this.disabledDateTo=i()(t).format("DD/MM/YYYY")}}};const o=(0,a(51900).Z)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[t._m(0),t._v(" "),a("input",{attrs:{type:"hidden",name:"customer_id",autocomplete:"off"},domProps:{value:t.customer_id}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.disableData},on:{change:function(e){return t.checkCustomer()}},model:{value:t.customer_id,callback:function(e){t.customer_id=e},expression:"customer_id"}},t._l(t.customers,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_number?t.customer_number+" : "+t.customer_name:t.customer_name,value:t.customer_id}})})),1)],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" ชื่อร้านค้า ")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.customer_name,callback:function(e){t.customer_name=e},expression:"customer_name"}})],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" อำเภอ/เขต ")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" จังหวัด ")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.province_name,callback:function(e){t.province_name=e},expression:"province_name"}})],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" วันที่ขนส่ง ")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.transport_day,callback:function(e){t.transport_day=e},expression:"transport_day"}})],1),t._v(" "),a("div",{staticClass:"col-md-5"},[t._m(1),t._v(" "),a("input",{attrs:{type:"hidden",name:"time_of_day",autocomplete:"off"},domProps:{value:t.time_of_day}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},model:{value:t.time_of_day,callback:function(e){t.time_of_day=e},expression:"time_of_day"}},t._l(t.times,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" วันมาตราฐานการส่งมอบ ")]),t._v(" "),a("input",{attrs:{type:"hidden",name:"standard_transport_day",autocomplete:"off"},domProps:{value:t.standard_transport_day}}),t._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},model:{value:t.standard_transport_day,callback:function(e){t.standard_transport_day=e},expression:"standard_transport_day"}},t._l(t.days,(function(t){return a("el-option",{key:t.meaning,attrs:{label:t.meaning,value:t.meaning}})})),1)],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" เวลามาตราฐานการส่งมอบ ")]),t._v(" "),a("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"เวลามาตราฐานการส่งมอบ",name:"standard_transport_time",format:"H:mm"},model:{value:t.standard_transport_time,callback:function(e){t.standard_transport_time=e},expression:"standard_transport_time"}})],1)]),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" วันที่เริ่มต้น ")]),t._v(" "),a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"start_date",placeholder:"โปรดเลือกวันที่",format:"DD-MM-YYYY"},on:{dateWasSelected:t.fromDateWasSelected},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1),t._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[t._v(" วันที่สิ้นสุด  ")]),t._v(" "),a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{name:"end_date",placeholder:"โปรดเลือกวันที่",format:"DD-MM-YYYY","disabled-date-to":t.disabledDateTo},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v(" รหัสร้านค้า "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v(" ช่วงเวลามาตราฐานการส่งมอบ "),a("span",{staticClass:"text-danger"},[t._v("*")])])}],!1,null,null,null).exports}}]);