(self.webpackChunk=self.webpackChunk||[]).push([[782],{50782:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(87757),n=s.n(a);function i(e,t,s,a,n,i,l){try{var r=e[i](l),c=r.value}catch(e){return void s(e)}r.done?t(c):Promise.resolve(c).then(a,n)}const l={props:["units","dataTypes","resultSeverites","processTestList","entityTestList","processDistinctTestList","testTypeCode"],data:function(){return{test_desc:"",qcunit_code:"",data_type_code:"",negative_flag:!1,decimals:"",enable_flag:!0,qcunit_desc:"",lines:[],fileList:[],isNegativeFlag:!1,isDecimals:!1}},mounted:function(){this.addLine()},methods:{addLine:function(){this.lines.push({test_desc:"",qcunit_code:"",data_type_code:"",negative_flag:!1,decimals:"",enable_flag:!0,qcunit_desc:"",fileList:[],resultSeverity:"",entity:"",process:"",entityTestSearchList:this.entityTestList!=[]?this.entityTestList:[],processTestSearchList:this.processDistinctTestList!=[]?this.processDistinctTestList:[],testTypeCode:this.testTypeCode}),this.showData()},getQcunitDesc:function(e,t){var s=this.units.find((function(e){return t==e.qcunit_code}));e.qcunit_desc=s.qcunit_desc},getCheckDataType:function(e,t,s){e==e&&("U"==s||"T"==s?(t.isNegativeFlag=!0,t.isDecimals=!0,t.decimals="",t.isNegativeFlag=!1):(t.isNegativeFlag=!1,t.isDecimals=!1))},removeRow:function(e){this.lines.splice(e,1)},handleRemove:function(e,t){},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){swal({title:"คำเตือน !",text:"สามารถเลือกไฟล์รูปภาพได้สูงสุด 5 ไฟล์",type:"warning",showConfirmButton:!0})},beforeRemove:function(e,t){return this.$confirm("Cancel the transfert of ".concat(e.name," ?"))},handleChange:function(e,t){},showData:function(e){var t,s=this;return(t=n().mark((function t(){var a,i,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=s,void 0!==e&&(""!=a.lines[e].entity&&null!=a.lines[e].entity||(a.lines[e].entityTestSearchList=null!=a.entityTestList&&a.entityTestList?a.entityTestList:[]),""!=a.lines[e].process&&null!=a.lines[e].process||(a.lines[e].processTestSearchList=null!=a.processTestList&&a.processTestList?a.processDistinctTestList:[]),a.lines[e].entity&&(i=a.entityTestList.filter((function(t){return t.entity_code==a.lines[e].entity}))).length>0&&(i=i[0],a.lines[e].processTestSearchList=a.processTestList.filter((function(e){return e.entity_code==i.entity_code}))),a.lines[e].process&&(l=a.processTestList.filter((function(t){return t.process_code==a.lines[e].process}))).length>0&&(l=l[0],a.lines[e].entityTestSearchList=a.entityTestList.filter((function(e){return e.process_code==l.process_code}))));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,s=arguments;return new Promise((function(a,n){var l=t.apply(e,s);function r(e){i(l,a,n,r,c,"next",e)}function c(e){i(l,a,n,r,c,"throw",e)}r(void 0)}))})()}}};const r=(0,s(51900).Z)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"text-right",staticStyle:{"padding-bottom":"20px"}},[s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.addLine(t)}}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e._v(" เพิ่มรายการ \n        ")])]),e._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table program_info_tb text-nowrap"},[s("thead",[s("tr",[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),"2"==this.testTypeCode?s("th",{staticClass:"text-center"},[e._m(9)]):e._e(),e._v(" "),"2"==this.testTypeCode?s("th",{staticClass:"text-center"},[e._m(10)]):e._e(),e._v(" "),e._m(11),e._v(" "),s("th")])]),e._v(" "),e.lines.length?s("tbody",e._l(e.lines,(function(t,a){return s("tr",{key:a,attrs:{row:t}},[s("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[e._v(e._s(a+1))]),e._v(" "),s("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.enable_flag,expression:"row.enable_flag"}],attrs:{type:"hidden",name:"dataGroup["+a+"][enable_flag]"},domProps:{value:t.enable_flag},on:{input:function(s){s.target.composing||e.$set(t,"enable_flag",s.target.value)}}}),e._v(" "),s("el-checkbox",{model:{value:t.enable_flag,callback:function(s){e.$set(t,"enable_flag",s)},expression:"row.enable_flag"}})],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.test_desc,expression:"row.test_desc"}],attrs:{type:"hidden",name:"dataGroup["+a+"][test_desc]"},domProps:{value:t.test_desc},on:{input:function(s){s.target.composing||e.$set(t,"test_desc",s.target.value)}}}),e._v(" "),s("el-input",{attrs:{placeholder:"กรอกลายละเอียด",type:"textarea"},model:{value:t.test_desc,callback:function(s){e.$set(t,"test_desc",s)},expression:"row.test_desc"}})],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.qcunit_code,expression:"row.qcunit_code"}],attrs:{type:"hidden",name:"dataGroup["+a+"][qcunit_code]"},domProps:{value:t.qcunit_code},on:{input:function(s){s.target.composing||e.$set(t,"qcunit_code",s.target.value)}}}),e._v(" "),s("el-select",{attrs:{placeholder:"เลือก","reserve-keyword":""},on:{change:function(s){return e.getQcunitDesc(t,t.qcunit_code)}},model:{value:t.qcunit_code,callback:function(s){e.$set(t,"qcunit_code",s)},expression:"row.qcunit_code"}},e._l(e.units,(function(e,t){return s("el-option",{key:t,attrs:{label:e.qcunit_code,value:e.qcunit_code}})})),1)],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("el-input",{attrs:{disabled:!0},model:{value:t.qcunit_desc,callback:function(s){e.$set(t,"qcunit_desc",s)},expression:"row.qcunit_desc"}})],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data_type_code,expression:"row.data_type_code"}],attrs:{type:"hidden",name:"dataGroup["+a+"][data_type_code]"},domProps:{value:t.data_type_code},on:{input:function(s){s.target.composing||e.$set(t,"data_type_code",s.target.value)}}}),e._v(" "),s("el-select",{staticClass:"w-100",attrs:{placeholder:"เลือก"},on:{change:function(s){return e.getCheckDataType(a,t,t.data_type_code)}},model:{value:t.data_type_code,callback:function(s){e.$set(t,"data_type_code",s)},expression:"row.data_type_code"}},e._l(e.dataTypes,(function(e,t){return s("el-option",{key:t,attrs:{label:e.data_type,value:e.data_type_code}})})),1)],1),e._v(" "),s("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.negative_flag,expression:"row.negative_flag"}],attrs:{type:"hidden",name:"dataGroup["+a+"][negative_flag]"},domProps:{value:t.negative_flag},on:{input:function(s){s.target.composing||e.$set(t,"negative_flag",s.target.value)}}}),e._v(" "),s("el-checkbox",{attrs:{disabled:t.isNegativeFlag},model:{value:t.negative_flag,callback:function(s){e.$set(t,"negative_flag",s)},expression:"row.negative_flag"}})],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.decimals,expression:"row.decimals"}],attrs:{type:"hidden",name:"dataGroup["+a+"][decimals]"},domProps:{value:t.decimals},on:{input:function(s){s.target.composing||e.$set(t,"decimals",s.target.value)}}}),e._v(" "),s("el-input",{staticClass:"w-100",attrs:{placeholder:"ทศนิยม",disabled:t.isDecimals},model:{value:t.decimals,callback:function(s){e.$set(t,"decimals",s)},expression:"row.decimals"}})],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.resultSeverity,expression:"row.resultSeverity"}],attrs:{type:"hidden",name:"dataGroup["+a+"][resultSeverity]"},domProps:{value:t.resultSeverity},on:{input:function(s){s.target.composing||e.$set(t,"resultSeverity",s.target.value)}}}),e._v(" "),s("el-select",{attrs:{placeholder:"เลือก",clearable:"","reserve-keyword":""},model:{value:t.resultSeverity,callback:function(s){e.$set(t,"resultSeverity",s)},expression:"row.resultSeverity"}},e._l(e.resultSeverites,(function(e,t){return s("el-option",{key:t,attrs:{label:e.meaning,value:e.meaning}})})),1)],1),e._v(" "),"2"==t.testTypeCode?s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.entity,expression:"row.entity"}],attrs:{type:"hidden",name:"dataGroup["+a+"][entity]"},domProps:{value:t.entity},on:{input:function(s){s.target.composing||e.$set(t,"entity",s.target.value)}}}),e._v(" "),s("el-select",{attrs:{placeholder:"เลือก",clearable:"","reserve-keyword":""},on:{change:function(t){return e.showData(a)}},model:{value:t.entity,callback:function(s){e.$set(t,"entity",s)},expression:"row.entity"}},e._l(t.entityTestSearchList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.entity_meaning,value:e.entity_code}})})),1)],1):e._e(),e._v(" "),"2"==t.testTypeCode?s("td",{staticStyle:{"vertical-align":"middle"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.process,expression:"row.process"}],attrs:{type:"hidden",name:"dataGroup["+a+"][process]"},domProps:{value:t.process},on:{input:function(s){s.target.composing||e.$set(t,"process",s.target.value)}}}),e._v(" "),s("el-select",{attrs:{placeholder:"เลือก",clearable:"","reserve-keyword":""},on:{change:function(t){return e.showData(a)}},model:{value:t.process,callback:function(s){e.$set(t,"process",s)},expression:"row.process"}},e._l(t.processTestSearchList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.process_meaning,value:e.process_code}})})),1)],1):e._e(),e._v(" "),s("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"http://web-service.test/qm/settings/define-tests-tobacco-leaf/store","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"auto-upload":!1,name:"dataGroup["+a+"][files][]",multiple:"",limit:5,"on-exceed":e.handleExceed,"file-list":e.fileList}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("เพิ่มรูปภาพ")]),e._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("สามารถอัปโหลดรูปภาพสูงสุด 5 รูปภาพ")])],1)],1),e._v(" "),s("td",{staticStyle:{"vertical-align":"middle"}},[s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(t){return t.preventDefault(),e.removeRow(a)}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])])])})),0):s("tbody",[e._m(12)])])])])}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("ลำดับที่")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("สถานะ"),s("br"),e._v("การใช้งาน")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center",staticStyle:{"min-width":"300px"}},[s("label",[e._v("รายละเอียด การทดสอบ "),s("span",{staticClass:"text-danger"},[e._v(" *")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("หน่วยการทดสอบ "),s("span",{staticClass:"text-danger"},[e._v(" *")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("รายละเอียด หน่วยการทดสอบ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("ประเภทข้อมูล "),s("span",{staticClass:"text-danger"},[e._v(" *")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("สามารถติดลบได้")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("ทศนิยม "),s("span",{staticClass:"text-danger"},[e._v(" *")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("ระดับความรุนแรงของข้อบกพร่อง "),s("span",{staticClass:"text-danger"},[e._v(" *")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[e._v("รายการตรวจสอบคุณภาพบุหรี่ "),s("span",{staticClass:"text-danger"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[e._v("กระบวนการตรวจคุณภาพบุหรี่ "),s("span",{staticClass:"text-danger"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{staticClass:"text-center"},[s("label",[e._v("รูปภาพประกอบ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle",width:"100%"},attrs:{colspan:"11"}},[s("h2",[e._v(' ยังไม่มีข้อมูลที่จะสร้างใหม่ในตอนนี้ กรุณา "กด เพิ่มรายการ" ')])])])}],!1,null,null,null).exports}}]);