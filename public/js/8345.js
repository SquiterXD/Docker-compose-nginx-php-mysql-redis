(self.webpackChunk=self.webpackChunk||[]).push([[8345],{68345:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a});const i={props:["header","wipSteps","userName","startDate","endDate","machine","uomName","wipStep","lines","oprns","items"],data:function(){return{routing_desc:this.header?this.header.routing_desc:"",multi_wip_step:"",status:"",invoice_flag:"Y"==this.header.invoice_flag,datas:[],oprn_id:""}},mounted:function(){this.multi_wip_step=this.header.oprn_id,this.getTable(),"Approved for General Use"==this.header.status?this.status="อนุมัติ":"New"==this.header.status?this.status="สร้างใหม่":"Obsolete/Archived"==this.header.status&&(this.status="ยกเลิก")},methods:{getTable:function(){var t=this;this.datas=[],this.lines.forEach((function(e){var s=0,i=[],a="";t.selectedData=t.oprns.find((function(t){return t.routingstep_no==e.ingredient_step_line})),t.oprn_id=t.selectedData.oprn_id,t.datas.length>0?(t.selectedRow=t.datas.find((function(e){t.oprn_id==e.oprn_id&&i.push({oprn_id:t.oprn_id})})),s=i.length+1):s+=1,t.selectedItem=t.items.find((function(t){t.inventory_item_id==e.ingredient_item_id&&(a=t.primary_unit_of_measure)})),t.datas.push({ingredient_step_line:e.ingredient_step_line,ingredient_line:s,ingredient_item_id:e.ingredient_item_id,item_number:e.segment1,item_description:e.description,ingredient_folmula_qty:Number(e.ingredient_folmula_qty),scrap_factor:Number(e.scrap_factor),ingredient_qty:Number(e.ingredient_qty),ingredient_uom:a,active_flag:"Y"==e.enable_flag,oprn_id:t.oprn_id})}))}}};const a=(0,s(51900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v("สูตรการผลิต")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[t._m(0),t._v(" "),s("label",{staticClass:"ml-3"},[t._v(t._s(t.header.product_segment1+" "+t.header.product_description))])]),t._v(" "),s("div",{staticClass:"col-md-4"},[t._m(1),t._v(" "),s("label",{staticClass:"ml-3"},[t._v("\n                "+t._s(this.status)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-md-3"},[t._m(2),t._v(" "),s("label",{staticClass:"ml-3"},[t._v(t._s(this.userName))])])]),t._v(" "),s("div",{staticClass:"row mt-2"},[t._m(3),t._v(" "),s("div",{staticClass:"col-md-4"},[t._m(4),t._v(" "),s("label",{staticClass:"ml-3"},[t._v(t._s(this.header.version)+" ")])]),t._v(" "),s("div",{staticClass:"col-md-3"},[t._m(5),t._v(" "),s("label",{staticClass:"ml-3"},[t._v(t._s(this.header.period_year)+" ")])])]),t._v(" "),s("div",{staticClass:"row mt-2"},[s("div",{staticClass:"col-md-4"},[t._m(6),t._v(" "),s("label",{staticClass:"ml-3"},[t._v(" "+t._s(this.header.routing_desc)+" ")])]),t._v(" "),s("div",{staticClass:"col-md-4"},[t._m(7),t._v(" "),s("label",{staticClass:"ml-3"},[t._v(t._s(this.header.qty+" "+this.uomName))])]),t._v(" "),s("div",{staticClass:"col-md-3"},[t._m(8),t._v(" "),s("label",{staticClass:"ml-3"},[t._v("\n                "+t._s(this.startDate)+" \n            ")])])]),t._v(" "),s("div",{staticClass:"row mt-2"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"ml-3"},[s("div",[t._m(9),t._v(" "),s("label",[t._v(" "+t._s(this.wipStep)+" ")])]),t._v(" "),t._l(t.wipSteps[t.routing_desc],(function(e){return[s("el-radio",{attrs:{label:e.oprn_id},on:{change:function(e){return t.getTable()}},model:{value:t.multi_wip_step,callback:function(e){t.multi_wip_step=e},expression:"multi_wip_step"}},[t._v("\n                        "+t._s(e.oprn_desc)+"\n                    ")])]}))],2)]),t._v(" "),s("div",{staticClass:"col-md-4"},[t._m(10),t._v(" "),s("label",{staticClass:"ml-3"},[t._v("\n                "+t._s(this.machine)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-md-3"},[t._m(11),t._v(" "),s("label",{staticClass:"ml-3"},[t._v("\n                "+t._s(this.endDate)+" \n            ")])])]),t._v(" "),s("div",{staticClass:"row mt-2"},[s("div",{staticClass:"col-md-8"},[t._m(12),t._v(" "),s("label",{staticClass:"ml-3"},[t._v("\n                "+t._s(this.header.comments)+" \n            ")])]),t._v(" "),s("div",{staticClass:"col-md-3"},[t._m(13),t._v(" "),s("label",{staticClass:"ml-3"},[t.invoice_flag?[s("i",{staticClass:"fa fa-check-circle text-success"})]:[s("i",{staticClass:"fa fa-circle text-muted"})]],2)])]),t._v(" "),s("div",{staticClass:"mt-5"},[s("h4",[t._v("วัตถุดิบที่ใช้")]),t._v(" "),s("div",{staticClass:"ml-3"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered"},[t._m(14),t._v(" "),s("tbody",t._l(t.datas,(function(e,i){return s("tr",{key:i,attrs:{row:e}},[t.multi_wip_step===e.oprn_id?[s("td",{staticClass:"text-center"},[t._v(t._s(e.ingredient_line))]),t._v(" "),s("td",[t._v(t._s(e.item_number))]),t._v(" "),s("td",[t._v(t._s(e.item_description))]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(e.ingredient_folmula_qty)+"\n                                ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(e.scrap_factor)+"\n                                ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(e.ingredient_qty)+"\n                                ")]),t._v(" "),s("td",[t._v("\n                                    "+t._s(e.ingredient_uom)+"\n                                ")]),t._v(" "),s("td",{staticClass:"text-center"},[e.active_flag?[s("i",{staticClass:"fa fa-check-circle text-success"})]:[s("i",{staticClass:"fa fa-circle text-muted"})]],2)]:t._e()],2)})),0)])])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"ml-3"},[s("b",[t._v("รหัสสินค้า")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("สถานะ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("ผู้อนุมัติ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-4"},[s("label",{staticClass:"ml-3"},[s("b",[t._v("ประเภทสูตร")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("Version")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("ปีงบประมาณ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"ml-3"},[s("b",[t._v("ประเภทสิ่งผลิต")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("จำนวนผลผลิต")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("วันที่เริ่มใช้งาน")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("ขั้นตอนการทำงาน")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("ประเภทเครื่องจักร")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("วันที่สิ้นสุดการใช้งาน")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"ml-3"},[s("b",[t._v("หมายเหตุ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("b",[t._v("กองบริหารต้นทุนนำไปใช้แล้ว")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"80px"}},[t._v("ลำดับวัตถุดิบ ")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"80px"}},[t._v("รหัสวัตถุดิบ")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"180px"}},[t._v("รายละเอียด")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"90px"}},[t._v("จำนวนตามสูตร")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"60px"}},[t._v("% สูญเสีย")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"100px"}},[t._v("ปริมาณที่ต้องใช้")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"60px"}},[t._v("หน่วยนับ")])]),t._v(" "),s("th",[s("div",{staticClass:"text-center",staticStyle:{width:"120px"}},[t._v("สถานะการใช้งาน")])])])])}],!1,null,null,null).exports}}]);