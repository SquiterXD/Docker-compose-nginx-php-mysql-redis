(self.webpackChunk=self.webpackChunk||[]).push([[375],{90375:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>l});var a=e(87757),o=e.n(a);function i(t,n,e,a,o,i,s){try{var r=t[i](s),l=r.value}catch(t){return void e(t)}r.done?n(l):Promise.resolve(l).then(a,o)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(a,o){var s=t.apply(n,e);function r(t){i(s,a,o,r,l,"next",t)}function l(t){i(s,a,o,r,l,"throw",t)}r(void 0)}))}}const r={props:["itemCats","oldInput","requestTypes"],data:function(){return{itemCat:0!=this.oldInput.length&&null!=this.oldInput.item_cat?Number(this.oldInput.item_cat):"",toOrganization:"",toSubinventory:"",toLocations:"",enableFlag:0==this.oldInput.length||"true"==this.oldInput.enableFlag,requestType:0!=this.oldInput.length&&null!=this.oldInput.request_type?this.oldInput.request_type:"",locationsList:[],subinventoryList:[],organizationList:[],isDisabledToLocations:!0,isDisabledSubinventory:!0,isDisabledOrganization:!0,loading:{toOrganization:!1,toLocations:!1,toSubinventory:!1}}},mounted:function(){0!=this.oldInput.length&&null!=this.oldInput.item_cat&&this.getOrganization(this.oldInput.item_cat)},methods:{getOrganization:function(t){var n=this;return s(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={itemCat:t},n.loading.toOrganization=!0,n.loading.toSubinventory=!0,n.loading.toLocations=!0,e.next=6,axios.get("/pm/ajax/setup-transfer/get-organization",{params:a}).then((function(t){n.toOrganization=0!=n.oldInput.length?n.oldInput.toOrganization:"",n.isDisabledOrganization=!1,n.organizationList=t.data.organizationList,n.loading.toOrganization=!1,n.toSubinventory="",n.isDisabledSubinventory=!0,n.loading.toSubinventory=!1,n.toLocations="",n.isDisabledToLocations=!0,n.loading.toLocations=!1,0!=n.oldInput.length&&n.getSubinventory(n.toOrganization)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))()},getSubinventory:function(t){var n=this;return s(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={toOrganization:t},n.loading.toSubinventory=!0,n.loading.toLocations=!0,e.next=5,axios.get("/pm/ajax/setup-transfer/get-subinventory",{params:a}).then((function(t){""==t.data.subinventoryList?(n.toSubinventory="",n.isDisabledSubinventory=!0,n.loading.toSubinventory=!1,n.toLocations="",n.isDisabledToLocations=!0,n.loading.toLocations=!1,swal({title:"warning !",text:"Organizationนี้ ไม่มีคลังจัดเก็บ และสถานที่จัดเก็บ",type:"warning",showConfirmButton:!0})):(n.toSubinventory=0!=n.oldInput.length?n.oldInput.subinventory_code:"",n.isDisabledSubinventory=!1,n.subinventoryList=t.data.subinventoryList,n.loading.toSubinventory=!1,0!=n.oldInput.length&&n.getLocations(n.oldInput.subinventory_code,n.oldInput.toOrganization),n.toLocations="",n.isDisabledToLocations=!0,n.loading.toLocations=!1)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},getLocations:function(t,n){var e=this;return s(o().mark((function a(){var i;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={subinventory:t,toOrganizationId:n},e.loading.toLocations=!0,a.next=4,axios.get("/pm/ajax/setup-transfer/get-locations",{params:i}).then((function(t){""==t.data.locationsList?(e.toLocations="",e.isDisabledToLocations=!0,e.loading.toLocations=!1,swal({title:"warning !",text:"คลังจัดเก็บนี้ ไม่มีสถานที่จัดเก็บ",type:"warning",showConfirmButton:!0})):(e.toLocations=0!=e.oldInput.length?e.oldInput.inventory_location_id:"",e.isDisabledToLocations=!1,e.locationsList=t.data.locationsList,e.loading.toLocations=!1)}));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),a)})))()}}};const l=(0,e(51900).Z)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"margin-right":"300px","margin-left":"300px","padding-top":"15px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.requestType,expression:"requestType"}],attrs:{type:"hidden",name:"request_type"},domProps:{value:t.requestType},on:{input:function(n){n.target.composing||(t.requestType=n.target.value)}}}),t._v(" "),e("label",[t._v("ประเภทการเบิก")]),e("span",{staticClass:"text-danger"},[t._v(" *")]),t._v(" "),e("el-select",{staticClass:"w-100",attrs:{placeholder:"โปรดเลือก ประเภทการเบิก","reserve-keyword":"",filterable:""},model:{value:t.requestType,callback:function(n){t.requestType=n},expression:"requestType"}},t._l(t.requestTypes,(function(t,n){return e("el-option",{key:n,attrs:{label:t.description,value:t.lookup_code}})})),1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"margin-right":"300px","margin-left":"300px","padding-top":"15px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.itemCat,expression:"itemCat"}],attrs:{type:"hidden",name:"item_cat"},domProps:{value:t.itemCat},on:{input:function(n){n.target.composing||(t.itemCat=n.target.value)}}}),t._v(" "),e("label",[t._v("ประเภทวัตถุดิบ")]),e("span",{staticClass:"text-danger"},[t._v(" *")]),t._v(" "),e("el-select",{staticClass:"w-100",attrs:{placeholder:"โปรดเลือก ประเภทวัตถุดิบ","reserve-keyword":"",filterable:""},on:{change:function(n){return t.getOrganization(t.itemCat)}},model:{value:t.itemCat,callback:function(n){t.itemCat=n},expression:"itemCat"}},t._l(t.itemCats,(function(t,n){return e("el-option",{key:n,attrs:{label:t.meaning+" : "+t.description,value:t.lookup_code}})})),1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"margin-right":"300px","margin-left":"300px","padding-top":"15px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toOrganization,expression:"toOrganization"}],attrs:{type:"hidden",name:"toOrganization"},domProps:{value:t.toOrganization},on:{input:function(n){n.target.composing||(t.toOrganization=n.target.value)}}}),t._v(" "),e("label",[t._v("Organization รับวัตถุดิบ")]),e("span",{staticClass:"text-danger"},[t._v(" *")]),t._v(" "),e("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.toOrganization,expression:"loading.toOrganization"}],staticClass:"w-100",attrs:{placeholder:"โปรดเลือก Organization รับวัตถุดิบ",disabled:t.isDisabledOrganization,"reserve-keyword":"",filterable:""},on:{change:function(n){return t.getSubinventory(t.toOrganization)}},model:{value:t.toOrganization,callback:function(n){t.toOrganization=n},expression:"toOrganization"}},t._l(t.organizationList,(function(t,n){return e("el-option",{key:n,attrs:{label:t.organization?t.organization.organization_code+" : "+t.organization.organization_name:t.parameter.organization_code,value:t.organization_id}})})),1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"margin-right":"300px","margin-left":"300px","padding-top":"15px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toSubinventory,expression:"toSubinventory"}],attrs:{type:"hidden",name:"subinventory_code"},domProps:{value:t.toSubinventory},on:{input:function(n){n.target.composing||(t.toSubinventory=n.target.value)}}}),t._v(" "),e("label",[t._v("คลังจัดเก็บ")]),e("span",{staticClass:"text-danger"},[t._v(" *")]),t._v(" "),e("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.toSubinventory,expression:"loading.toSubinventory"}],staticClass:"w-100",attrs:{placeholder:"โปรดเลือก คลังจัดเก็บ",disabled:t.isDisabledSubinventory,"reserve-keyword":"",filterable:""},on:{change:function(n){return t.getLocations(t.toSubinventory,t.toOrganization)}},model:{value:t.toSubinventory,callback:function(n){t.toSubinventory=n},expression:"toSubinventory"}},t._l(t.subinventoryList,(function(t,n){return e("el-option",{key:n,attrs:{label:t.subinventory_code+" : "+t.subinventory_desc,value:t.subinventory_code}})})),1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"margin-right":"300px","margin-left":"300px","padding-top":"15px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toLocations,expression:"toLocations"}],attrs:{type:"hidden",name:"inventory_location_id"},domProps:{value:t.toLocations},on:{input:function(n){n.target.composing||(t.toLocations=n.target.value)}}}),t._v(" "),e("label",[t._v("สถานที่จัดเก็บ")]),e("span",{staticClass:"text-danger"},[t._v(" *")]),t._v(" "),e("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.toLocations,expression:"loading.toLocations"}],staticClass:"w-100",attrs:{placeholder:"โปรดเลือก สถานที่จัดเก็บ",disabled:t.isDisabledToLocations,"reserve-keyword":"",filterable:""},model:{value:t.toLocations,callback:function(n){t.toLocations=n},expression:"toLocations"}},t._l(t.locationsList,(function(t,n){return e("el-option",{key:n,attrs:{label:t.segment2+" : "+t.description,value:t.inventory_location_id}})})),1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"margin-right":"300px","margin-left":"300px","padding-top":"15px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enableFlag,expression:"enableFlag"}],attrs:{type:"hidden",name:"enableFlag"},domProps:{value:t.enableFlag},on:{input:function(n){n.target.composing||(t.enableFlag=n.target.value)}}}),t._v(" "),e("label",[t._v("สถานะการใช้งาน")]),t._v(" "),e("el-checkbox",{staticClass:"w-100",model:{value:t.enableFlag,callback:function(n){t.enableFlag=n},expression:"enableFlag"}})],1)])])}),[],!1,null,null,null).exports}}]);