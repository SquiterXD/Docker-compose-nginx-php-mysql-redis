(self.webpackChunk=self.webpackChunk||[]).push([[6092],{5691:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var s=a(23645),n=a.n(s)()((function(t){return t[1]}));n.push([t.id,'@font-face{font-family:element-icons;src:url(/fonts/element-icons.woff) format("woff"),url(/fonts/element-icons.ttf) format("truetype");font-weight:400;font-display:"auto";font-style:normal}.in-block[data-v-2def9a18]{padding:0}textarea[data-v-2def9a18]{font-size:12px}.input-icon[data-v-2def9a18]{position:relative}.input-icon i.fa-search[data-v-2def9a18]{pointer-events:auto;cursor:pointer}.input-icon i[data-v-2def9a18]{position:absolute;top:50%;right:10px;opacity:.4;margin-top:-7px;pointer-events:none;font-size:13px}.items-list td[data-v-2def9a18]:nth-child(2){vertical-align:top}.items-list th[data-v-2def9a18]:nth-child(2),.items-list th[data-v-2def9a18]:nth-child(3){min-width:450px}.input-group .form-control[data-v-2def9a18]:focus,.input-group .form-control[data-v-2def9a18]:hover{border:none}.el-select .el-input .el-select__caret[data-v-2def9a18]{display:none}.el-select.form-control[data-v-2def9a18]{border:none;padding:0}.claim-order[data-v-2def9a18]{min-width:145px}.claim-status[data-v-2def9a18]{min-width:170px}.claim-type-order[data-v-2def9a18]{min-width:240px}#filter-btn[data-v-2def9a18]{margin:auto}.input-group .form-control[data-v-2def9a18]{border-right:none}.input-group .form-control[data-v-2def9a18]:focus,.input-group .form-control[data-v-2def9a18]:hover{border:1px solid #e5e6e7;border-right:none}input[data-v-2def9a18]::-webkit-inner-spin-button,input[data-v-2def9a18]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][data-v-2def9a18]{-moz-appearance:textfield}.table-responsive[data-v-2def9a18]{padding:8px}',""]);const i=n},6092:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>v});var s=a(87757),n=a.n(s),i=a(64720);function r(t,e,a,s,n,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(s,n)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function c(t){r(i,s,n,c,o,"next",t)}function o(t){r(i,s,n,c,o,"throw",t)}c(void 0)}))}}function o(t){if(console.log({str:t,message:"แปลงวันที่"}),null==t)return null;var e=new Date(t),a=("0"+(e.getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2);return[e.getFullYear(),a,s].join("-")}Vue.prototype.$msgbox=i.MessageBox,Vue.prototype.$confirm=i.MessageBox.confirm,Vue.prototype.$message=i.Message;const l={props:{btn_trans:Object,url_ajax:Object,customer_list:Array},data:function(){return{status:"Procress",claim_list:[],status_list:[],fix_data:!1,end_date:"",filter:{},datatable:"",isLoading:!1,claim_number_list:[]}},mounted:function(){var t=this;return c(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.getClaimNumber(),a=t.loading(),e.next=4,t.getStatusList();case 4:a.close(),t.removeCursurSelectblock(),t.datatable=$("#datatable").dataTable({searching:!1,ordering:!1}),$('[name="datatable_length"]').css("width","120px");case 8:case"end":return e.stop()}}),e)})))()},methods:{showAttachment:function(t){$("#"+t).toggle()},removeCursurSelectblock:function(){_.forEach(document.getElementsByClassName("el-select__caret"),(function(t){setTimeout((function(){t.remove()}),100)}))},toggleRadioApprove:function(t){var e=$(t.target);1==e.data("waschecked")?(e.prop("checked",!1),e.data("waschecked",!1)):e.data("waschecked",!0),e.siblings('input[class="rad"]').data("waschecked",!1)},handleReset:function(){this.end_date="",this.filter={claim_date:""},delete this.filter.claim_date,this.claim_list=[],this.datatable=$("#datatable").dataTable({searching:!1,ordering:!1}),$('[name="datatable_length"]').css("width","120px")},handlePrintBtn:function(t){window.open(this.url_ajax.claim_print+"?claim_header_id="+t.claim_header_id)},chackCloseClaim:function(t){return"Y"!=t.status_approve_claim&&"N"!=t.status_approve_claim||8==t.status_claim_code},checkTypeClaim:function(t){return"Y"!=t.status_approve_claim},loading:function(){var t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});return t},validateConfirm:function(){var t=_.filter(this.claim_list,(function(t){return"N"==t.approve_type&&!("Y"==t.status_approve_claim||"N"==t.status_approve_claim)})),e=_.filter(this.claim_list,(function(t){return"Y"==t.approve_type&&2==t.status_claim_code&&t.type_claim||2==t.status_claim_code&&"Y"==t.approve_type&&null==t.status_approve_claim})),a=!1;return _.forEach(t,(function(t){t.validate.approve_text=!1,null!=t.approve_text&&""!=t.approve_text&&void 0!==t.approve_text||(a=!0,t.validate.approve_text=!0)})),_.forEach(e,(function(t){t.validate.approve_text=!1,t.validate.input_memo=!1,null!=t.approve_text&&""!=t.approve_text&&void 0!==t.approve_text||(a=!0,t.validate.approve_text=!0),"Y"!=t.approve_type||"send_now"!=t.type_claim&&"issue_credit_note"!=t.type_claim||t.input_memo||(a=!0,t.validate.input_memo=!0)})),a},handleCloseClaim:function(t){var e=this;return c(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,swal({title:"แจ้งเตือน",text:"ยืนยันการทำรายการปิดการเคลมหรือไม่?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"ตกลง",closeOnConfirm:!1},c(n().mark((function a(){var s;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return swal.close(),s=e.loading(),a.next=4,e.callData(e.url_ajax.close_header,t).then(function(){var t=c(n().mark((function t(a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleFilter();case 2:e.notic("success","ทำรายการเรียบร้อย");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){}));case 4:s.close();case 5:case"end":return a.stop()}}),a)}))));case 2:case"end":return a.stop()}}),a)})))()},handleSubmitForm:function(){var t=this;return c(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("##### handle Submit Form ######"),1!=t.validateConfirm()){e.next=4;break}return t.notic("error","กรอกข้อมูลให้ครบถ่วน"),e.abrupt("return",!1);case 4:return e.next=6,swal({title:"แจ้งเตือน",text:"ยืนยันการทำรายการนี้หรือไม่?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"ตกลง",closeOnConfirm:!1},c(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return swal.close(),e.next=3,t.confirmSubmit();case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})))()},confirmSubmit:function(){var t=this;return c(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.loading(),s=_.filter(t.claim_list,(function(t){return"N"==t.approve_type&&!("Y"==t.status_approve_claim||"N"==t.status_approve_claim)||"Y"==t.approve_type&&2==t.status_claim_code&&t.type_claim||2==t.status_claim_code&&"Y"==t.approve_type&&null==t.status_approve_claim})),console.log("call handleSubmitForm",s),0!=s.length){e.next=7;break}return t.notic("warning","กรุณาเลือกข้อมูลที่ต้องการทำรายการ"),a.close(),e.abrupt("return",!1);case 7:return e.next=9,t.callData(t.url_ajax.update_header,s).then(function(){var e=c(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleFilter();case 2:t.$message({message:"ทำรายการเรียบร้อย",type:"success"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}));case 9:a.close();case 10:case"end":return e.stop()}}),e)})))()},notic:function(t,e){this.$message({title:"แจ้งเตือน",message:e,type:t})},changeEDate:function(t){var e=this;return c(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.filter.claim_date=e.dateFormat(t);case 1:case"end":return a.stop()}}),a)})))()},callData:function(t){var e=arguments,a=this;return c(n().mark((function s(){var i,r;return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:[],(r=axios.post(t,i)).catch((function(t){return a.notic("error","ไม่สามารถทำรายการได้")})),s.abrupt("return",r);case 4:case"end":return s.stop()}}),s)})))()},dateFormat:function(t){return c(n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date(t),e.abrupt("return",a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate());case 2:case"end":return e.stop()}}),e)})))()},handleChangeSearchCustomerNumber:function(t,e){var a=this;return c(n().mark((function e(){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.loading(),console.log("loader progress",s,t),a.filter.customer_id=t,e.next=5,_.forEach(a.customer_list,(function(e){e.customer_id==t&&(a.filter.customer_name=e.customer_name,a.filter.customer_number=e.customer_number)}));case 5:return""==t&&(a.filter.customer_name="",a.filter.customer_number=""),e.next=8,a.getClaimNumber();case 8:setTimeout((function(){s.close()}),500);case 9:case"end":return e.stop()}}),e)})))()},handleChangeClaimNumber:function(){var t=this,e=_.filter(this.claim_number_list,(function(e){return e.claim_number===t.filter.claim_number})),a=_.filter(this.customer_list,(function(t){return t.customer_id==e[0].customer_id}));a[0]?(this.filter.customer_id=e[0].customer_id,this.filter.customer_name=a[0].customer_name,this.filter.customer_number=a[0].customer_number):(this.filter.customer_id="",this.filter.customer_name="",this.filter.customer_number="")},getClaimNumber:function(){var t=this;return c(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.post(t.url_ajax.take_claim_number,{customer_number:t.filter.customer_id}).then((function(e){t.claim_number_list=e.data}));case 2:case"end":return e.stop()}}),e)})))()},attachmentBind:function(t){switch(t){case"1":return"Attach Photo Cardbox boxes (Front Side)";case"2":return"Attach Photo MFG Date (Beside)";case"3":return"Attach Photo Good Damaged"}},getStatusList:function(){var t=this;return c(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.callData(t.url_ajax.list_status).then((function(e){200==e.status&&(t.status_list=e.data)})).catch((function(t){}));case 2:case"end":return e.stop()}}),e)})))()},handleFilter:function(t){var e=this;return c(n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.datatable.fnDestroy(),a=e.loading(),e.filter.claim_date=o(e.filter.claim_date),t.next=5,e.callData(e.url_ajax.list_claim,e.filter).then((function(t){200==t.status&&(e.claim_list=t.data,_.map(e.claim_list,(function(t){e.$set(t,"validate",{approve_text:!1,input_memo:!1}),e.$set(t,"type_claim",""),t.no_product_claim="Y"==t.cancle_deliver_flag?"not_send_product_back":null,t.type_claim="Y"==t.replacement_flag?"send_now":"N"==t.replacement_flag?"issue_credit_note":null,t.input_memo=t.cancle_deliver_remark,t.approve_text=t.remark_approve,t.approve_type=t.status_approve_claim,t.check_type_claim=e.checkTypeClaim(t)})))})).catch((function(t){}));case 5:e.datatable=$("#datatable").dataTable({searching:!1,ordering:!1}),$('[name="datatable_length"]').css("width","120px"),a.close();case 8:case"end":return t.stop()}}),t)})))()}}};var u=a(93379),d=a.n(u),m=a(5691),p={insert:"head",singleton:!1};d()(m.Z,p);m.Z.locals;const v=(0,a(51900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"col-xl-6 m-auto"},[t._m(1),t._v(" "),a("div",{staticClass:"form-group row",staticStyle:{"margin-bottom":"1rem !important"}},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"d-block"},[t._v("รหัสร้านค้า")]),t._v(" "),a("div",{staticClass:"input-icon"},[a("el-select",{staticClass:"form-control",attrs:{filterable:""},on:{change:t.handleChangeSearchCustomerNumber},model:{value:t.filter.customer_number,callback:function(e){t.$set(t.filter,"customer_number",e)},expression:"filter.customer_number"}},[a("el-option",{attrs:{value:"",label:"Select Customer"}}),t._v(" "),t._l(t.customer_list,(function(t){return a("el-option",{key:t.customer_id,attrs:{value:t.customer_id,label:t.customer_number+" : "+t.customer_name}})}))],2),t._v(" "),a("i",{staticClass:"fa fa-search"})],1)]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"d-block"},[t._v("ชื่อร้านค้า")]),t._v(" "),a("div",{staticClass:"input-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.customer_name,expression:"filter.customer_name"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"",value:"",disabled:""},domProps:{value:t.filter.customer_name},on:{input:function(e){e.target.composing||t.$set(t.filter,"customer_name",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group row",staticStyle:{"margin-bottom":"1rem !important"}},[a("div",{staticClass:"col-md-12"},[a("label",{staticClass:"d-block"},[t._v("เลขที่ใบแจ้งเคลมสินค้า")]),t._v(" "),a("div",{staticClass:"input-icon"},[a("el-select",{staticClass:"form-control",attrs:{filterable:""},on:{change:t.handleChangeClaimNumber},model:{value:t.filter.claim_number,callback:function(e){t.$set(t.filter,"claim_number",e)},expression:"filter.claim_number"}},[a("el-option",{attrs:{value:"",label:"เลขที่ใบแจ้งเคลมสินค้า"}}),t._v(" "),t._l(t.claim_number_list,(function(t){return a("el-option",{key:t.claim_header_id,attrs:{value:t.claim_number,label:t.claim_number}})}))],2),t._v(" "),a("i",{staticClass:"fa fa-search"})],1)])]),t._v(" "),a("div",{staticClass:"form-group row",staticStyle:{"margin-bottom":"1rem !important"}},[a("div",{staticClass:"col-md-12"},[a("label",{staticClass:"d-block"},[t._v("วันที่แจ้งแคลมสินค้า")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"100%"},attrs:{name:"end_date",id:"end_date",placeholder:"วันที่แจ้งแคลมสินค้า",value:t.end_date,disabled:t.fix_data,format:"dd-MM-yyyy"},model:{value:t.filter.claim_date,callback:function(e){t.$set(t.filter,"claim_date",e)},expression:"filter.claim_date"}})],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[t._v("สถานะ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status_claim,expression:"filter.status_claim"}],staticClass:"custom-select",attrs:{id:"status",name:"status",disabled:t.fix_data},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"status_claim",e.target.multiple?a:a[0])}}},t._l(t.status_list,(function(e){return a("option",{key:e.lookup_code,domProps:{value:e.lookup_code}},[t._v("\n                  "+t._s(e.meaning)+"\n                ")])})),0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12 text-center"},[a("button",{staticClass:"btn btn-md btn-white",staticStyle:{width:"250px"},attrs:{type:"button"},on:{click:t.handleFilter}},[a("i",{staticClass:"fa fa-search"}),t._v(" ค้นหา\n                ")])])])]),t._v(" "),a("hr",{staticClass:"lg"}),t._v(" "),a("div",{staticClass:"col-xl-12 tw-mb-3 tw-text-right"},[a("button",{staticClass:"btn btn-md btn-primary",attrs:{type:"button"},on:{click:t.handleSubmitForm}},[a("i",{staticClass:"fa fa-save"}),t._v(" บันทึก")]),a("br")]),t._v(" "),a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table items-list table-bordered text-center f13",attrs:{id:"datatable"}},[t._m(2),t._v(" "),a("tbody",t._l(t.claim_list,(function(e){return a("tr",{key:e.claim_header_id,staticClass:"align-middle"},[a("td",[2==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#f90"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e(),t._v(" "),5==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#f00"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e(),t._v(" "),8==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#676a6c"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e(),t._v(" "),9==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#f00"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v("9")])]):t._e(),t._v(" "),3==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#00f"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e(),t._v(" "),6==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#00b050"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e(),t._v(" "),4==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#f0f"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e(),t._v(" "),7==e.status_claim_code?a("div",{staticClass:"\n                          tw-m-auto tw-text-center tw-my-4 tw-px-3 tw-py-4\n                        ",staticStyle:{color:"rgb(255, 255, 255)","font-weight":"bold","background-color":"#f1c232"}},[t._v("\n                        "+t._s(e.status_claim_label)+"\n                        "),a("br",{attrs:{"data-v-4a57d4a9":""}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px"},attrs:{"data-v-4a57d4a9":""}},[t._v(t._s(e.status_claim_code))])]):t._e()]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n                      รหัสลูกค้า : "+t._s(e.customer.customer_number||"")+" -\n                      "+t._s(e.customer.customer_name||"")),a("br"),t._v("\n                      เลขที่ใบแจ้งเคลมสินค้า : "+t._s(e.claim_number)),a("br"),t._v("\n                      อ้างอิง Invoice เลขที่ : "+t._s(e.invoice_id_number)),a("br"),t._v("\n                      วันที่ Invoice : "+t._s(e.invoice_date_label)),a("br"),t._v("\n                      อาการเสีย : "+t._s(e.symptom_description)),a("br"),t._v("\n                      จำนวนส่งเคลม :\n                      "),a("ul",t._l(e.lines,(function(e){return a("li",{key:e.item_id},[t._v("\n                          "+t._s(e.item_description)+" :\n                          "),e.claim_quantity_carton>0?a("span",[t._v(t._s(e.claim_quantity_carton)+" ห่อ\n                            (บุหรี่)")]):t._e(),t._v(" "),e.claim_quantity_cbb>0?a("span",[t._v(t._s(e.claim_quantity_cbb)+" หีบ (บุหรี่)")]):t._e(),t._v(" "),e.claim_quantity_pack>0?a("span",[t._v(t._s(e.claim_quantity_pack)+" ซอง (บุหรี่)")]):t._e()])})),0),t._v(" "),a("br"),t._v(" "),null!=e.credit_note_number?a("div",[t._v("\n                      ใบลดหนี้เลขที่: "+t._s(e.credit_note_number)+"\n                    ")]):t._e(),t._v(" "),null!=e.rma_number?a("div",[t._v("\n                      ใบคืนสินค้าเลขที่: "+t._s(e.rma_number)+" \n                    ")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.showAttachment("attachment-"+e.claim_header_id)}}},[t._v("\n                        ดูไฟล์แนบ\n                      ")]),t._v(" "),a("ul",{staticStyle:{display:"none"},attrs:{id:"attachment-"+e.claim_header_id}},t._l(e.attachment,(function(e){return a("li",{key:e.attachment_id},[a("a",{attrs:{target:"_blank",href:"/"+e.path_name.replace("public","storage")}},[t._v("Line "+t._s(e.line_id)+" :\n                            "+t._s(t.attachmentBind(e.attribute1)))])])})),0)]),t._v(" "),a("td",{staticClass:"text-left",staticStyle:{"vertical-align":"text-top"}},[a("div",{staticClass:"form-group m-0"},[a("div",{staticClass:"row space-5"},[a("div",{staticClass:"col-4"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.approve_type,expression:"item.approve_type"}],staticClass:"red",attrs:{type:"radio",disabled:!(!e.status_approve_claim&&9!=e.status_claim_code),name:"Confirm-"+e.claim_header_id,placeholder:"","data-waschecked":"true",value:"Y"},domProps:{checked:t._q(e.approve_type,"Y")},on:{click:t.toggleRadioApprove,change:function(a){return t.$set(e,"approve_type","Y")}}}),t._v("\n                              อนุมัติ\n                            ")])]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.approve_type,expression:"item.approve_type"}],staticClass:"red",attrs:{type:"radio",disabled:!(!e.status_approve_claim&&9!=e.status_claim_code),name:"Confirm-"+e.claim_header_id,placeholder:"",value:"N"},domProps:{checked:t._q(e.approve_type,"N")},on:{click:t.toggleRadioApprove,change:function(a){return t.$set(e,"approve_type","N")}}}),t._v("\n                              ไม่อนุมัติ\n                            ")])])]),t._v(" "),t._m(3,!0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.approve_text,expression:"item.approve_text"}],class:"form-control "+(e.validate.approve_text?"is-invalid":""),attrs:{disabled:!(!e.status_approve_claim&&9!=e.status_claim_code)},domProps:{value:e.approve_text},on:{input:function(a){a.target.composing||t.$set(e,"approve_text",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"\n                              col-md-5\n                              tw-flex tw-items-center tw-whitespace-normal\n                            "},[t._v("\n                            จำนวนที่สามารถ Rework ได้ :\n                          ")]),t._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"col-md-12"},[t._v("หีบ")]),t._v(" "),a("div",{staticClass:"col-md-12 in-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cardboard_box_quantity,expression:"item.cardboard_box_quantity"}],staticClass:"form-control",attrs:{type:"number",disabled:!(!e.status_approve_claim&&9!=e.status_claim_code),name:"",placeholder:"",value:""},domProps:{value:e.cardboard_box_quantity},on:{input:function(a){a.target.composing||t.$set(e,"cardboard_box_quantity",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"col-md-12"},[t._v("ห่อ")]),t._v(" "),a("div",{staticClass:"col-md-12 in-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cartons_quantity,expression:"item.cartons_quantity"}],staticClass:"form-control",attrs:{type:"number",disabled:!(!e.status_approve_claim&&9!=e.status_claim_code),name:"",placeholder:"",value:""},domProps:{value:e.cartons_quantity},on:{input:function(a){a.target.composing||t.$set(e,"cartons_quantity",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"col-md-12"},[t._v("ซอง")]),t._v(" "),a("div",{staticClass:"col-md-12 in-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pack_quantity,expression:"item.pack_quantity"}],staticClass:"form-control",attrs:{type:"number",disabled:!(!e.status_approve_claim&&9!=e.status_claim_code),name:"",placeholder:"",value:""},domProps:{value:e.pack_quantity},on:{input:function(a){a.target.composing||t.$set(e,"pack_quantity",a.target.value)}}})])])])])]),t._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"row space-8"},[a("button",{class:t.btn_trans.print.class+" btn-md tw-m-auto tw-mb-3",attrs:{type:"button"},on:{click:function(a){return t.handlePrintBtn(e)}}},[a("i",{staticClass:"fa fa-print"})])]),t._v(" "),a("div",{staticClass:"row space-8"},[a("button",{class:t.btn_trans.cancel.class+" btn-md  tw-m-auto",attrs:{disabled:t.chackCloseClaim(e),type:"button"},on:{click:function(a){return t.handleCloseClaim(e)}}},[a("i",{staticClass:"fa fa-print"}),t._v(" ปิดการเคลม\n                        ")])])]),t._v(" "),a("td",{staticClass:"tw-text-left"},[a("div",{staticClass:"row space-8"},[a("div",{staticClass:"col-md-12"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.type_claim,expression:"item.type_claim"}],attrs:{type:"radio",disabled:e.check_type_claim||2!=e.status_claim_code,placeholder:"",value:"send_now"},domProps:{checked:t._q(e.type_claim,"send_now")},on:{change:function(a){return t.$set(e,"type_claim","send_now")}}}),t._v("\n                            ส่งสินค้าทดแทน\n                          ")])])]),t._v(" "),a("div",{staticClass:"row space-8"},[a("div",{staticClass:"col-md-12"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.type_claim,expression:"item.type_claim"}],attrs:{type:"radio",disabled:e.check_type_claim||2!=e.status_claim_code,placeholder:"",value:"issue_credit_note"},domProps:{checked:t._q(e.type_claim,"issue_credit_note")},on:{change:function(a){return t.$set(e,"type_claim","issue_credit_note")}}}),t._v("\n                            ออกใบลดหนี้\n                          ")])])]),t._v(" "),a("div",{staticClass:"row space-8"},[a("div",{staticClass:"col-md-12"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.no_product_claim,expression:"item.no_product_claim"}],attrs:{type:"checkbox",disabled:e.check_type_claim||2!=e.status_claim_code,name:"",placeholder:"",value:"not_send_product_back"},domProps:{checked:Array.isArray(e.no_product_claim)?t._i(e.no_product_claim,"not_send_product_back")>-1:e.no_product_claim},on:{change:function(a){var s=e.no_product_claim,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r="not_send_product_back",c=t._i(s,r);n.checked?c<0&&t.$set(e,"no_product_claim",s.concat([r])):c>-1&&t.$set(e,"no_product_claim",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(e,"no_product_claim",i)}}}),t._v("\n                            รับสินค้าคืนจากลูกค้า\n                          ")])])]),t._v(" "),t._m(4,!0),t._v(" "),a("div",{staticClass:"row space-5"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.input_memo,expression:"item.input_memo"}],class:"form-control "+(e.validate.input_memo?"is-invalid":""),attrs:{disabled:e.check_type_claim||2!=e.status_claim_code},domProps:{value:e.input_memo},on:{input:function(a){a.target.composing||t.$set(e,"input_memo",a.target.value)}}})])])])])})),0)])])])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-sm-12 col-lg-4 align-middle"},[a("h4",[t._v("อนุมัติการเคลมสินค้า")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("h4",{staticClass:"black mb-3"},[t._v("ค้นหารายการที่ต้องการ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"align-middle"},[a("th",{staticClass:"claim-status"},[t._v("สถานะ")]),t._v(" "),a("th",[t._v("รายละเอียด")]),t._v(" "),a("th",[t._v("อนุมัติการเคลมสินค้า")]),t._v(" "),a("th",{staticClass:"claim-order"},[t._v("ใบแจ้งเคลม")]),t._v(" "),a("th",{staticClass:"claim-type-order"},[t._v("วิธีการเคลม")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("เนื่องจาก")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row space-5"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v("หมายเหตุ ")])])])}],!1,null,"2def9a18",null).exports}}]);