(self.webpackChunk=self.webpackChunk||[]).push([[3954],{63347:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>n});var a=s(80455);const o={components:{VueNumeric:s.n(a)()},props:[],data:function(){return{loading:!1,disable_params:!1,disable_report:!1,disable_interface:!1,dateLists:[],documentNoLists:[],document_date:"",document_no:"",interface_status:"",group_id:""}},mounted:function(){this.getDateLists()},methods:{getDateLists:function(){var t=this;axios.get("/om/close-daily-sale/date-lists").then((function(e){t.dateLists=e.data})).catch((function(e){t.showError(e.message)})).then((function(){}))},getDocumentNoLists:function(){var t=this;t.document_no="",axios.get("/om/close-daily-sale/document-no-lists?document_date="+t.document_date).then((function(e){t.documentNoLists=e.data})).catch((function(e){t.showError(e.message)})).then((function(){}))},interface:function(){var t=this,e="",s=!1;if(t.document_date||(e+="กรุณาระบุวันที่ <br>",s=!0),s)return swal({html:!0,title:"กรุณาระบุข้อมูลให้ครบถ้วน",text:e,type:"error"}),!1;t.loading=t.disable_interface=!0,axios.post("/om/close-daily-sale/interface",{document_date:t.document_date,document_no:t.document_no}).then((function(e){if("S"==e.data.status){t.group_id=e.data.group_id;var s="group id : "+t.group_id;t.document_date="",t.getDateLists(),t.showSuccess(s)}else t.showError(e.data.msg)})).catch((function(e){t.showError(e.message)})).then((function(){t.loading=t.disable_interface=!1}))},report:function(){var t=this,e="",s=!1;if(t.document_date||(e+="กรุณาระบุวันที่ <br>",s=!0),s)return swal({html:!0,title:"กรุณาระบุข้อมูลให้ครบถ้วน",text:e,type:"error"}),!1;t.loading=t.disable_report=!0,axios.post("/om/close-daily-sale/call-report",{document_date:t.document_date,document_no:t.document_no}).then((function(e){"S"==e.data.status?t.showSuccess(e.data.msg):t.showError(e.data.msg)})).catch((function(e){t.showError(e.message)})).then((function(){t.loading=t.disable_report=!1}))},showSuccess:function(t){swal("Success!",t,"success")},showError:function(t){swal("Error!",t,"error")}}};const n=(0,s(51900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-3"}),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-12"},[t._m(0),t._v(" "),s("el-select",{staticClass:"w-100",attrs:{filterable:"",placeholder:"Select",disabled:t.disable_params},on:{focus:function(e){return t.getDateLists()},input:function(e){return t.getDocumentNoLists()}},model:{value:t.document_date,callback:function(e){t.document_date=e},expression:"document_date"}},t._l(t.dateLists,(function(t,e){return s("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1)]),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-12"},[s("label",[t._v("เลขที่เอกสาร ")]),t._v(" "),s("el-select",{staticClass:"w-100",attrs:{filterable:"",clearable:"",placeholder:"Select",disabled:t.disable_params},model:{value:t.document_no,callback:function(e){t.document_no=e},expression:"document_no"}},t._l(t.documentNoLists,(function(t,e){return s("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1)]),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-12"},[s("label",[t._v("Group ID")]),t._v(" "),s("el-input",{staticClass:"w-100",attrs:{placeholder:"",disabled:!0},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}})],1)]),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-md-12"},[s("label",[t._v("หมายเหตุ")]),t._v(" "),s("el-input",{staticClass:"w-100",attrs:{placeholder:"",disabled:!0},model:{value:t.interface_status,callback:function(e){t.interface_status=e},expression:"interface_status"}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},[s("button",{staticClass:"btn btn-primary mt-2 mt-md-0",attrs:{type:"button",disabled:t.disable_report},on:{click:function(e){return t.report()}}},[t._v(" ประมวลผล")]),t._v(" "),s("button",{staticClass:"btn btn-primary mt-2 mt-md-0",attrs:{type:"button",disabled:t.disable_interface},on:{click:function(e){return t.interface()}}},[t._v(" Interface")])])])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("วันที่ "),s("span",{staticClass:"text-danger"},[t._v("*")])])}],!1,null,null,null).exports}}]);