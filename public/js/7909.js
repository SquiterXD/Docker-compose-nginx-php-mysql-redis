(self.webpackChunk=self.webpackChunk||[]).push([[7909],{87909:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var r=t(87757),n=t.n(r);function o(e,a,t,r,n,o,s){try{var l=e[o](s),u=l.value}catch(e){return void t(e)}l.done?a(u):Promise.resolve(u).then(r,n)}function s(e){return function(){var a=this,t=arguments;return new Promise((function(r,n){var s=e.apply(a,t);function l(e){o(s,r,n,l,u,"next",e)}function u(e){o(s,r,n,l,u,"throw",e)}l(void 0)}))}}const l={props:["dataName","dataLists","defaultValue","old","programCode","programColumn"],data:function(){return{data_value:this.old?this.old:this.defaultValue?this.defaultValue:"",remote_flag:!1,data_Lists:this.dataLists}},mounted:function(){var e=this;return s(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.programColumn.remote_search,"<================== this.programColumn.remote_search"),a.next=3,e.getDataList();case 3:console.log(e.programColumn.remote_search);case 4:case"end":return a.stop()}}),a)})))()},methods:{handleChange:function(){var e=this;return s(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"PMS0014"===e.programCode&&"ATTRIBUTE2"===e.programColumn.column_name&&_.each(e.$parent.$children,function(){var a=s(n().mark((function a(t,r){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"ATTRIBUTE1"==t.dataName&&(console.log(e.$parent.$children[r]),e.$parent.$children[r].$data.data_Lists=[],e.$parent.$children[r].$data.data_value="",setTimeout((function(){e.$parent.$children[r].getDataList()}),1e3));case 1:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},getDataList:function(e){var a=this;return s(n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.programColumn.remote_search){t.next=5;break}return r="",r="PMS0014"===a.programCode&&"ATTRIBUTE1"===a.programColumn.column_name?$('input[name="ATTRIBUTE2"]').val():a.data_value,t.next=5,axios.get("/lookup/search",{params:{program_code:a.programCode,program_column:a.dataName,search:e,id:r}}).then((function(e){Vue.set(a,"data_Lists",e.data)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})))()},sortArrays:function(e){return _.orderBy(e,"label","asc")}}};const u=(0,t(51900).Z)(l,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("input",{attrs:{type:"hidden",name:this.dataName,autocomplete:"off"},domProps:{value:e.data_value}}),e._v(" "),null!==e.programColumn.remote_search?t("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"","remote-method":e.getDataList},model:{value:e.data_value,callback:function(a){e.data_value=a},expression:"data_value"}},e._l(e.sortArrays(this.data_Lists),(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:e.handleChange},model:{value:e.data_value,callback:function(a){e.data_value=a},expression:"data_value"}},e._l(e.sortArrays(this.data_Lists),(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)}),[],!1,null,null,null).exports}}]);