(self.webpackChunk=self.webpackChunk||[]).push([[3040],{63040:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});const l={props:["types","authoRityLists","defaultValue"],data:function(){return{selectCustomerType:this.defaultValue?this.defaultValue.customer_type:"",selectEmployee:this.defaultValue?Number(this.defaultValue.authority_id):"",selectStatus:this.defaultValue?this.defaultValue.status:"Active",geographies:[],position_name:this.defaultValue?this.defaultValue.position_name:"",disablePosition:!this.defaultValue||!this.defaultValue.position_name,primary_approval:this.defaultValue?"Y"==this.defaultValue.primary_approval:"",email:this.defaultValue?this.defaultValue.email:"",statusData:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]}},methods:{getPosition:function(){var e=this;console.log(this.selectEmployee),this.selectEmployee&&(this.selectedData=this.authoRityLists.find((function(t){return t.authority_id==e.selectEmployee})),this.position_name=this.selectedData.position_name,this.disablePosition=!1)},getCheckPrimary:function(){var e=this;axios.get("/om/settings/customer/primary-approval",{params:{customer_type:this.selectCustomerType}}).then((function(t){t.data||(e.primary_approval=!0)}))}}};const s=(0,a(51900).Z)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[e._m(0),e._v(" "),a("input",{attrs:{type:"hidden",name:"customer_type"},domProps:{value:e.selectCustomerType}}),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:""},on:{change:function(t){return e.getCheckPrimary()}},model:{value:e.selectCustomerType,callback:function(t){e.selectCustomerType=t},expression:"selectCustomerType"}},e._l(e.types,(function(e){return a("el-option",{key:e.meaning,attrs:{label:e.meaning+" : "+e.description,value:e.meaning}})})),1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[e._m(1),e._v(" "),a("input",{attrs:{type:"hidden",name:"authority_id"},domProps:{value:e.selectEmployee}}),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:""},on:{change:function(t){return e.getPosition()}},model:{value:e.selectEmployee,callback:function(t){e.selectEmployee=t},expression:"selectEmployee"}},e._l(e.authoRityLists,(function(e){return a("el-option",{key:e.authority_id,attrs:{label:e.employee_name+" : "+e.position_name,value:e.authority_id}})})),1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[e._m(2),e._v(" "),a("el-input",{attrs:{name:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]),e._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-4"},[e._m(3),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{name:"status"},model:{value:e.selectStatus,callback:function(t){e.selectStatus=t},expression:"selectStatus"}},e._l(e.statusData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[e._m(4),e._v(" "),a("div",{staticClass:"ml-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.primary_approval,expression:"primary_approval"}],attrs:{type:"checkbox",name:"primary_approval"},domProps:{checked:Array.isArray(e.primary_approval)?e._i(e.primary_approval,null)>-1:e.primary_approval},on:{change:function(t){var a=e.primary_approval,l=t.target,s=!!l.checked;if(Array.isArray(a)){var i=e._i(a,null);l.checked?i<0&&(e.primary_approval=a.concat([null])):i>-1&&(e.primary_approval=a.slice(0,i).concat(a.slice(i+1)))}else e.primary_approval=s}}})])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" ประเภทลูกค้า "),a("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" ผู้มีอำนาจอนุมัติ "),a("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" Email "),a("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" Status "),a("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" Primary Approval "),a("span",{staticClass:"text-danger"},[e._v("*")])])}],!1,null,null,null).exports}}]);