(self.webpackChunk=self.webpackChunk||[]).push([[8934],{67791:(e,t,a)=>{"use strict";a.d(t,{gR:()=>i,R_:()=>c,sD:()=>s});var o=a(30381),n=a.n(o),i={formatDate:"DD/MM/YYYY",formatMonth:"MM/YYYY",formatYear:"YYYY",monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},c={irp0001_table_header:[{document_number:"",status:"NEW",period_year:"2020",period_name:"Jan-20",period_from:"12/01/2020",period_to:"12/01/2020",policy_set_number:"1",policy_set_description:"POLICY SET DESCRIPTION",department_code:"DEPARTMENT CODE",department_desc:"DEPARTMENT DESC"}],irp0001_table_line:[{line_number:"1",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"INTERFACE",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"3",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"CONFIRMED",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"}],irp0010_table_header:[{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},{claim_header_id:"2",status:"INTERFACE",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"}],irp0010_form:{headers:{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},apply:{apply_company:[{company_id:55,company_name:"บริษัท เทเวศประกันภัย จำกัด (มหาชน)",claim_percent:"40",claim_amount:"140000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""},{company_id:54,company_name:"บริษัท ทิพยประกันภัย จำกัด (มหาชน)",claim_percent:"60",claim_amount:"160000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""}]}},irp0002_table_line:[{status:"NEW",line_number:"",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"111",unit_price:"2",line_amount:"222",coverage_amount:"230",calculate_days:"2",calculate_start_date:"12/01/2020",calculate_end_date:"15/01/2020"}]},s={setFirstLetterUpperCase:function(e){if(e&&null!=e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}return e},setYearCE:function(e,t){var a="",o="month"===e?i.formatMonth:"date"===e?i.formatDate:"year"===e?i.formatYear:"";return t&&o?a=n()(n()(t,o).subtract(543,"years").toDate()).format(o):a},setYearBE:function(e,t){var a="",o="month"===e?i.formatMonth:"date"===e?i.formatDate:"year"===e?i.formatYear:"";return t&&o?a=n()(n()(t,o).add(543,"years").toDate()).format(o):a},showYearBE:function(e,t){var a="";if("month"===e&&t&&null!=t){var o=t.split("/"),n=+o[1]+543;return a="".concat(o[0],"/").concat(n)}if("date"===e&&t&&null!=t){var i=t.split("/"),c=+i[2]+543;return a="".concat(i[0],"/").concat(i[1],"/").concat(c)}return"year"===e&&t&&null!=t?+t+543:a},getTime:function(e){var t="";if(e&&null!=e){var a=e.split("/");return t=new Date("".concat(a[1],"/").concat(a[0],"/").concat(a[2])).getTime()}return t},calculateDate:function(e,t){var a="",o="";if(e&&t){var n=s.getTime(e),i=s.getTime(t);a=(o=Math.round(Math.abs((i-n)/864e5)))?o+1:o}return a},checkStatusInterface:function(e){return!(!e||"INTERFACE"!==e.toUpperCase())},checkStatusCancelled:function(e){return!(!e||"CANCELLED"!==e.toUpperCase())},isNullOrUndefined:function(e){return null==e?"":e},formatCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="";if(e||0===e){a=parseFloat(e);var o=e.toString().split(".");if(void 0===o[1]){var n=parseInt(o[0]).toFixed(t).split(".")[1];return"".concat(parseInt(o[0]).toLocaleString(),".").concat(n)}if(0==a.toString().split(".")[0]){var i=a.toFixed(t).split(".")[1];return"".concat(a.toString().split(".")[0],".").concat(i)}var c=a.toFixed(t).split(".")[1],s="".concat(parseInt(o[0]).toLocaleString(),".").concat(c);return s}return a},formatfloat:function(e){return e.slice(0,e.indexOf(".")+1+2)},checkStatusConfirmed:function(e){if(e)return"CONFIRMED"===e.toUpperCase()},showPeriodNameFormat:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1])),o=a.getFullYear(),n=1===(a.getMonth()+1).toString().length?"0".concat(a.getMonth()+1):a.getMonth()+1;return"".concat(n,"/").concat(o+543)}return e},setValuePeriodNameFormat:function(e){var t="";if(e&&null!=e){var a=i.monthNameShort[e.getMonth()],o=(+e.getFullYear()-543).toString(),n=o.substr(o.length-2);t="".concat(a,"-").concat(n)}return t},checkStatusNew:function(e){if(e&&"NEW"===e.toUpperCase())return!0},calculateDateMomentTable:function(e){var t=i.formatDate,a="",o="",c="",s=e.start_calculate_date,l=e.end_calculate_date;if(s&&l){var r=helperDate.convertDate(s,t),d=helperDate.convertDate(l,t);r.then((function(i){a=n()(i,t),d.then((function(i){o=n()(i,t),c=o.diff(a,"days"),e.days=-1===Math.sign(c)?"":c+1}))}))}else e.days=""},covertFomatDateMoment:function(e,t){var a="date"===t?i.formatDate:"month"===t?i.formatMonth:"year"===t?i.formatYear:"";return e&&t?n()(e).format(a):""},setBudgetYearFromFieldStCalendar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",a=("date"===t?i.formatDate:"month"===t?i.formatMonth:"year"===t&&i.formatYear,"");if(e){var o=e.getFullYear(),c=n()({year:o,month:8,date:30}),s=n()({year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),l=s.isAfter(c)?1:0;return n()(n()({year:o+l,month:8,date:30}),i.formatDate).toDate()}return a},setLabelStatusAsset:function(e){return"Y"===e?"Active":"N"===e?"Inactive":""},setFotmatPeriodNameIsFullDate:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1]));return n()(a).format(i.formatDate)}return""},setFullDateIsDateCE:function(e){var t="";if(e){var a=n()(e).format(i.formatDate);return t=s.setYearCE("date",a)}return t},setLabelExpenseFlag:function(e){return"Y"==e?"Yes":"No"},setLabelVatRefund:function(e){return"Y"==e?"Yes":"No"},setDefaultActive:function(e){var t=$(".".concat(e)).is(":checked");$(".".concat(e)).prop("checked",!t)},setDefaultEndDateIsLastDateOfMonth:function(e){var t=i.formatDate;if(e){var a=n()(e).endOf("month");return n()(a).format(t)}return""}}},19258:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var o=a(23645),n=a.n(o)()((function(e){return e[1]}));n.push([e.id,".text-right[data-v-dee02e12]{text-align:right}",""]);const i=n},62783:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const o={name:"ir-components-currency-input",data:function(){return{isInputActive:!1,decimalValue:void 0===this.decimal?2:this.decimal}},props:["value","name","sizeSmall","placeholder","disabled","decimal"],computed:{displayValue:{get:function(){if(this.isInputActive)return(void 0===this.value||null===this.value?"":this.value).toString();if(this.value||0===this.value&&void 0!==this.value&&null!==this.value){var e=parseFloat(this.value),t=this.value.toString().split(".");if(void 0===t[1]){var a=parseInt(t[0]).toFixed(this.decimalValue).split(".")[1];return"".concat(parseInt(t[0]).toLocaleString(),".").concat(a)}if(0==e.toString().split(".")[0]){var o=e.toFixed(this.decimalValue).split(".")[1];return"".concat(e.toString().split(".")[0],".").concat(o)}var n=e.toFixed(this.decimalValue).split(".")[1];return"".concat(parseInt(t[0]).toLocaleString(),".").concat(n)}},set:function(e){console.log("modifiedValue --\x3e",e);var t=+e;isNaN(t)&&(t=""),this.$emit("input",t)}}},methods:{blur:function(e){this.isInputActive=!1,this.$emit("blur-currency",e.target.value)}},watch:{value:function(e,t){this.$emit("watch-value",e)}}};var n=a(93379),i=a.n(n),c=a(19258),s={insert:"head",singleton:!1};i()(c.Z,s);c.Z.locals;const l=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"el-input "+(e.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayValue,expression:"displayValue"}],staticClass:"form-control el-input__inner input-currency  text-right",attrs:{type:"text",name:e.name,placeholder:e.placeholder,autocomplete:"off",disabled:e.disabled,maxlength:"15"},domProps:{value:e.displayValue},on:{blur:e.blur,focus:function(t){e.isInputActive=!0},input:function(t){t.target.composing||(e.displayValue=t.target.value)}}})])}),[],!1,null,"dee02e12",null).exports},29828:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-account",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_type:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-type",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({budget_type:"",keyword:""})},change:function(e){if(console.log("change ",e),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.budget_type===e){var o={value:e,desc:a.description};return console.log("xxx ",o),void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};console.log("xxx ",n),this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({budget_type:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_type:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Type",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_type}})})),1)],1)}),[],!1,null,null,null).exports},75721:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-allocation",data:function(){return{dataRows:[],loading:!1,result:this.value,main_account:""}},props:["attrName","value","mainAccount","disabled"],methods:{remoteMethod:function(e){this.getDataRows({sub_account:"",keyword:e,main_account:this.main_account})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/sub-account",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.sub_account===e){var o={value:e,desc:a.description};return void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};this.$emit("change-lov-segment",n)}},mounted:function(){this.main_account=this.mainAccount,this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},watch:{value:function(e,t){this.result=e},mainAccount:function(e,t){this.main_account=e,this.getDataRows({sub_account:this.result,keyword:"",main_account:e})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Sub Account",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.sub_account}})})),1)],1)}),[],!1,null,null,null).exports},84371:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-branch",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","vendorId","disabled"],methods:{remoteMethod:function(e){this.getDataRows({evm_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/evm-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({vendor_id:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.evm_code===e){var o={value:e,desc:a.description};return void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({vendor_id:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({vendor_id:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"EVM",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.evm_code}})})),1)],1)}),[],!1,null,null,null).exports},86066:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({compnany_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/company-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({compnany_code:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.company_code===e){var o={value:e,desc:a.description};return void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({compnany_code:"",keyword:""})},watch:{value:function(e,t){this.result=e,console.log("newval",e),this.getDataRows({compnany_code:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Company Code",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.company_code+": "+e.description,value:e.company_code}})})),1)],1)}),[],!1,null,null,null).exports},85891:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-department",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({department_code:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({department_code:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.department_code===e){var o={value:e,desc:a.description};return console.log("xxx ",o),void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};console.log("xxx ",n),this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({department_code:e,keyword:e})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Department",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.department_code}})})),1)],1)}),[],!1,null,null,null).exports},89645:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-future-used1",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({reserved1:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved1",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({reserved1:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.reserved1===e){var o={value:e,desc:a.description};return console.log("xxx ",o),void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};console.log("xxx ",n),this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({reserved1:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({reserved1:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.reserved1}})})),1)],1)}),[],!1,null,null,null).exports},59129:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-future-used2",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({reserved2:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved2",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({reserved2:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.reserved2===e){var o={value:e,desc:a.description};return console.log("xxx ",o),void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};console.log("xxx ",n),this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({reserved2:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({reserved2:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.reserved2}})})),1)],1)}),[],!1,null,null,null).exports},74934:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-inter-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({main_account:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/main-account",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({main_account:"",keyword:""})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.main_account===e){var o={value:e,desc:a.description};return void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({main_account:this.value,keyword:this.value})},watch:{value:function(e,t){this.result=e,this.getDataRows({main_account:e,keyword:e})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Main Account",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.main_account}})})),1)],1)}),[],!1,null,null,null).exports},30077:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-product",data:function(){return{dataRows:[],loading:!1,result:this.value,department_code:""}},props:["attrName","value","departmentCode","disabled"],methods:{remoteMethod:function(e){this.getDataRows({cost_center_code:"",keyword:e,department_code:this.department_code})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/cost-center-code",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.cost_center_code===e){var o={value:e,desc:a.description};return void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};this.$emit("change-lov-segment",n)}},mounted:function(){this.department_code=this.departmentCode,this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},watch:{value:function(e,t){this.result=e},departmentCode:function(e,t){this.department_code=e,this.getDataRows({cost_center_code:"",keyword:"",department_code:e})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Cost Center",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.cost_center_code}})})),1)],1)}),[],!1,null,null,null).exports},3880:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-project-activity",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_reason:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-reason",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({budget_reason:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.budget_reason===e){var o={value:e,desc:a.description};return console.log("xxx ",o),void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};console.log("xxx ",n),this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({budget_reason:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_reason:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Reason",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_reason}})})),1)],1)}),[],!1,null,null,null).exports},48890:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-source",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_year:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-year",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){console.log("event ",e),this.getDataRows({budget_year:"",keyword:""})},change:function(e){if(console.log("change ",e,this.rows,this.index),e)for(var t in this.dataRows){var a=this.dataRows[t];if(console.log("row ",a),a.budget_year===e){var o={value:e,desc:a.description};return console.log("xxx ",o),void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};console.log("xxx ",n),this.$emit("change-lov-segment",n)}},mounted:function(){this.getDataRows({budget_year:"",keyword:""})},watch:{value:function(e,t){this.result=e,this.getDataRows({budget_year:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Year",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,remote:"",disabled:e.disabled,filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.budget_year}})})),1)],1)}),[],!1,null,null,null).exports},35938:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-segments-lov-sub-account",data:function(){return{dataRows:[],loading:!1,result:this.value,budget_type:""}},props:["attrName","value","budgetType","disabled"],methods:{remoteMethod:function(e){this.getDataRows({budget_detail:"",keyword:e,budget_type:this.budget_type})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-detail",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.dataRows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},change:function(e){if(e)for(var t in this.dataRows){var a=this.dataRows[t];if(a.budget_detail===e){var o={value:e,desc:a.meaning};return void this.$emit("change-lov-segment",o)}}var n={value:e,desc:""};this.$emit("change-lov-segment",n)}},mounted:function(){this.budget_type=this.budgetType,this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},watch:{value:function(e,t){this.result=e},budgetType:function(e,t){this.budget_type=e,this.getDataRows({budget_detail:"",keyword:"",budget_type:e})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Detail",name:e.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":e.remoteMethod,loading:e.loading,disabled:e.disabled,remote:"",filterable:""},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataRows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.budget_detail+": "+e.meaning,value:e.budget_detail}})})),1)],1)}),[],!1,null,null,null).exports},48201:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-components-lov-type-cost",data:function(){return{rows:[],loading:!1,code:"",desc:"",result:this.value,account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},accountId:""}},props:["value","account_id","placeholder","popperBody","name","disabled"],methods:{remoteMethod:function(e){this.getDataRows({account_id:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},focus:function(){this.getDataRows({account_id:this.account_id,keyword:""})},onchange:function(e){console.log("change ",e);var t={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};if(e)for(var a in this.rows){var o=this.rows[a];console.log("row ",o,o.account_id==e),o.account_id==e&&(t.code=o.account_code,t.id=e,t.desc=o.description,t.account_combine=o.account_combine,t.account_combine_desc=o.account_combine_desc)}else t.code="",t.id="",t.desc="",t.account_combine="",t.account_combine_desc="";this.result=e,this.setPropAccountSplitCombine(t),this.$emit("change-lov",t)},onclick:function(){console.log("onclick ",this.rows,this.result),this.getDataRows({account_id:this.result,keyword:""})},setPropAccountSplitCombine:function(e){console.log("setPropAccountSplitCombine ",e);if(e.account_combine){var t=e.account_combine.split("."),a=e.account_combine_desc.split(".");console.log("accountSplit ",t),console.log("descSplit ",a);var o=0,n=0;for(var i in this.account)this.account[i]=t[o],o++;for(var c in this.description)this.description[c]=a[n],n++;console.log("this.account if ",this.account),console.log("this.description if ",this.description),this.$emit("split-account",{account:this.account,description:this.description})}else this.$emit("split-account",{account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""}})},receivedDataRows:function(e){var t=this;console.log("receivedDataRows ",e,this.account_id);var a={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:e}).then((function(e){var o=e.data;if(t.loading=!1,t.rows=o.data,t.accountId&&null!==t.accountId&&void 0!==t.accountId)if(t.rows.length>0)for(var n in t.rows){var i=t.rows[n];i.account_id==t.accountId&&(t.result=i.account_id,a.code=i.account_code,a.id=i.account_id,a.desc=i.description,a.account_combine=i.account_combine,a.account_combine_desc=i.account_combine_desc)}else t.result="",a.code="",a.id=t.accountId,a.desc="",a.account_combine="",a.account_combine_desc="";else a.code="",a.id="",a.desc="",a.account_combine="",a.account_combine_desc="";t.$emit("change-lov",a)})).catch((function(e){swal("Error",e,"error")}))}},mounted:function(){},watch:{value:function(e,t){this.result=e},account_id:function(e,t){console.log("account_id typeCost ",e),this.accountId=e,this.receivedDataRows({account_id:e,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange},nativeOn:{click:function(t){return e.onclick(t)}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.account_code+": "+e.description,value:e.account_id}})})),1)],1)}),[],!1,null,null,null).exports},58934:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var o=a(6829),n=a(67791),i=a(54063),c=a(27071),s=a(41446);const l={name:"ir-settings-vehicle-edit",data:function(){return{vehicle:{license_plate:"",group_code:"",category_segment4:"",vehicle_type_code:"",vehicle_type_name:"",vehicle_brand_code:"",vehicle_brand_name:"",vehicle_cc:"",engine_number:"",tank_number:"",return_vat_flag:!1,vat_percent:"",revenue_stamp_percent:"",insurance_type_code:"",asset_number:"",account_number:"",account_description:"",active_flag:!1,policy_set_header_id:"",flag:"edit",sold_flag:!1},flag:"edit",funcs:n.sD,tableVehicle:[],tax:"",revenue_stamp:"",expireDate:{insurance_expire_date:"",license_plate_expire_date:"",acts_expire_date:"",car_inspection_expire_date:""},sold:{sold_date:"",reason:""},accountId:"",account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},type_cost:"",vars:n.gR}},props:["assetId","vehicleId","btnTrans"],methods:{getDataEdit:function(e,t){var a=this;axios.get("/ir/ajax/vehicles/edit?asset_id=".concat(e,"&vehicle_id=").concat(t)).then((function(t){var o=t.data.data;a.vehicle=a.setPropertyForm(o,e)})).catch((function(e){swal("Error",e,"error")}))},getValueSoldCar:function(e){this.sold=e},getTableVehicle:function(){this.getDataEdit(this.assetId,this.vehicleId)},setPropertyForm:function(e,t){return e.return_vat_flag="Y"===e.return_vat_flag,e.active_flag="Y"===e.active_flag,e.sold_flag="Y"===e.sold_flag,e.vehicle_id=e.vehicle_id,t?(this.tableVehicle.filter((function(a){a.asset_id==t&&(e.vehicle_brand_name=a.vehicle_brand_name,e.vehicle_type_name=a.vehicle_type_name)})),this.expireDate=this.setValueExpireDate(e),e):(this.expireDate=this.setValueExpireDate(e),e)},getValueExpireDate:function(e){this.expireDate=e},getValueAccount:function(e){this.account=e},getValueAccountDesc:function(e){this.description=e},setValueExpireDate:function(e){return{insurance_expire_date:e.insurance_expire_date,license_plate_expire_date:e.license_plate_expire_date,acts_expire_date:e.acts_expire_date,car_inspection_expire_date:e.car_inspection_expire_date}},clearReqAccountCode:function(e){e?this.$refs.save_vehicle_edit.$refs.save_vehicle.fields.find((function(e){return"account_number"==e.prop})).clearValidate():this.$refs.save_vehicle_edit.$refs.save_vehicle.validateField("account_number"),this.vehicle.account_number=e},clearReqAccountName:function(e){e?this.$refs.save_vehicle_edit.$refs.save_vehicle.fields.find((function(e){return"account_description"==e.prop})).clearValidate():this.$refs.save_vehicle_edit.$refs.save_vehicle.validateField("account_description"),this.vehicle.account_description=e},getAccount:function(e){this.vehicle.account_id=e?+e:e},clickModalAccount:function(e){this.indexTable=index,this.account=e.account,this.$refs.editTableLineModalAccountCode.$refs.modal_account_mapping.clearValidate(),this.accountId=e.account_id,this.type_cost=e.type_cost}},mounted:function(){},components:{formVehicle:o.Z,modalExpireDate:i.Z,modalAccountCode:c.Z,modalSold:s.Z},created:function(){this.getTableVehicle()}};const r=(0,a(51900).Z)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ibox"},[a("div",{staticClass:"ibox-title",staticStyle:{"padding-bottom":"20px"}},[a("h5",[e._v("ข้อมูลยานพาหนะ (Vehicles)")]),e._v(" "),a("div",{staticClass:"ibox-tools"},[a("button",{staticClass:"btn btn-warning",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_expire_date"}},[a("i",{staticClass:"fa fa-calendar"}),e._v(" วันสิ้นอายุประกัน\n      ")])])]),e._v(" "),a("div",{staticClass:"ibox-content"},[a("form-vehicle",{attrs:{vehicle:e.vehicle,flag:e.flag,isNullOrUndefined:e.funcs.isNullOrUndefined,expireDate:e.expireDate,sold:e.sold,"btn-trans":e.btnTrans},on:{accountSplit:e.getValueAccount,descSplit:e.getValueAccountDesc}}),e._v(" "),a("modal-expire-date",{attrs:{vars:e.vars,expireDate:e.expireDate},on:{"expire-date":e.getValueExpireDate}}),e._v(" "),a("modal-account-code",{ref:"editTableLineModalAccountCode",attrs:{accounts:e.account,accountId:e.accountId,type_cost:e.type_cost},on:{"account-code":e.clearReqAccountCode,"account-name":e.clearReqAccountName,accountid:e.getAccount}}),e._v(" "),a("modal-sold",{attrs:{vehicle:e.vehicle,vars:e.vars,sold:e.sold},on:{sold:e.getValueSoldCar}})],1)])}),[],!1,null,null,null).exports},6829:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var o=a(60035),n=a(62783),i=a(19);const c={name:"ir-settings-vehicle-lov-vehicle-type",data:function(){return{rows:[],loading:!1,result:this.value,parent_flex:this.cat_seg4,first:!0}},props:["value","name","placeholder","size","popperBody","disabled","cat_seg4"],methods:{remoteMethod:function(e){this.getDataRows({parent_flex:this.cat_seg4,keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/category-seg5",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.result||this.getDataRows({parent_flex:this.cat_seg4,keyword:""})},onchange:function(e){var t={code:"",desc:"",id:""};if(e)for(var a in this.rows){var o=this.rows[a];o.meaning==e&&(t.code=e,t.desc=o.description,t.id=o.value)}else t.code="",t.desc="",t.id="";this.$emit("change-lov",t)},onclick:function(){0===this.rows.length&&this.getDataRows({parent_flex:this.cat_seg4,keyword:""})},onblur:function(){var e=this;this.rows.filter((function(t){t.meaning!=e.result&&(e.result="")}))}},mounted:function(){this.getDataRows({parent_flex:this.cat_seg4,keyword:""})},watch:{value:function(e,t){this.result=e,this.first&&(this.getDataRows({parent_flex:this.cat_seg4,keyword:""}),this.first=!1)},result:function(e,t){if(!e){var a={code:e,desc:"",id:""};this.$emit("change-lov",a)}}}};var s=a(51900);const l=(0,s.Z)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange,focus:e.onfocus,blur:e.onblur},nativeOn:{click:function(t){return e.onclick()}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const r={name:"ir-settings-vehicle-lov-vehicle-brand",data:function(){return{rows:[],loading:!1,result:this.value,first:!0}},props:["value","name","placeholder","size","popperBody","disabled"],methods:{remoteMethod:function(e){this.getDataRows({keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/vehicle-brand?value&keyword",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.result||this.getDataRows({keyword:""})},onchange:function(e){var t={code:"",desc:"",id:""};if(e){for(var a in this.rows){var o=this.rows[a];o.meaning==e&&(t.code=o.meaning,t.desc=o.description,t.id="")}this.result=e,this.getDataRows({keyword:""})}else t.code="",t.desc="",t.id="",this.result=e;this.$emit("change-lov",t)},onclick:function(){0===this.rows.length&&this.getDataRows({keyword:""})},onblur:function(){var e=this;this.rows.filter((function(t){t.meaning!=e.result&&(e.result="")}))}},mounted:function(){this.getDataRows({keyword:""})},watch:{value:function(e,t){this.result=e,this.first&&(this.getDataRows({keyword:""}),this.first=!1)}}};const d=(0,s.Z)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange,focus:e.onfocus,blur:e.onblur},nativeOn:{click:function(t){return e.onclick()}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const u={name:"ir-settings-vehicle-lov-parent-flex",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","placeholder","size","popperBody","disabled"],methods:{remoteMethod:function(e){this.getDataRows({keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/category-seg4?value&keyword",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.getDataRows({keyword:""})},onchange:function(e){var t={code:"",desc:"",id:""};if(e)for(var a in this.rows){var o=this.rows[a];o.meaning==e&&(t.code=e,t.desc=o.description,t.id=o.value)}else t.code="",t.desc="",t.id="";this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({keyword:""})},watch:{value:function(e,t){this.result=e,this.first&&(this.getDataRows({keyword:""}),this.first=!1)},result:function(e,t){if(!e){var a={code:e,desc:"",id:""};this.$emit("change-lov",a)}}}};const p=(0,s.Z)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange,focus:e.onfocus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports;var m=a(99075),h=a(27071),v=a(41446),_=a(67791),g=a(87757),f=a.n(g);function b(e,t,a,o,n,i,c){try{var s=e[i](c),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(o,n)}const y={props:["setName","setData","placeholder"],data:function(){return{options:[],value:"",loading:!1}},mounted:function(){this.value=this.setData,this.getValueSetList(this.value),this.changeLookup()},watch:{setData:function(){this.value=this.setData,this.getValueSetList(this.value),this.options=this.setOptions}},methods:{getValueSetList:function(e){var t,a=this;return(t=f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.loading=!0,t.next=3,axios.get("/ir/ajax/vehicles/getlookupData",{params:{flex_value_set_name:a.setName,flex_value_set_data:a.value,query:e}}).then((function(e){a.options=e.data})).catch((function(e){console.log(e)})).then((function(){a.loading=!1}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(o,n){var i=t.apply(e,a);function c(e){b(i,o,n,c,s,"next",e)}function s(e){b(i,o,n,c,s,"throw",e)}c(void 0)}))})()},changeLookup:function(){"PTIR_RENEW_CAR_ACT"==this.setName&&this.$emit("selLookup",{name:this.setName,value:this.value}),"PTIR_RENEW_CAR_LICENSE_PLATE"==this.setName&&this.$emit("selLookup",{name:this.setName,value:this.value}),"PTIR_RENEW_CAR_INSPECTION"==this.setName&&this.$emit("selLookup",{name:this.setName,value:this.value})}}};const w=(0,s.Z)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:e.placeholder,"remote-method":e.getValueSetList,loading:e.loading,size:"large"},on:{change:e.changeLookup},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports;function x(e,t,a,o,n,i,c){try{var s=e[i](c),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(o,n)}function C(e){return function(){var t=this,a=arguments;return new Promise((function(o,n){var i=e.apply(t,a);function c(e){x(i,o,n,c,s,"next",e)}function s(e){x(i,o,n,c,s,"throw",e)}c(void 0)}))}}var D;const k={props:["setName","setData","placeholder"],data:function(){return{options:[],value:"",loading:!1}},mounted:function(){this.value=this.setData,this.getValueSetList(this.value),this.changeInput()},watch:{setData:function(){this.value=this.setData,this.getValueSetList(this.value),this.options=this.setOptions},setOptions:(D=C(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.options=t;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},methods:{getValueSetList:function(e){var t=this;return C(f().mark((function a(){return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,axios.get("/ir/ajax/vehicles/getlookupData",{params:{flex_value_set_name:t.setName,flex_value_set_data:t.value,query:e}}).then((function(e){t.options=e.data,t.changeInput()})).catch((function(e){console.log(e)})).then((function(){t.loading=!1}));case 3:case"end":return a.stop()}}),a)})))()},changeInput:function(){var e=this,t=this.value,a="";this.value?(t=this.value,a="",this.options.find((function(o){o.meaning==e.value&&(t=o.meaning,a=o.description)}))):(t="",a="",this.options.find((function(o){o.meaning==e.value&&(t=o.meaning,a=o.description)}))),this.$emit("getLocation",{name:this.setName,value:this.value,value_code:t,value_name:a})}}};const R=(0,s.Z)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:e.placeholder,"remote-method":e.getValueSetList,loading:e.loading,size:"large"},on:{change:e.changeInput},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t,o){return a("el-option",{key:o,attrs:{label:t.meaning,value:t.meaning}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.meaning))]),e._v(" "),a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(" : "+e._s(t.description))])])})),1)],1)}),[],!1,null,null,null).exports;function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const I={name:"ir-settings-vehicle-form",data:function(){return{rules:{license_plate:[{required:"edit"!=this.flag,message:"กรุณาระบุทะเบียนรถ",trigger:"change"}],policy_set_header_id:[{required:!0,message:"กรุณาระบุกรมธรรม์ชุดที่",trigger:"blur"}],vehicle_type_code:[{required:!0,message:"กรุณาระบุประเภทรถ",trigger:"blur"}],vehicle_brand_code:[{required:!0,message:"กรุณาระบุยี่ห้อรถ",trigger:"change"}],vat_percent:[{required:!0,message:"กรุณาระบุภาษี",trigger:"change"}],revenue_stamp_percent:[{required:!0,message:"กรุณาระบุอากร",trigger:"change"}],account_number:[{required:!0,message:"กรุณาระบุรหัสบัญชี",trigger:"change"}],category_segment4:[{required:!0,message:"กรุณาระบุหมวด",trigger:"blur"}],location_code:[{required:!0,message:"กรุณารหัสสถานที่",trigger:"blur"}]},group:[],insuranceType:[],group_desc:"",tax:"",revenue_stamp:"",account_name:"",accountId:"",account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},type_cost:"",vars:_.gR}},props:["vehicle","action","expireDate","isNullOrUndefined","flag","sold","btnTrans"],computed:{vehicleType:function(){return this.isNullOrUndefined(this.vehicle.vehicle_type_name)?this.vehicle.vehicle_type_code+": "+this.vehicle.vehicle_type_name:""},vehicleBrand:function(){return this.isNullOrUndefined(this.vehicle.vehicle_brand_name)?this.vehicle.vehicle_brand_name:this.vehicle.vehicle_brand_code}},methods:{getDataGroup:function(e){var t=this;axios.get("/ir/ajax/lov/group-code-policy",{params:e}).then((function(e){var a=e.data;null===a.data?(t.vehicle.group_code="",t.group_desc=""):(t.vehicle.group_code=a.data.group_code,t.group_desc=a.data.group_desc)})).catch((function(e){swal("Error",e,"error")}))},focusNotKey:function(){$(".readonly").on("keydown paste focus mousedown",(function(e){9!=e.keyCode&&e.preventDefault()}))},clickModalAccount:function(){var e=this.vehicle.account_number.split("."),t=this.vehicle.account_description.split("."),a=0,o=0;if(this.vehicle.account_number)for(var n in this.account)this.account[n]=e[a],a++;if(this.vehicle.account_description)for(var i in this.description)this.description[i]=t[o],o++;this.type_cost=this.type_cost,this.$emit("accountSplit",this.account),this.$emit("descSplit",this.description),this.$emit("type_cost",this.type_cost)},clickModalSold:function(){this.$refs.soldd.click()},getDataInsuranceType:function(e){this.vehicle.insurance_type_code=e},getDataCustomer:function(e){this.company.customer_id=e},clickSave:function(){var e=this;this.$refs.save_vehicle.validate((function(t){if(t){var a={license_plate:e.vehicle.license_plate};if(!e.vehicle.license_plate)return!1;if("edit"!=e.flag)axios.get("/ir/ajax/vehicles/duplicate-check?license_plate=",{params:a}).then((function(t){var a=N(N(N({},e.vehicle),{},{return_vat_flag:e.vehicle.return_vat_flag?"Y":"N",active_flag:e.vehicle.active_flag?"Y":"N",sold_flag:e.vehicle.sold_flag?"Y":"N",program_code:"IRM0007"},e.expireDate),e.sold);axios.post("/ir/ajax/vehicles",{data:a}).then((function(e){"S"==e.data.status?(swal({title:"สร้างข้อมูลยานพาหนะ",text:'<span style="font-size: 16px; text-align: left;"> ทำการสร้างข้อมูลยานพาหนะเรียบร้อย </span>',type:"success",html:!0}),setTimeout((function(){window.location.href="/ir/settings/vehicle"}),5e3)):swal({title:"สร้างข้อมูลยานพาหนะ",text:'<span style="font-size: 16px; text-align: left;">'+e.data.msg+"</span>",type:"warning",html:!0})})).catch((function(e){swal("Error",e,"error")}))})).catch((function(e){400===e.response.data.status?swal({title:"Warning",text:"ไม่สามารถบันทึกได้ เนื่องจากทะเบียนรถซ้ำกัน",type:"warning"}):swal({title:"Error",text:e.response.data.message,type:"error"})}));else{var o=N(N(N({},e.vehicle),{},{return_vat_flag:e.vehicle.return_vat_flag?"Y":"N",active_flag:e.vehicle.active_flag?"Y":"N",sold_flag:e.vehicle.sold_flag?"Y":"N",program_code:"IRM0007"},e.expireDate),e.sold);axios.post("/ir/ajax/vehicles",{data:o}).then((function(e){"S"==e.data.status?(swal({title:"อัพเดตข้อมูลยานพาหนะ",text:'<span style="font-size: 16px; text-align: left;"> ทำการอัพเดตข้อมูลยานพาหนะเรียบร้อย </span>',type:"success",html:!0}),setTimeout((function(){window.location.href="/ir/settings/vehicle"}),5e3)):swal({title:"อัพเดตข้อมูลยานพาหนะ",text:'<span style="font-size: 16px; text-align: left;">'+e.data.msg+"</span>",type:"warning",html:!0})})).catch((function(e){swal("Error",e,"error")}))}}}))},clickCancel:function(){window.location.href="/ir/settings/vehicle"},changeGroup:function(e){this.vehicle.group_code=e},getValueRevenueStampPercent:function(e){this.vehicle.revenue_stamp_percent=e},getDataPocilySetHeader:function(e){this.vehicle.policy_set_header_id=e.id,this.getTaxStamp({policy_set_header_id:e.id})},getTaxStamp:function(e){var t=this;axios.get("/ir/ajax/lov/vehicle-rate",{params:e}).then((function(e){var a=e.data;t.vehicle.vat_percent=t.vehicle.vat_percent?t.vehicle.vat_percent:a.data.tax,t.vehicle.revenue_stamp_percent=t.vehicle.revenue_stamp_percent?t.vehicle.revenue_stamp_percent:a.data.revenue_stamp})).catch((function(e){swal("Error",e,"error")}))},getValueInsuranceType:function(e){this.vehicle.insurance_type_code=e.code,this.vehicle.insurance_type_desc=e.desc},getValueVehicleType:function(e){this.vehicle.vehicle_type_code=e.code,this.vehicle.vehicle_type_name=e.desc},getValueVehicleBrand:function(e){this.vehicle.vehicle_brand_code=e.code,this.vehicle.vehicle_brand_name=e.desc},getValueParentFlex:function(e){this.vehicle.category_segment4=e.code},getLocation:function(e){this.vehicle.location_code=e.value_code,this.vehicle.location_description=e.value_name},selLookup:function(e){"PTIR_RENEW_CAR_ACT"==e.name&&(this.vehicle.renew_car_act=e.value),"PTIR_RENEW_CAR_LICENSE_PLATE"==e.name&&(this.vehicle.renew_car_license_plate=e.value),"PTIR_RENEW_CAR_INSPECTION"==e.name&&(this.vehicle.renew_car_inspection=e.value)}},components:{lovSearch:o.Z,currencyInput:n.Z,lovPolicyGroup:i.Z,lovInsuranceType:m.Z,lovVehicleType:l,lovVehicleBrand:d,lovParentFlex:p,modalAccountCode:h.Z,modalSold:v.Z,InputLookupComponent:w,LocationInputValue:R},watch:{"vehicle.policy_set_header_id":function(e,t){this.getDataGroup({policy_set_header_id:e})}}};const S=(0,s.Z)(I,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"save_vehicle",staticClass:"demo-ruleForm",attrs:{model:e.vehicle,rules:e.rules}},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ทะเบียนรถ "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"license_plate"}},[a("el-input",{attrs:{placeholder:"ทะเบียนรถ",name:"license_plate",disabled:!1},model:{value:e.vehicle.license_plate,callback:function(t){e.$set(e.vehicle,"license_plate",t)},expression:"vehicle.license_plate"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" กรมธรรม์ชุดที่ "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"policy_set_header_id"}},[a("lov-policy-group",{attrs:{name:"policy_set_description",disabled:!1,placeholder:"กรมธรรม์ชุดที่"},on:{"change-lov-policy-group":e.getDataPocilySetHeader},model:{value:e.vehicle.policy_set_header_id,callback:function(t){e.$set(e.vehicle,"policy_set_header_id",t)},expression:"vehicle.policy_set_header_id"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" หมวด "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"category_segment4"}},[a("lov-parent-flex",{attrs:{name:"category_segment4",placeholder:"หมวด",size:"",popperBody:!0,disabled:!1,data:e.vehicle},on:{"change-lov":e.getValueParentFlex},model:{value:e.vehicle.category_segment4,callback:function(t){e.$set(e.vehicle,"category_segment4",t)},expression:"vehicle.category_segment4"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" กลุ่ม ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"กลุ่ม",disabled:""},model:{value:e.group_desc,callback:function(t){e.group_desc=t},expression:"group_desc"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ประเภทรถ "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"vehicle_type_code"}},[a("lov-vehicle-type",{attrs:{name:"vehicle_type_code",placeholder:"ประเภทยานพาหนะ",size:"",popperBody:!0,disabled:!1,data:e.vehicle,cat_seg4:e.vehicle.category_segment4},on:{"change-lov":e.getValueVehicleType},model:{value:e.vehicle.vehicle_type_code,callback:function(t){e.$set(e.vehicle,"vehicle_type_code",t)},expression:"vehicle.vehicle_type_code"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" รหัสทรัพย์สิน ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"รหัสทรัพย์สิน",disabled:""},model:{value:e.vehicle.asset_number,callback:function(t){e.$set(e.vehicle,"asset_number",t)},expression:"vehicle.asset_number"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ยี่ห้อรถ "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"vehicle_brand_code"}},[a("lov-vehicle-brand",{attrs:{name:"vehicle_brand_code",placeholder:"ยีห้อยานพาหนะ",size:"",popperBody:!0,disabled:!1,data:e.vehicle},on:{"change-lov":e.getValueVehicleBrand},model:{value:e.vehicle.vehicle_brand_code,callback:function(t){e.$set(e.vehicle,"vehicle_brand_code",t)},expression:"vehicle.vehicle_brand_code"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" รหัสบัญชี "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"account_number"}},[a("div",{staticStyle:{"padding-top":"3px"}},[a("el-input",{staticClass:"readonly",attrs:{placeholder:"รหัสบัญชี",size:"small",name:"account_number"},on:{focus:function(t){return e.focusNotKey()}},model:{value:e.vehicle.account_number,callback:function(t){e.$set(e.vehicle,"account_number",t)},expression:"vehicle.account_number"}},[a("el-button",{attrs:{slot:"append","data-toggle":"modal","data-target":"#modal_account"},on:{click:e.clickModalAccount},slot:"append"},[a("i",{staticClass:"fa fa-search"})])],1)],1)])],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ซีซี. รถยนต์ ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"ซีซี. รถยนต์",disabled:!1},model:{value:e.vehicle.vehicle_cc,callback:function(t){e.$set(e.vehicle,"vehicle_cc",t)},expression:"vehicle.vehicle_cc"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" คำอธิบาย ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"คำอธิบาย",disabled:!1},model:{value:e.vehicle.account_description,callback:function(t){e.$set(e.vehicle,"account_description",t)},expression:"vehicle.account_description"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" หมายเลขเครื่องยนต์ ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"หมายเลขเครื่องยนต์",disabled:!1},model:{value:e.vehicle.engine_number,callback:function(t){e.$set(e.vehicle,"engine_number",t)},expression:"vehicle.engine_number"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" รหัสสถานที่ "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"location_code"}},[a("location-input-value",{attrs:{"set-name":"FA_LOCATION","set-data":e.vehicle.location_code,placeholder:"รหัสสถานที่"},on:{getLocation:e.getLocation}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" หมายเลขตัวถัง ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"หมายเลขตัวถัง",disabled:!1},model:{value:e.vehicle.tank_number,callback:function(t){e.$set(e.vehicle,"tank_number",t)},expression:"vehicle.tank_number"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" คำอธิบายสถานที่ ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("el-input",{attrs:{placeholder:"คำอธิบายสถานที่",disabled:!0},model:{value:e.vehicle.location_description,callback:function(t){e.$set(e.vehicle,"location_description",t)},expression:"vehicle.location_description"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ขายรถ ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{staticStyle:{"margin-bottom":"15px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.vehicle.sold_flag,expression:"vehicle.sold_flag"},{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{type:"checkbox",disabled:""!=e.sold.reason||""!=e.vehicle.sold_flag},domProps:{checked:Array.isArray(e.vehicle.sold_flag)?e._i(e.vehicle.sold_flag,null)>-1:e.vehicle.sold_flag},on:{change:[function(t){var a=e.vehicle.sold_flag,o=t.target,n=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(e.vehicle,"sold_flag",a.concat([null])):i>-1&&e.$set(e.vehicle,"sold_flag",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.vehicle,"sold_flag",n)},e.clickModalSold]}})])],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ประเภทประกันรถยนต์ ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"insurance_type_code"}},[a("lov-insurance-type",{attrs:{name:"insurance_type_code",placeholder:"ประเภทประกันรถยนต์",popperBody:!0,disabled:!1,data:e.vehicle},on:{"change-lov":e.getValueInsuranceType},model:{value:e.vehicle.insurance_type_code,callback:function(t){e.$set(e.vehicle,"insurance_type_code",t)},expression:"vehicle.insurance_type_code"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ขอคืนภาษี ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{staticStyle:{"margin-bottom":"15px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.vehicle.return_vat_flag,expression:"vehicle.return_vat_flag"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.vehicle.return_vat_flag)?e._i(e.vehicle.return_vat_flag,null)>-1:e.vehicle.return_vat_flag},on:{change:function(t){var a=e.vehicle.return_vat_flag,o=t.target,n=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(e.vehicle,"return_vat_flag",a.concat([null])):i>-1&&e.$set(e.vehicle,"return_vat_flag",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.vehicle,"return_vat_flag",n)}}})])],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ประเภทประกัน พ.ร.บ. ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("input-lookup-component",{attrs:{"set-name":"PTIR_RENEW_CAR_ACT","set-data":e.vehicle.renew_car_act,placeholder:"ประเภทประกัน พ.ร.บ."},on:{selLookup:e.selLookup}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ภาษี (%) "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"vat_percent"}},[a("currency-input",{attrs:{name:"vat_percent",sizeSmall:!1,placeholder:"ภาษี (%)",disabled:!1},model:{value:e.vehicle.vat_percent,callback:function(t){e.$set(e.vehicle,"vat_percent",t)},expression:"vehicle.vat_percent"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ประเภทประกันป้ายทะเบียน ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("input-lookup-component",{attrs:{"set-name":"PTIR_RENEW_CAR_LICENSE_PLATE","set-data":e.vehicle.renew_car_license_plate,placeholder:"ประเภทประกันป้ายทะเบียน"},on:{selLookup:e.selLookup}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" อากร (%) "),a("span",{staticClass:"text-danger"},[e._v(" * ")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{attrs:{prop:"revenue_stamp_percent"}},[a("currency-input",{attrs:{name:"revenue_stamp_percent",sizeSmall:!1,placeholder:"อากร (%)",disabled:!1},model:{value:e.vehicle.revenue_stamp_percent,callback:function(t){e.$set(e.vehicle,"revenue_stamp_percent",t)},expression:"vehicle.revenue_stamp_percent"}})],1)],1),e._v(" "),a("label",{staticClass:"col-md-2 text-right pt-2"},[a("strong",[e._v(" ประเภทประกันตรวจสภาพ ")])]),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",[a("input-lookup-component",{attrs:{"set-name":"PTIR_RENEW_CAR_INSPECTION","set-data":e.vehicle.renew_car_inspection,placeholder:"ประเภทประกันตรวจสภาพ"},on:{selLookup:e.selLookup}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-2 text-right pt-2"}),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3"},[a("el-form-item",{staticStyle:{"margin-bottom":"0px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.vehicle.active_flag,expression:"vehicle.active_flag"}],attrs:{type:"checkbox",disabled:""!=e.sold.reason||""!=e.vehicle.sold_flag},domProps:{checked:Array.isArray(e.vehicle.active_flag)?e._i(e.vehicle.active_flag,null)>-1:e.vehicle.active_flag},on:{change:function(t){var a=e.vehicle.active_flag,o=t.target,n=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(e.vehicle,"active_flag",a.concat([null])):i>-1&&e.$set(e.vehicle,"active_flag",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.vehicle,"active_flag",n)}}}),e._v("   "),a("strong",{staticStyle:{"font-size":"12px"}},[e._v(" Active ")])])],1)]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"soldd",staticClass:"btn btn-warning",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_sold_car"}})]),e._v(" "),a("div",{staticClass:"text-right el_field"},[a("el-form-item",[a("button",{class:e.btnTrans.save.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickSave()}}},[a("i",{class:e.btnTrans.save.icon}),e._v("\n          "+e._s(e.btnTrans.save.text)+"\n        ")]),e._v(" "),a("button",{class:e.btnTrans.cancel.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickCancel()}}},[a("i",{class:e.btnTrans.cancel.icon}),e._v("\n          "+e._s(e.btnTrans.cancel.text)+"\n        ")])])],1)])],1)}),[],!1,null,null,null).exports},99075:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-settings-vehicle-lov-insurance-type",data:function(){return{rows:[],loading:!1,result:this.value,first:!0}},props:["value","name","placeholder","size","popperBody","disabled","data"],methods:{remoteMethod:function(e){this.getDataRows({keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/renew-type-irm0007",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.result||this.getDataRows({keyword:""})},onchange:function(e){var t={code:"",desc:"",id:""};if(e){for(var a in this.rows){var o=this.rows[a];o.lookup_code==e&&(t.code=o.lookup_code,t.desc=o.description,t.id=o.meaning)}this.result=e,this.getDataRows({keyword:t.desc})}else t.code="",t.desc="",t.id="",this.result=e;this.$emit("change-lov",t)},onclick:function(){0===this.rows.length&&this.getDataRows({keyword:this.data.insurance_type_desc})},onblur:function(){var e=this;this.rows.filter((function(t){t.lookup_code!=e.result&&(e.result="")}))}},mounted:function(){this.getDataRows({keyword:""})},watch:{value:function(e,t){this.result=e,this.first&&(this.getDataRows({keyword:this.data.insurance_type_desc}),this.first=!1)},result:function(e,t){if(!e){var a={code:e,desc:"",id:""};this.$emit("change-lov",a)}}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange,focus:e.onfocus,blur:e.onblur},nativeOn:{click:function(t){return e.onclick()}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.lookup_code+" : "+e.description,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports},19:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-settings-vehicle-lov-policy-group",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","disabled","placeholder","assetId"],methods:{remoteMethod:function(e){this.getDataRows({policy_set_header_id:"",asset_id:this.assetId,keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header?policy_set_header_id&type=30").then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},focus:function(){this.getDataRows({asset_id:this.assetId,policy_set_header_id:"",keyword:""})},change:function(e){var t={code:"",id:"",desc:""};if(e)for(var a in this.rows){var o=this.rows[a];o.policy_set_header_id===e&&(t.code=o.policy_set_number,t.id=e,t.desc=o.policy_set_description)}else t.code="",t.id="",t.desc="";this.$emit("change-lov-policy-group",t)}},mounted:function(){this.result=this.value?+this.value:this.value,this.getDataRows({asset_id:this.assetId,policy_set_header_id:this.value,keyword:""})},watch:{value:function(e,t){this.result=e?+e:e,this.getDataRows({asset_id:this.assetId,keyword:""})}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.name,clearable:!0,disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+" : "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},60035:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const o={name:"ir-settings-vehicle-lov-search",data:function(){return{rows:[],loading:!1,code:"",desc:"",result:this.value}},props:["url","value","placeholder","attrName","propCode","propDesc","propCodeDisp","propDescDisp","disabled"],computed:{setProperty:function(){var e={};return e[this.propDesc]=this.desc,e}},methods:{remoteMethod:function(e){this.code="",this.desc=e,this.getDataRows(this.setProperty)},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/".concat(this.url),{params:e}).then((function(e){var a=e.data;t.loading=!1,t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},focus:function(){this.code="",this.desc="",this.getDataRows(this.setProperty)},change:function(e){this.$emit("change-lov",e)}},mounted:function(){this.code="",this.desc="",this.getDataRows(this.setProperty)},watch:{value:function(e,t){e&&(this.result=e)}}};const n=(0,a(51900).Z)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:e.placeholder,"remote-method":e.remoteMethod,loading:e.loading,name:e.attrName,clearable:!0,disabled:e.disabled},on:{change:e.change,focus:e.focus},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(t,o){return a("el-option",{key:o,attrs:{label:t[e.propDescDisp],value:t[e.propCodeDisp]}})})),1)],1)}),[],!1,null,null,null).exports},27071:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var o=a(86066),n=a(84371),i=a(85891),c=a(30077),s=a(48890),l=a(29828),r=a(35938),d=a(3880),u=a(74934),p=a(75721),m=a(89645),h=a(59129),v=a(48201);const _={name:"ir-settings-vehicle-modal-account-code",data:function(){return{argSearchCompany:{compnany_code:"",description:""},account_code:"",account_name:"",description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},rules:{company:[{required:!0,message:"กรุณาระบุ Company Code",trigger:"change"}],branch:[{required:!0,message:"กรุณาระบุ EVM",trigger:"change"}],department:[{required:!0,message:"กรุณาระบุ Department",trigger:"change"}],product:[{required:!0,message:"กรุณาระบุ Cost Center",trigger:"change"}],source:[{required:!0,message:"กรุณาระบุ Budget Year",trigger:"change"}],account:[{required:!0,message:"กรุณาระบุ Budget Type",trigger:"change"}],subAccount:[{required:!0,message:"กรุณาระบุ Budget Detail",trigger:"change"}],projectActivity:[{required:!0,message:"กรุณาระบุ Budget Reason",trigger:"change"}],interCompany:[{required:!0,message:"กรุณาระบุ Main Account",trigger:"change"}],allocation:[{required:!0,message:"กรุณาระบุ Sub Account",trigger:"change"}],futureUsed1:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}],futureUsed2:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}]},account:this.accounts,account_id:this.accountId,typeCost:this.type_cost,disabled:!1}},props:["index","rows","accounts","accountId","type_cost","descriptions"],computed:{propProduct:function(){return{prop3:"department_code",value:this.account.department}},propSubAccount:function(){return{prop3:"budget_type",value:this.account.account}},propAllocation:function(){return{prop3:"main_account",value:this.account.interCompany}},checkAccountCode:function(){for(var e in this.account){return!!this.account[e]}return!1},checkAccountDesc:function(){for(var e in this.description){return!!this.description[e]}return!1}},methods:{clickAgree:function(){var e=this;this.$refs.modal_account_mapping.validate((function(t){t&&(e.account_code=e.account.company+"."+e.account.branch+"."+e.account.department+"."+e.account.product+"."+e.account.source+"."+e.account.account+"."+e.account.subAccount+"."+e.account.projectActivity+"."+e.account.interCompany+"."+e.account.allocation+"."+e.account.futureUsed1+"."+e.account.futureUsed2,e.account_name=e.description.department+"."+e.description.interCompany+"."+e.description.allocation,e.$emit("account-code",e.account_code),e.$emit("account-name",e.account_name),$("#modal_account").modal("hide"))}))},getDataCompany:function(e){this.account.company=e.value,this.description.company=e.desc},getDataBranch:function(e){this.account.branch=e.value,this.description.branch=e.desc},getValueDepartment:function(e){this.account.department=e.value,this.description.department=e.desc},getDataProduct:function(e){this.account.product=e.value,this.description.product=e.desc},getDataSource:function(e){this.account.source=e.value,this.description.source=e.desc},getDataAccount:function(e){this.account.account=e.value,this.description.account=e.desc},getDataSubAccount:function(e){this.account.subAccount=e.value,this.description.subAccount=e.desc},getDataProjectActivity:function(e){this.account.projectActivity=e.value,this.description.projectActivity=e.desc},getDataInterCompany:function(e){this.account.interCompany=e.value,this.description.interCompany=e.desc},getDataAllocation:function(e){this.account.allocation=e.value,this.description.allocation=e.desc},getDataFutureUsed1:function(e){this.account.futureUsed1=e.value,this.description.futureUsed1=e.desc},getDataFutureUsed2:function(e){this.account.futureUsed2=e.value,this.description.futureUsed2=e.desc},getValueAccount:function(e){this.account=e.account,this.description=e.description},getValueTypeCode:function(e){this.account_id=e.id,this.typeCost=e.code,this.$emit("accountid",e.id),e.code?this.disabled=!0:this.disabled=!1}},components:{lovCompany:o.Z,lovBranch:n.Z,lovDepartment:i.Z,lovProduct:c.Z,lovSource:s.Z,lovAccount:l.Z,lovSubAccount:r.Z,lovProjectActivity:d.Z,lovInterCompany:u.Z,lovAllocation:p.Z,lovFutureUsed1:m.Z,lovFutureUsed2:h.Z,lovTypeCost:v.Z},watch:{accounts:function(e,t){this.account=e},type_cost:function(e,t){this.typeCost=e},descriptions:function(e,t){this.description=e}}};const g=(0,a(51900).Z)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_account",tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),e._v(" "),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("ข้อมูลรหัสบัญชี (Account Mapping)")])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("el-form",{ref:"modal_account_mapping",staticClass:"demo-ruleForm",attrs:{model:e.account,rules:e.rules,"label-width":"120px"}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              ประเภทค่าใช้จ่าย\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"type_cost"}},[a("lov-type-cost",{attrs:{account_id:e.account_id,placeholder:"ประเภทค่าใช้จ่าย",popperBody:!1,name:"type_cost",disabled:!1},on:{"split-account":e.getValueAccount,"change-lov":e.getValueTypeCode},model:{value:e.typeCost,callback:function(t){e.typeCost=t},expression:"typeCost"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Company Code *  \n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"company"}},[a("lov-company",{attrs:{attrName:"segmentCompany",disabled:e.disabled},on:{"change-lov-segment":e.getDataCompany},model:{value:e.account.company,callback:function(t){e.$set(e.account,"company",t)},expression:"account.company"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              EVM *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"branch"}},[a("lov-branch",{attrs:{attrName:"segmentBranch",vendorId:"",disabled:e.disabled},on:{"change-lov-segment":e.getDataBranch},model:{value:e.account.branch,callback:function(t){e.$set(e.account,"branch",t)},expression:"account.branch"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Department *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"department"}},[a("lov-department",{attrs:{attrName:"segmentDepartment",disabled:e.disabled},on:{"change-lov-segment":e.getValueDepartment},model:{value:e.account.department,callback:function(t){e.$set(e.account,"department",t)},expression:"account.department"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Cost Center *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"product"}},[a("lov-product",{attrs:{attrName:"segmentProduct",departmentCode:e.account.department,disabled:e.disabled},on:{"change-lov-segment":e.getDataProduct},model:{value:e.account.product,callback:function(t){e.$set(e.account,"product",t)},expression:"account.product"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Year *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"source"}},[a("lov-source",{attrs:{attrName:"segmentSource",disabled:e.disabled},on:{"change-lov-segment":e.getDataSource},model:{value:e.account.source,callback:function(t){e.$set(e.account,"source",t)},expression:"account.source"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Type *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"account"}},[a("lov-account",{attrs:{attrName:"segmentAccount",disabled:e.disabled},on:{"change-lov-segment":e.getDataAccount},model:{value:e.account.account,callback:function(t){e.$set(e.account,"account",t)},expression:"account.account"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Detail *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"subAccount"}},[a("lov-sub-account",{attrs:{attrName:"segmentSubAccount",budgetType:e.account.account,disabled:e.disabled},on:{"change-lov-segment":e.getDataSubAccount},model:{value:e.account.subAccount,callback:function(t){e.$set(e.account,"subAccount",t)},expression:"account.subAccount"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Budget Reason *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"projectActivity"}},[a("lov-project-activity",{attrs:{attrName:"segmentProjectActivity",disabled:e.disabled},on:{"change-lov-segment":e.getDataProjectActivity},model:{value:e.account.projectActivity,callback:function(t){e.$set(e.account,"projectActivity",t)},expression:"account.projectActivity"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Main Account *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"interCompany"}},[a("lov-inter-company",{attrs:{attrName:"segmentInterCompany",disabled:e.disabled},on:{"change-lov-segment":e.getDataInterCompany},model:{value:e.account.interCompany,callback:function(t){e.$set(e.account,"interCompany",t)},expression:"account.interCompany"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Sub Account *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"allocation"}},[a("lov-allocation",{attrs:{attrName:"`segmentAllocation`",mainAccount:e.account.interCompany,disabled:e.disabled},on:{"change-lov-segment":e.getDataAllocation},model:{value:e.account.allocation,callback:function(t){e.$set(e.account,"allocation",t)},expression:"account.allocation"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Reserved *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed1"}},[a("lov-future-used1",{attrs:{attrName:"segmentFutureUsed1",disabled:e.disabled},on:{"change-lov-segment":e.getDataFutureUsed1},model:{value:e.account.futureUsed1,callback:function(t){e.$set(e.account,"futureUsed1",t)},expression:"account.futureUsed1"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              Reserved *\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed2"}},[a("lov-future-used2",{attrs:{attrName:"segmentFutureUsed2",disabled:e.disabled},on:{"change-lov-segment":e.getDataFutureUsed2},model:{value:e.account.futureUsed2,callback:function(t){e.$set(e.account,"futureUsed2",t)},expression:"account.futureUsed2"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),e._v(" ตกลง\n        ")])])])])])}),[],!1,null,null,null).exports},54063:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(30381),n=a.n(o);const i={name:"ir-settings-vehicle-modal-expire-date",props:["vars","expireDate"],data:function(){return{rules:{insurance_expire_date:[{required:!0,message:"กรุณาระบุวันสิ้นอายุ ประกัน",trigger:"change"}],license_plate_expire_date:[{required:!0,message:"กรุณาระบุวันสิ้นอายุ ป้ายทะเบียน",trigger:"change"}],acts_expire_date:[{required:!0,message:"กรุณาระบุวันสิ้นอายุ พรบ",trigger:"change"}],car_inspection_expire_date:[{required:!0,message:"กรุณาระบุวันสิ้นอายุ ตรวจสภาพ",trigger:"change"}]}}},methods:{clickAgree:function(){var e=this;this.$refs.form_expire_date.validate((function(t){if(!t)return!1;e.$emit("expire-date",e.expireDate),$("#modal_expire_date").modal("hide")}))},validateNotElUi:function(e,t){e?this.$refs.form_expire_date.fields.find((function(e){return e.prop==t})).clearValidate():this.$refs.form_expire_date.validateField(t)},getValueInsuranceExpireDate:function(e){var t=this.vars.formatDate;this.expireDate.insurance_expire_date=e?n()(e).format(t):""},getValueLicensePlateExpireDate:function(e){var t=this.vars.formatDate;this.expireDate.license_plate_expire_date=e?n()(e).format(t):""},getValueActsExpireDate:function(e){var t=this.vars.formatDate;this.expireDate.acts_expire_date=e?n()(e).format(t):""},getValueCarInspectionExpireDate:function(e){var t=this.vars.formatDate;this.expireDate.car_inspection_expire_date=e?n()(e).format(t):""}}};const c=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_expire_date",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),a("el-form",{ref:"form_expire_date",staticClass:"demo-dynamic form_table_line",attrs:{model:e.expireDate,"label-width":"120px"}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              วันสิ้นอายุ ประกัน\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"insurance_expire_date"}},[a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{id:"insurance_expire_date",name:"insurance_expire_date","p-type":"date",placeholder:"วันสิ้นอายุ ประกัน",value:e.expireDate.insurance_expire_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueInsuranceExpireDate},model:{value:e.expireDate.insurance_expire_date,callback:function(t){e.$set(e.expireDate,"insurance_expire_date",t)},expression:"expireDate.insurance_expire_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              วันสิ้นอายุ ป้ายทะเบียน\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"license_plate_expire_date"}},[a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{id:"license_plate_expire_date",name:"license_plate_expire_date","p-type":"date",placeholder:"วันสิ้นอายุ ประกัน",value:e.expireDate.license_plate_expire_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueLicensePlateExpireDate},model:{value:e.expireDate.license_plate_expire_date,callback:function(t){e.$set(e.expireDate,"license_plate_expire_date",t)},expression:"expireDate.license_plate_expire_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              วันสิ้นอายุ พรบ\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"acts_expire_date"}},[a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{id:"acts_expire_date",name:"acts_expire_date","p-type":"date",placeholder:"วันสิ้นอายุ ประกัน",value:e.expireDate.acts_expire_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueActsExpireDate},model:{value:e.expireDate.acts_expire_date,callback:function(t){e.$set(e.expireDate,"acts_expire_date",t)},expression:"expireDate.acts_expire_date"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              วันสิ้นอายุ ตรวจสภาพ\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"car_inspection_expire_date"}},[a("datepicker-th",{staticClass:"form-control md:tw-mb-0 tw-mb-2",staticStyle:{width:"100%"},attrs:{id:"car_inspection_expire_date",name:"car_inspection_expire_date","p-type":"date",placeholder:"วันสิ้นอายุ ประกัน",value:e.expireDate.car_inspection_expire_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueCarInspectionExpireDate},model:{value:e.expireDate.car_inspection_expire_date,callback:function(t){e.$set(e.expireDate,"car_inspection_expire_date",t)},expression:"expireDate.car_inspection_expire_date"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),e._v(" ตกลง\n          ")])])])],1)])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("วันสิ้นอายุประกัน")])])}],!1,null,null,null).exports},41446:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(30381),n=a.n(o);const i={name:"ir-settings-vehicle-modal-sold",data:function(){return{rules:{sold_date:[{required:!0,message:"กรุณาระบุวันขาย",trigger:"change"}]}}},props:["vars","sold","vehicle"],methods:{clickAgree:function(){var e=this;console.log("clickAgree ",this.sold),this.$refs.form_sold.validate((function(t){if(console.log("clickAgree ",t),!t)return!1;e.$emit("sold",e.sold),$("#modal_sold_car").modal("hide"),e.vehicle.active_flag=!1}))},getValueInsuranceExpireDate:function(e){var t=this.vars.formatDate;this.sold.sold_date=e?n()(e).format(t):""}}};const c=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_sold_car",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),a("el-form",{ref:"form_sold",staticClass:"demo-dynamic form_table_line",attrs:{model:e.sold,"label-width":"120px"}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n              วันที่ขายรถ\n            ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"sold_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"sold_date","p-type":"date",placeholder:"วันที่ขายรถ",value:e.sold.sold_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueInsuranceExpireDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[e._v("\n                  เหตุผล\n              ")]),e._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"reason"}},[a("el-input",{attrs:{placeholder:"เหตุผล",disabled:!1},model:{value:e.sold.reason,callback:function(t){e.$set(e.sold,"reason",t)},expression:"sold.reason"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),e._v(" ตกลง\n          ")])])])],1)])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("ขายรถ")])])}],!1,null,null,null).exports},51900:(e,t,a)=>{"use strict";function o(e,t,a,o,n,i,c,s){var l,r="function"==typeof e?e.options:e;if(t&&(r.render=t,r.staticRenderFns=a,r._compiled=!0),o&&(r.functional=!0),i&&(r._scopeId="data-v-"+i),c?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},r._ssrRegister=l):n&&(l=s?function(){n.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(r.functional){r._injectStyles=l;var d=r.render;r.render=function(e,t){return l.call(t),d(e,t)}}else{var u=r.beforeCreate;r.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:r}}a.d(t,{Z:()=>o})}}]);