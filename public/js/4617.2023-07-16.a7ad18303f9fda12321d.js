(self.webpackChunk=self.webpackChunk||[]).push([[4617],{88729:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var s=a(23645),l=a.n(s)()((function(t){return t[1]}));l.push([t.id,".form-group[data-v-781b8f78]{margin-bottom:1rem}.is-valide[data-v-781b8f78]{color:red;border:1px solid red}",""]);const i=l},4617:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>d});var s=a(87757),l=a.n(s),i=a(9669),r=a.n(i);function n(t,e,a,s,l,i,r){try{var n=t[i](r),c=n.value}catch(t){return void a(t)}n.done?e(c):Promise.resolve(c).then(s,l)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(s,l){var i=t.apply(e,a);function r(t){n(i,s,l,r,c,"next",t)}function c(t){n(i,s,l,r,c,"throw",t)}r(void 0)}))}}const o={props:{btn_trans:{type:Object},url_ajax:{type:Object},customer_list:{type:Object},authority_list:{type:Object},acting_pos:{type:Object}},mounted:function(){},data:function(){return{filter:{customer_number:"",claim_number:"",fl:"",date:"",signIt:"",signDep:""},validate:{customer_number:!1,claim_number:!1,fl:!1,date:!1,signIt:!1,signDep:!1},claim_no:[]}},methods:{loading:function(){var t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});return t},handdlePrint:function(){var t=this.filter,e=!1;if(""==t.claim_number?(this.validate.claim_number=!0,e=!0):this.validate.claim_number=!1,""==t.date?(this.validate.date=!0,e=!0):this.validate.date=!1,""==t.signIt?(this.validate.signIt=!0,e=!0):this.validate.signIt=!1,1==e)return!1;window.open(this.url_ajax.link_pdf+"?"+$.param(this.filter))},handleChangeDate:function(t,e){var a=new Date(t);this.filter.date=a.getFullYear()-543+"-"+(a.getMonth()+1)+"-"+a.getDate()},takeDataClaimNo:function(){var t=this;return c(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r().post(t.url_ajax.take_claim_number,{customer_number:t.filter.customer_number}).then((function(e){if(200!==e.status)return t.$notify({text:"ไม่สามารถทำรายการได้ในขณะนี้",type:"warning"});t.claim_no=e.data})).catch((function(e){t.$notify({text:"ไม่สามารถทำรายการได้ในขณะนี้",type:"warning"})}));case 2:case"end":return e.stop()}}),e)})))()},handleChangCusNumber:function(t){var e=this;return c(l().mark((function a(){var s;return l().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),s=e.loading(),a.next=4,e.takeDataClaimNo();case 4:s.close();case 5:case"end":return a.stop()}}),a)})))()}}};var u=a(93379),m=a.n(u),v=a(88729),f={insert:"head",singleton:!1};m()(v.Z,f);v.Z.locals;const d=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"ibox"},[t._m(0),t._v(" "),a("div",{staticClass:"ibox-content"},[a("div",{staticClass:"col-xl-7"},[a("form",[t._m(1),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("รหัสร้านค้า")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("el-select",{attrs:{filterable:"",placeholder:"เลือกรหัสร้านค้า"},on:{change:t.handleChangCusNumber},model:{value:t.filter.customer_number,callback:function(e){t.$set(t.filter,"customer_number",e)},expression:"filter.customer_number"}},t._l(t.customer_list,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_number,value:t.customer_id}})})),1)],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(2),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("el-select",{class:t.validate.claim_number?"is-valide":"",attrs:{filterable:"",placeholder:"เลือกเลขที่ใบเคลม"},model:{value:t.filter.claim_number,callback:function(e){t.$set(t.filter,"claim_number",e)},expression:"filter.claim_number"}},t._l(t.claim_no,(function(t,e){return a("el-option",{key:e,attrs:{label:t.claim_number,value:t.claim_header_id}})})),1)],1)]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("ฝข.\n                ")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.fl,expression:"filter.fl"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter.fl},on:{input:function(e){e.target.composing||t.$set(t.filter,"fl",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(5),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("datepicker-th",{class:"form-control "+(t.validate.signIt?"is-valide":""),staticStyle:{width:"100%"},attrs:{placeholder:"วันส่งประจำงวด",format:"DD/MM/Y"},on:{dateWasSelected:t.handleChangeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(7),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("el-select",{class:t.validate.signIt?"is-valide":"",attrs:{filterable:"",placeholder:"เลือกลงชื่อรับเรื่อง"},model:{value:t.filter.signIt,callback:function(e){t.$set(t.filter,"signIt",e)},expression:"filter.signIt"}},t._l(t.authority_list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.employee_name,value:t.authority_id}})})),1)],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v(" ")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("el-select",{attrs:{filterable:""},model:{value:t.filter.signDep,callback:function(e){t.$set(t.filter,"signDep",e)},expression:"filter.signDep"}},t._l(t.acting_pos,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning,value:t.lookup_code}})})),1)],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{class:t.btn_trans.print.class,attrs:{type:"button"},on:{click:t.handdlePrint}},[a("i",{class:t.btn_trans.print.icon},[t._v(" ")]),t._v("\n                  "+t._s(t.btn_trans.print.text)+"\n                ")])])])])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox-title"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-sm-12 col-lg-4 align-middle"},[a("h4",[t._v("ใบขอเปลี่ยนบุหรี่ชำรุด/เสียหาย หรือ ขาดบรรจุ")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("h4",{staticClass:"black mb-3"},[t._v("Parameter")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("เลขที่ใบเคลม"),a("span",{staticClass:"is-invalide"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("h4",{staticClass:"black mb-3"},[t._v("โปรดระบุ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("กอง")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[t._v("กองลูกค้าสัมพันธ์")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("ลงวันที่ "),a("span",{staticClass:"is-invalide"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("h4",{staticClass:"black mb-3"},[t._v("โปรดเลือกผู้ทำการ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("ลงชื่อรับเรื่อง "),a("span",{staticClass:"is-invalide"},[t._v("*")])])}],!1,null,"781b8f78",null).exports}}]);