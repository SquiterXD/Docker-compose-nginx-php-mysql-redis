(self.webpackChunk=self.webpackChunk||[]).push([[7873],{99442:(t,o,e)=>{"use strict";e.d(o,{Z:()=>r});var a=e(23645),s=e.n(a)()((function(t){return t[1]}));s.push([t.id,".el-table .warning-row[data-v-bcb23794]{background-color:#fdf5e6!important}.side_list[data-v-bcb23794]{height:500px;border-radius:5px;padding:20px;border:2px solid #eee}.side_list .title[data-v-bcb23794]{font-size:14px;font-weight:700;color:#909399}.side_list .show_list[data-v-bcb23794]{max-height:400px;overflow:scroll}.side_list .show_list-item[data-v-bcb23794]{width:100%;justify-content:space-between}.m-px__5[data-v-bcb23794]{margin:5px}.flex[data-v-bcb23794]{display:flex}.text-title[data-v-bcb23794]{font-size:16px;font-weight:600}.btn-info[data-v-bcb23794]{background-color:#02b0ef;border-color:#02b0ef}.btn-success[data-v-bcb23794]{background-color:#1ab394;border-color:#1ab394}.btn-cancel[data-v-bcb23794]{background-color:#ec4958;border-color:#ec4958;color:#fff}.text-refresh[data-v-bcb23794]{color:#ec4958}.show_list[data-v-bcb23794]{display:flex;flex-wrap:wrap}.show_list-item[data-v-bcb23794]{cursor:pointer;display:flex;margin:5px;background-color:#f4f4f5;padding:3px 10px;color:#909399;border-color:#e9e9eb;border-radius:3px;text-align:left;align-items:center}.show_list-item[data-v-bcb23794]:hover{background-color:#ededf0}.show_list-item__close[data-v-bcb23794]{margin-left:10px}",""]);const r=s},87873:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>p});var a=e(87757),s=e.n(a);function r(t,o,e,a,s,r,c){try{var n=t[r](c),l=n.value}catch(t){return void e(t)}n.done?o(l):Promise.resolve(l).then(a,s)}function c(t){return function(){var o=this,e=arguments;return new Promise((function(a,s){var c=t.apply(o,e);function n(t){r(c,a,s,n,l,"next",t)}function l(t){r(c,a,s,n,l,"throw",t)}n(void 0)}))}}const n={data:function(){return{tableData:[],form:{show:!1,loading:!1,fetch_data:!1,cost_code_list:[],cost_code:"",product_group:"",description:""}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.form.fetch_data=!0,axios.get("/ct/ajax/product_group/get-data-from-view").then((function(o){t.tableData=o.data.product_groups,t.form.cost_code_list=o.data.cost_code_list,t.form.fetch_data=!1}))},save:function(){var t=this;return c(s().mark((function o(){var e,a;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=t,(a=JSON.parse(JSON.stringify(e.form))).cost_code_list=[],e.form.loading=!0,axios.post("/ct/ajax/product_group/cost-code",{input:a}).then((function(t){var o=t.data;"S"==o.status&&(swal({title:"&nbsp;",text:"บันทึกข้อมูลสำเร็จ",type:"success",html:!0}),e.form.cost_code="",e.form.product_group="",e.form.description="",e.fetchData()),"S"!=o.status&&swal({title:"Error !",text:o.message,type:"error",showConfirmButton:!0}),e.form.loading=!1}));case 5:case"end":return o.stop()}}),o)})))()},update:function(t){var o=this;return c(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o,a={cost_code:t.cost_code,product_group:t.product_group,description:t.description},t.loading=!0,axios.post("/ct/ajax/product_group/update-cost-code",{input:a}).then((function(o){var e=o.data;"S"==e.status&&(swal({title:"&nbsp;",text:"บันทึกข้อมูลสำเร็จ",type:"success",html:!0}),t.loading=!1,t.show_edit_form=!1),"S"!=e.status&&swal({title:"Error !",text:e.message,type:"error",showConfirmButton:!0}),t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},del:function(t){var o=this;return c(s().mark((function e(){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o,!1,r={cost_code:t.cost_code,product_group:t.product_group,description:t.description},e.next=5,helperAlert.showProgressConfirm("กรุณายืนยันลบข้อมูล");case 5:e.sent&&(t.loading=!0,axios.post("/ct/ajax/product_group/del-cost-code",{input:r}).then((function(o){var e=o.data;"S"==e.status&&(swal({title:"&nbsp;",text:"บันทึกข้อมูลสำเร็จ",type:"success",html:!0}),t.loading=!1,a.fetchData()),"S"!=e.status&&swal({title:"Error !",text:e.message,type:"error",showConfirmButton:!0}),t.loading=!1})));case 7:case"end":return e.stop()}}),e)})))()}}};var l=e(93379),i=e.n(l),d=e(99442),u={insert:"head",singleton:!1};i()(d.Z,u);d.Z.locals;const p=(0,e(51900).Z)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"list-product-groups"},[e("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.form.show?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.form.loading,expression:"form.loading"}],staticClass:"col-lg-12 mt-2 mb-5 "},[e("div",{staticClass:"row"},[e("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[e("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v("ศูนย์ต้นทุน :")]),t._v(" "),e("div",{staticClass:"input-group "},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:""},model:{value:t.form.cost_code,callback:function(o){t.$set(t.form,"cost_code",o)},expression:"form.cost_code"}},t._l(t.form.cost_code_list,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._v(" "),e("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[e("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v("กลุ่มผลิตภัณฑ์ :")]),t._v(" "),e("div",{staticClass:"input-group "},[e("el-input",{attrs:{type:"text",placeholder:"",maxlength:"50","show-word-limit":""},model:{value:t.form.product_group,callback:function(o){t.$set(t.form,"product_group",o)},expression:"form.product_group"}})],1)]),t._v(" "),e("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[e("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v("รายละเอียด :")]),t._v(" "),e("div",{staticClass:"input-group "},[e("el-input",{attrs:{type:"text",placeholder:"",maxlength:"50","show-word-limit":""},model:{value:t.form.description,callback:function(o){t.$set(t.form,"description",o)},expression:"form.description"}})],1)]),t._v(" "),e("div",{staticClass:"form-group pl-2 pr-2 mb-0 col-lg-3 col-md-4 col-sm-6 col-xs-6 mt-2"},[e("label",{staticClass:"text-muted tw-font-bold tw-uppercase mb-0"},[t._v(" ")]),t._v(" "),e("div",{staticClass:"input-group "},[e("button",{staticClass:"btn btn-white btn-lg",attrs:{type:"button"},on:{click:function(o){t.form.show=!1}}},[t._v("ยกเลิก")]),t._v(" "),e("button",{staticClass:"btn btn-success btn-lg ml-2",attrs:{type:"button"},on:{click:function(o){return t.save()}}},[t._v("บันทึก")])])])])]):t._e()]),t._v(" "),e("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.form.show?t._e():e("div",{staticClass:"col-lg-12 mt-2 text-right"},[e("el-button",{staticClass:"btn btn-success m-px__5",attrs:{type:"success"},on:{click:function(o){t.form.show=!0}}},[t._v("\n            เพิ่มผลิตภัณฑ์ใหม่\n          ")])],1)]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.form.fetch_data,expression:"form.fetch_data"}],staticClass:"col-lg-12 mt-2"},[e("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[e("el-table-column",{attrs:{prop:"cost_code",label:"ศูนย์ต้นทุน",align:"center",width:"110"}}),t._v(" "),e("el-table-column",{attrs:{prop:"cost_description",label:"รายละเอียด"}}),t._v(" "),e("el-table-column",{attrs:{prop:"product_group",label:"กลุ่มผลิตภัณฑ์",align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){return[(o.row.show_edit_form,e("div",[t._v("\n                  "+t._s(o.row.product_group)+"\n              ")]))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"description",label:"รายละเอียด"},scopedSlots:t._u([{key:"default",fn:function(o){return[o.row.show_edit_form?e("div",[e("el-input",{attrs:{type:"text",placeholder:"",maxlength:"50","show-word-limit":""},model:{value:o.row.description,callback:function(e){t.$set(o.row,"description",e)},expression:"scope.row.description"}})],1):e("div",[t._v("\n                  "+t._s(o.row.description)+"\n              ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(o){return[o.row.show_edit_form?t._e():e("button",{staticClass:"btn btn-warning btn-lg tw-w-24",attrs:{type:"button"},on:{click:function(t){o.row.show_edit_form=!0}}},[t._v("\n              แก้ไข\n            ")]),t._v(" "),o.row.show_edit_form?e("button",{staticClass:"btn btn-success btn-lg tw-w-24",attrs:{type:"button"},on:{click:function(e){return t.update(o.row)}}},[t._v("\n              บันทึก\n            ")]):t._e(),t._v(" "),e("button",{staticClass:"btn btn-danger btn-lg ml-2 tw-w-24",attrs:{type:"button"},on:{click:function(e){return t.del(o.row)}}},[t._v("ลบ")]),t._v(" "),e("a",{staticClass:"btn btn-primary btn-lg tw-w-24",attrs:{href:"/ct/product_group/"+o.row.product_group+"?cost_code="+o.row.cost_code}},[t._v("\n              ผลิตภัณฑ์\n            ")])]}}])})],1)],1)],1)}),[],!1,null,"bcb23794",null).exports}}]);