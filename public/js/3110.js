(self.webpackChunk=self.webpackChunk||[]).push([[3110],{83110:(s,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var e=t(80455);const l={components:{VueNumeric:t.n(e)()},props:["dateLists","saleClass"],data:function(){return{loading:!1,disable_params:!1,disable_interface:!1,documentNoLists:[],close_date:"",interface_status:"",group_id:""}},mounted:function(){},methods:{validate:function(){var s=this,a="",t=!1;if(s.close_date||(a+="กรุณาระบุวันที่ <br>",t=!0),t)return swal({html:!0,title:"กรุณาระบุข้อมูลให้ครบถ้วน",text:a,type:"error"}),!1;s.loading=!0,axios.post("/om/close-daily-payoff/"+s.saleClass+"/validate-data",{close_date:s.close_date,sale_class:s.saleClass}).then((function(a){"S"==a.data.status?s.interface():s.showError(a.data.msg)})).catch((function(a){s.showError(a.message)})).then((function(){s.loading=!1}))},interface:function(){var s=this;s.loading=!0,axios.post("/om/close-daily-payoff/"+s.saleClass+"/interface",{close_date:s.close_date,sale_class:s.saleClass}).then((function(a){s.interface_status=a.data.status,"S"==a.data.status?(s.showSuccess(a.data.msg),s.group_id=a.data.group_id):s.showError(a.data.msg)})).catch((function(a){s.showError(a.message)})).then((function(){s.loading=!1}))},showSuccess:function(s){swal("Success!",s,"success")},showError:function(s){swal("Error!",s,"error")}}};const i=(0,t(51900).Z)(l,(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:s.loading,expression:"loading"}]},[t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-md-3"}),s._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-md-12"},[s._m(0),s._v(" "),t("el-select",{staticClass:"w-100",attrs:{filterable:"",placeholder:"Select",disabled:s.disable_params},model:{value:s.close_date,callback:function(a){s.close_date=a},expression:"close_date"}},s._l(s.dateLists,(function(s,a){return t("el-option",{key:a,attrs:{label:s,value:a}})})),1)],1)]),s._v(" "),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-md-12"},[t("label",[s._v("Group ID")]),s._v(" "),t("el-input",{staticClass:"w-100",attrs:{placeholder:"",disabled:!0},model:{value:s.group_id,callback:function(a){s.group_id=a},expression:"group_id"}})],1)]),s._v(" "),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-md-12"},[t("label",[s._v("หมายเหตุ")]),s._v(" "),t("el-input",{staticClass:"w-100",attrs:{placeholder:"",disabled:!0},model:{value:s.interface_status,callback:function(a){s.interface_status=a},expression:"interface_status"}})],1)]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center"},[t("button",{staticClass:"btn btn-primary mt-2 mt-md-0",attrs:{type:"button",disabled:s.disable_interface},on:{click:function(a){return s.validate()}}},[s._v(" Interface")])])])])])])}),[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("label",[s._v("วันที่ "),t("span",{staticClass:"text-danger"},[s._v("*")])])}],!1,null,null,null).exports}}]);