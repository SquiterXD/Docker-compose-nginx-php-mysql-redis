(self.webpackChunk=self.webpackChunk||[]).push([[6927,6225],{89809:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var n=r(87757),a=r.n(n),o=r(30381),s=r.n(o);function i(t,e,r,n,a,o,s){try{var i=t[o](s),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){i(o,n,a,s,c,"next",t)}function c(t){i(o,n,a,s,c,"throw",t)}s(void 0)}))}}const u={props:["url","trans-date","trans-btn","default-program-code","infoAttributes","functionName"],data:function(){return{options:[],value:this.defaultProgramCode?this.defaultProgramCode:[],list:[],loading:!1,states:[],infos:[],programs:[],date:{},reportType:"pdf",errorLists:[],groupCodeList:[],carInsuranceeList:[],departmentList:[],departmentListTo:[],month:"",group_code:"",car_insurance:"",department_code_from:"",department_code_to:"",seq_1:!0,seq_2:!0,seq_3:!0,month_value:""}},methods:{getData:function(t){var e=this;return c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:axios.get(e.url.getInfor).then((function(t){e.programs=t.data.programs})).then((function(){e.list=e.infos.map((function(t){return{value:"value:".concat(t.program_code),label:"label:".concat(t.program_code)}}))})).catch((function(t){}));case 1:case"end":return t.stop()}}),t)})))()},getInfos:function(){var t=this;return c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.infoAttributes=[],t.functionName="",t.errorLists=[],axios.get(t.url.getInfoAttribute+"?program_code="+t.value).then((function(e){t.infoAttributes=e.data.reportInfor,t.functionName=e.data.functionName,t.functionReport=e.data.functionReport,t.programs=e.data.programs,t.options=e.data.programs})).then((function(){})).catch((function(t){}));case 4:case"end":return e.stop()}}),e)})))()},getYear:function(t,e){this.group_code_value="x111",this.month=t,console.log("value",t),console.log("month",e),t&&this.getGroupCode(),this.month_value=s()(t).add(-543,"years").format("Y-M-d")},exportReport:function(){},checkForm:function(t){if(this.month)return!0;swal({title:"Warning",text:"กรุณาระบุเดือน",type:"warning"}),t.preventDefault()},getGroupCode:function(){var t=this;console.log("func getGroupCode"),axios.get("/ir/reports/get-group-code",{params:{month:this.month}}).then((function(e){t.groupCodeList=e.data.data})).catch((function(t){}))},getCarInsurance:function(){var t=this;axios.get("/ir/reports/get-car-insurance",{params:{month:this.month,group_code:this.group_code}}).then((function(e){t.carInsuranceeList=e.data.data})).catch((function(t){}))},getDepartment:function(){var t=this;this.car_insurance&&axios.get("/ir/reports/get-department",{params:{month:this.month,group_code:this.group_code,car_insurance:this.car_insurance}}).then((function(e){t.departmentList=e.data.data})).catch((function(t){}))},getDepartmentTo:function(){var t=this;this.car_insurance&&axios.get("/ir/reports/get-department-to",{params:{month:this.month,group_code:this.group_code,car_insurance:this.car_insurance,department_code_from:this.department_code_from}}).then((function(e){t.departmentListTo=e.data.data})).catch((function(t){}))}}};const l=(0,r(51900).Z)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{attrs:{action:t.url.getParam,method:"get",target:"_blank"},on:{submit:t.checkForm}},[r("hr",{staticClass:"m-3"}),t._v(" "),r("div",{staticClass:"row mb-2"},[t._m(0),t._v(" "),r("div",{staticClass:"col-6"},[r("datepicker-th",{staticClass:"form-control col-lg-12",staticStyle:{width:"100%","border-radius":"3px"},attrs:{id:"input_date",pType:"month",format:"MM/YYYY"},on:{dateWasSelected:function(e){for(var r=arguments.length,n=Array(r);r--;)n[r]=arguments[r];return t.getYear.apply(void 0,n.concat(["month"]))}},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"month"},domProps:{value:t.month}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"month_value"},domProps:{value:t.month_value}})],1)]),t._v(" "),r("div",{staticClass:"row"},[t._m(1),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.month},on:{change:function(e){return t.getCarInsurance()}},model:{value:t.group_code,callback:function(e){t.group_code=e},expression:"group_code"}},[t._l(t.groupCodeList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"group_code"},domProps:{value:t.group_code}})],2)],1)]),t._v(" "),r("div",{staticClass:"row mt-2"},[t._m(2),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.group_code},on:{change:function(e){return t.getDepartment()}},model:{value:t.car_insurance,callback:function(e){t.car_insurance=e},expression:"car_insurance"}},[t._l(t.carInsuranceeList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"car_insurance"},domProps:{value:t.car_insurance}})],2)],1)]),t._v(" "),r("div",{staticClass:"row mt-2"},[t._m(3),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.car_insurance},model:{value:t.department_code_from,callback:function(e){t.department_code_from=e},expression:"department_code_from"}},[t._l(t.departmentList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"department_code_from"},domProps:{value:t.department_code_from}})],2)],1)]),t._v(" "),r("div",{staticClass:"row mt-2 mb-2"},[t._m(4),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.car_insurance},model:{value:t.department_code_to,callback:function(e){t.department_code_to=e},expression:"department_code_to"}},[t._l(t.departmentList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"department_code_to"},domProps:{value:t.department_code_to}})],2)],1)]),t._v(" "),r("input",{attrs:{type:"hidden",name:"program_code"},domProps:{value:t.value}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"function_name"},domProps:{value:t.functionName}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"output"},domProps:{value:t.reportType}}),t._v(" "),r("div",{staticClass:"text-center"},[r("button",{class:t.transBtn.printReport.class,attrs:{type:"submit"}},[r("i",{class:t.transBtn.printReport.icon}),t._v(" "+t._s(t.transBtn.printReport.text))])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    เดือน "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    กลุ่ม\n                ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    ประเภทประกันภัย\n                ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    หน่วยงานตั้งแต่\n                ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    หน่วยงานถึง\n                ")])])}],!1,null,null,null).exports},16927:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b});var n=r(87757),a=r.n(n),o=r(30381),s=r.n(o),i=r(89809);function c(t,e,r,n,a,o,s){try{var i=t[o](s),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){c(o,n,a,s,i,"next",t)}function i(t){c(o,n,a,s,i,"throw",t)}s(void 0)}))}}const l={props:["url","trans-date","trans-btn","default-program-code","infoAttributes","functionName"],data:function(){return{options:[],value:this.defaultProgramCode?this.defaultProgramCode:[],list:[],loading:!1,states:[],infos:[],programs:[],date:{},reportType:"pdf",errorLists:[],groupCodeList:[],renewTypeList:[],month:"",group_code:"",renew_type:"",month_value:""}},methods:{getData:function(t){var e=this;return u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:axios.get(e.url.getInfor).then((function(t){e.programs=t.data.programs})).then((function(){e.list=e.infos.map((function(t){return{value:"value:".concat(t.program_code),label:"label:".concat(t.program_code)}}))})).catch((function(t){}));case 1:case"end":return t.stop()}}),t)})))()},getInfos:function(){var t=this;return u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.infoAttributes=[],t.functionName="",t.errorLists=[],axios.get(t.url.getInfoAttribute+"?program_code="+t.value).then((function(e){t.infoAttributes=e.data.reportInfor,t.functionName=e.data.functionName,t.functionReport=e.data.functionReport,t.programs=e.data.programs,t.options=e.data.programs})).then((function(){})).catch((function(t){}));case 4:case"end":return e.stop()}}),e)})))()},getYear:function(t,e){this.group_code_value="x111",this.month=t,console.log("value",t),console.log("month",e),t&&this.getGroupCode(),this.month_value=s()(t).add(-543,"years").format("Y-M-d")},checkForm:function(t){if(this.month&&this.group_code&&this.renew_type)return!0;swal({title:"Warning",text:"กรุณาระบุข้อมูลให้ครบถ้วน",type:"warning"}),t.preventDefault()},getGroupCode:function(){var t=this;console.log("func getGroupCode"),axios.get("/ir/reports/irr0009-1-get-group-code",{params:{month:this.month}}).then((function(e){t.groupCodeList=e.data.data})).catch((function(t){}))},getRenewType:function(){var t=this;axios.get("/ir/reports/irr0009-1-get-renew-type",{params:{month:this.month,group_code:this.group_code}}).then((function(e){t.renewTypeList=e.data.data})).catch((function(t){}))}}};var d=r(51900);const p=(0,d.Z)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{attrs:{action:t.url.getParam,method:"get",target:"_blank"},on:{submit:t.checkForm}},[r("hr",{staticClass:"m-3"}),t._v(" "),r("div",{staticClass:"row mb-2"},[t._m(0),t._v(" "),r("div",{staticClass:"col-6"},[r("datepicker-th",{staticClass:"form-control col-lg-12",staticStyle:{width:"100%","border-radius":"3px"},attrs:{id:"input_date",pType:"month",format:"MM/YYYY"},on:{dateWasSelected:function(e){for(var r=arguments.length,n=Array(r);r--;)n[r]=arguments[r];return t.getYear.apply(void 0,n.concat(["month"]))}},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"month"},domProps:{value:t.month}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"month_value"},domProps:{value:t.month_value}})],1)]),t._v(" "),r("div",{staticClass:"row"},[t._m(1),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.month},on:{change:function(e){return t.getRenewType()}},model:{value:t.group_code,callback:function(e){t.group_code=e},expression:"group_code"}},[t._l(t.groupCodeList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"group_code"},domProps:{value:t.group_code}})],2)],1)]),t._v(" "),r("div",{staticClass:"row mt-2"},[t._m(2),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.group_code},model:{value:t.renew_type,callback:function(e){t.renew_type=e},expression:"renew_type"}},[t._l(t.renewTypeList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"renew_type"},domProps:{value:t.renew_type}})],2)],1)]),t._v(" "),r("input",{attrs:{type:"hidden",name:"program_code"},domProps:{value:t.value}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"function_name"},domProps:{value:t.functionName}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"output"},domProps:{value:t.reportType}}),t._v(" "),r("div",{staticClass:"text-center mt-2"},[r("button",{class:t.transBtn.printReport.class,attrs:{type:"submit"}},[r("i",{class:t.transBtn.printReport.icon}),t._v(" "+t._s(t.transBtn.printReport.text))])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    เดือน "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    กลุ่ม "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    ประเภทประกันภัย "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])}],!1,null,null,null).exports;const m={props:["url","trans-date","trans-btn","default-program-code","infoAttributes","functionName"],data:function(){return{options:[],value:this.defaultProgramCode?this.defaultProgramCode:[],list:[],loading:!1,states:[],infos:[],programs:[],date:{},reportType:"pdf",errorLists:[],groupCodeList:[],renewTypeList:[],month:"",group_code:"",renew_type:"",month_value:""}},methods:{getYear:function(t,e){this.group_code_value="x111",this.month=t,t&&this.getGroupCode(),this.month_value=s()(t).add(-543,"years").format("Y-M-d")},checkForm:function(t){if(this.month&&this.group_code&&this.renew_type)return!0;swal({title:"Warning",text:"กรุณาระบุข้อมูลให้ครบถ้วน",type:"warning"}),t.preventDefault()},getGroupCode:function(){var t=this;console.log("func getGroupCode"),axios.get("/ir/reports/irr0009-2-get-group-code",{params:{month:this.month}}).then((function(e){t.groupCodeList=e.data.data})).catch((function(t){}))},getRenewType:function(){var t=this;axios.get("/ir/reports/irr0009-2-get-renew-type",{params:{month:this.month,group_code:this.group_code}}).then((function(e){t.renewTypeList=e.data.data})).catch((function(t){}))}}};const f=(0,d.Z)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{attrs:{action:t.url.getParam,method:"get",target:"_blank"},on:{submit:t.checkForm}},[r("hr",{staticClass:"m-3"}),t._v(" "),r("div",{staticClass:"row mb-2"},[t._m(0),t._v(" "),r("div",{staticClass:"col-6"},[r("datepicker-th",{staticClass:"form-control col-lg-12",staticStyle:{width:"100%","border-radius":"3px"},attrs:{id:"input_date",pType:"month",format:"MM/YYYY"},on:{dateWasSelected:function(e){for(var r=arguments.length,n=Array(r);r--;)n[r]=arguments[r];return t.getYear.apply(void 0,n.concat(["month"]))}},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"month"},domProps:{value:t.month}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"month_value"},domProps:{value:t.month_value}})],1)]),t._v(" "),r("div",{staticClass:"row"},[t._m(1),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.month},on:{change:function(e){return t.getRenewType()}},model:{value:t.group_code,callback:function(e){t.group_code=e},expression:"group_code"}},[t._l(t.groupCodeList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"group_code"},domProps:{value:t.group_code}})],2)],1)]),t._v(" "),r("div",{staticClass:"row mt-2"},[t._m(2),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:!this.group_code},model:{value:t.renew_type,callback:function(e){t.renew_type=e},expression:"renew_type"}},[t._l(t.renewTypeList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:"renew_type"},domProps:{value:t.renew_type}})],2)],1)]),t._v(" "),r("input",{attrs:{type:"hidden",name:"program_code"},domProps:{value:t.value}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"function_name"},domProps:{value:t.functionName}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"output"},domProps:{value:t.reportType}}),t._v(" "),r("div",{staticClass:"text-center mt-2"},[r("button",{class:t.transBtn.printReport.class,attrs:{type:"submit"}},[r("i",{class:t.transBtn.printReport.icon}),t._v(" "+t._s(t.transBtn.printReport.text))])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    เดือน "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    กลุ่ม "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                    ประเภทประกันภัย "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])}],!1,null,null,null).exports;function v(t,e,r,n,a,o,s){try{var i=t[o](s),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}function _(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){v(o,n,a,s,i,"next",t)}function i(t){v(o,n,a,s,i,"throw",t)}s(void 0)}))}}var h;const g={props:["url","trans-date","trans-btn","module","url-ger-param","default-program-code","url-sub-query"],components:{IRR0005_3:i.default,IRR0009_1:p,IRR0009_2:f},data:function(){return t={options:[],value:this.defaultProgramCode?this.defaultProgramCode:[],list:[],loading:!1,states:[],infos:[],programs:[],infoAttributes:[],date:{},functionName:"",functionReport:"",reportType:"pdf",errorLists:[]},r={},(e="loading")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t;var t,e,r},mounted:function(){var t=this;return _(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.defaultProgramCode&&t.getInfos(),e.next=3,t.test().then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})))()},methods:{remoteMethod:function(t){var e=this;return _(a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n={params:{module:[e.module],uQuery:t}},axios.get(e.urlGerParam,n).then((function(t){e.programs=t.data.programs,e.options=t.data.programs})).catch((function(t){}));case 2:case"end":return r.stop()}}),r)})))()},remote:function(t){var e=this;return _(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:""!==t?(e.loading=!0,setTimeout((function(){e.loading=!1,e.options=e.programs.filter((function(e){if(e.program_code)return e.program_code.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):e.options=[];case 1:case"end":return r.stop()}}),r)})))()},getData:function(t){var e=this;return _(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:axios.get(e.url.getInfor).then((function(t){e.programs=t.data.programs})).then((function(){e.list=e.infos.map((function(t){return{value:"value:".concat(t.program_code),label:"label:".concat(t.program_code)}}))})).catch((function(t){}));case 1:case"end":return t.stop()}}),t)})))()},getInfos:function(){var t=this;return _(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.infoAttributes=[],t.functionName="",t.errorLists=[],axios.get(t.url.getInfoAttribute+"?program_code="+t.value).then((function(e){t.infoAttributes=e.data.reportInfor,t.functionName=e.data.functionName,t.functionReport=e.data.functionReport,t.programs=e.data.programs,t.options=e.data.programs})).then((function(){})).catch((function(t){}));case 4:case"end":return e.stop()}}),e)})))()},getYear:function(t,e){"month"==e.date_type&&(e.form_value=s()(t).add(-543,"years").format(this.transDate["js-datatime-format"])),"year"==e.date_type&&(e.form_value=s()(t).add(-543,"years").format(this.transDate["js-year-format"])),"date"==e.date_type&&(e.form_value=s()(t).add(-543,"years").format(this.transDate["js-format"])),this.action(e)},exportReport:function(){},checkForm:function(t){var e=this;if(this.errorLists=[],this.infoAttributes.forEach((function(t){if(1==t.required&null==t.form_value){var r="โปรดระบุ.  "+t.display_value;e.errorLists.push(r)}})),0==this.errorLists.length)return!0;t.preventDefault()},selectedList:function(t){return t.value},action:function(t){var e=this;return _(a().mark((function r(){var n,o,s,i,c,u,l;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!1,n=e.infoAttributes.filter((function(e){return e.attribute_8==t.attribute_name||e.attribute_5==t.attribute_name||e.attribute_6==t.attribute_name})),(o=e.infoAttributes.filter((function(e){return e.attribute_4==t.attribute_name}))).length>0&&o.forEach((function(t){e.checkDisable(t,!1)})),0!=n.length){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,e.loadingQuery(n,!0);case 8:return s="",i="",c="",u="",n.forEach((function(t){"whereBetween"==t.attribute_7&&(s=e.infoAttributes.find((function(e){return e.attribute_name==t.attribute_5})),i=e.infoAttributes.find((function(e){return e.attribute_name==t.attribute_6})))})),""!=s&&(c=s.form_value),""!=i&&(u=i.form_value),l=n.map((function(t){return t.report_info_id})),r.next=18,e.subQuery(l,t.form_value,n,t.seq,c,u);case 18:case"end":return r.stop()}}),r)})))()},subQuery:function(t,e,r,n,o,s){var i=this;return _(a().mark((function c(){var u;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:u={params:{ids:t,value:e,value_start:o,value_end:s}},axios.get(i.urlSubQuery,u).then((function(t){console.log("then res"),t.data.reportInfos.forEach((function(t){console.log(t,"then");var r=i.infoAttributes.find((function(e){return e.report_info_id==t.report_info_id}));i.afterCall(r,e,n,t)}))})).then((function(){i.loadingQuery(r,!1)})).catch((function(t){i.loadingQuery(r,!1),swal("Error",t,"error !")})),console.log("end");case 3:case"end":return a.stop()}}),c)})))()},loadingQuery:function(t,e){return _(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},resetValueFormSeq:function(t){var e=this;this.infoAttributes.forEach((function(r){r.seq>t&(null!=r.attribute_8||null!=r.attribute_7)&&(r.form_value="",e.checkDisable(r,!0))}))},checkDisable:function(t,e){t.disable=e},afterCall:function(t,e,r,n){t&&(t.form_value="",t.lists=n.new_lists,""==e||null==e||"Invalid date"==e?(t.form_value="",this.resetValueFormSeq(r)):this.checkDisable(t,!1))},test:function(){var t=this;return _(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.test1();case 2:return e.next=4,t.test2();case 4:return e.next=6,t.test3();case 6:return e.next=8,t.test4();case 8:return e.abrupt("return","Success");case 9:case"end":return e.stop()}}),e)})))()},test1:function(){return new Promise((function(t,e){setTimeout((function(){return console.log(1),t("c")}),100)}))},test2:function(){return new Promise((function(t,e){setTimeout((function(){return console.log(2),t("reject")}),100)}))},test3:function(){return new Promise((function(t,e){setTimeout((function(){return console.log(3),t("c")}),100)}))},test4:function(){return new Promise((function(t,e){setTimeout((function(){return console.log(4),t("c")}),20)}))}},watch:{functionName:(h=_(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"IRR0005_3"!=this.functionName&&"IRR0009_1"!=this.functionName&&"IRR0009_2"!=this.functionName||(this.irReport=!0);case 1:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})}};const b=(0,d.Z)(g,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-select",{staticClass:"col-11",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a report ","remote-method":t.remoteMethod,clearable:""},on:{change:t.getInfos,input:function(e){return t.remoteMethod(" ")}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return r("el-option",{key:t.program_code,attrs:{label:t.program_code+" "+t.description,value:t.program_code}})})),1),t._v(" "),t.irReport&&"IRR0005_3"==t.functionName?r("div",[r("IRR0005_3",{attrs:{url:this.url,"trans-btn":this.transBtn,"trans-date":this.transDate,"default-program-code":this.value,"info-attributes":this.infoAttributes,"function-name":this.functionName}})],1):t._e(),t._v(" "),t.irReport&&"IRR0009_1"==t.functionName?r("div",[r("IRR0009_1",{attrs:{url:this.url,"trans-btn":this.transBtn,"trans-date":this.transDate,"default-program-code":this.value,"info-attributes":this.infoAttributes,"function-name":this.functionName}})],1):t._e(),t._v(" "),t.irReport&&"IRR0009_2"==t.functionName?r("div",[r("IRR0009_2",{attrs:{url:this.url,"trans-btn":this.transBtn,"trans-date":this.transDate,"default-program-code":this.value,"info-attributes":this.infoAttributes,"function-name":this.functionName}})],1):t._e(),t._v(" "),r("form",{attrs:{action:t.url.getParam,method:"get",target:"_blank"},on:{submit:t.checkForm}},[r("hr",{staticClass:"m-3"}),t._v(" "),t.infoAttributes.length>0?r("div",{staticClass:"form-group"},[t._l(t.infoAttributes,(function(e,n){return r("div",{key:n},["text"==e.form_type?r("div",{staticClass:"row m-2"},[r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("  "+t._s(e.display_value)+" "),"1"==e.required?r("span",{staticClass:"tw-text-red-400"},[t._v("* ")]):t._e()])]),t._v(" "),r("div",{staticClass:"col-6"},[r("input",{staticClass:"form-control w-100 ",attrs:{type:"text",name:e.attribute_name}})])]):t._e(),t._v(" "),"date"==e.form_type?r("div",{staticClass:"row m-2"},[r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v("\n                            "+t._s(e.display_value)+"  "),"1"==e.required?r("span",{staticClass:"tw-text-red-400"},[t._v("* ")]):t._e()])]),t._v(" "),r("div",{staticClass:"col-6"},[r("datepicker-th",{staticClass:"form-control col-lg-12",staticStyle:{width:"100%","border-radius":"3px"},attrs:{id:"input_date",pType:e.date_type,format:e.format_date},on:{dateWasSelected:function(r){for(var n=arguments.length,a=Array(n);n--;)a[n]=arguments[n];return t.getYear.apply(void 0,a.concat([e]))}},model:{value:e.attribute_name[e.id],callback:function(r){t.$set(e.attribute_name,e.id,r)},expression:"infoAttribute.attribute_name[infoAttribute.id]"}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form_value,expression:"infoAttribute.form_value"}],attrs:{type:"hidden",name:e.attribute_name},domProps:{value:e.form_value},on:{input:function(r){r.target.composing||t.$set(e,"form_value",r.target.value)}}})],1)]):t._e(),t._v(" "),"select"==e.form_type?r("div",{staticClass:"row m-2"},[r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v(t._s(e.display_value)+" "),"1"==e.required?r("span",{staticClass:"tw-text-red-400"},[t._v("* ")]):t._e()])]),t._v(" "),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"infoAttribute.loading"}],staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1,disabled:e.disable},on:{change:function(r){return t.action(e)}},model:{value:e.form_value,callback:function(r){t.$set(e,"form_value",r)},expression:"infoAttribute.form_value"}},[t._l(e.lists,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:e.attribute_name},domProps:{value:e.form_value}})],2)],1)]):t._e(),t._v(" "),"options"==e.form_type?r("div",{staticClass:"row m-2"},[r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v(t._s(e.display_value)+" "),"1"==e.required?r("span",{staticClass:"tw-text-red-400"},[t._v("* ")]):t._e()])]),t._v(" "),r("div",{staticClass:"col-6"},[r("el-select",{staticClass:"w-100 text-left",attrs:{filterable:"",clearable:"","popper-append-to-body":!1},model:{value:e.form_value,callback:function(r){t.$set(e,"form_value",r)},expression:"infoAttribute.form_value"}},[t._l(e.lists,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),r("input",{attrs:{type:"hidden",name:e.attribute_name},domProps:{value:e.form_value}})],2)],1)]):t._e()])})),t._v(" "),"Y"==t.functionReport.attribute_9?r("div",{staticClass:"row m-2"},[t._m(0),t._v(" "),r("div",{staticClass:"col-6"},[r("el-radio",{attrs:{label:"pdf"},model:{value:t.reportType,callback:function(e){t.reportType=e},expression:"reportType"}},[t._v(" PDF ")]),t._v(" "),r("el-radio",{attrs:{label:"excel"},model:{value:t.reportType,callback:function(e){t.reportType=e},expression:"reportType"}},[t._v(" Excel ")])],1)]):t._e(),t._v(" "),r("div",{staticClass:"row m-2"},[r("div",{staticClass:"col-12 text-center"},[t.errorLists.length>0?r("p"):t._e(),t._l(t.errorLists,(function(e,n){return r("div",{key:n,staticClass:"font-weight-bold text-danger"},[t._v("\n                            "+t._s(e)+"\n                        ")])})),t._v(" "),r("p")],2)]),t._v(" "),r("input",{attrs:{type:"hidden",name:"program_code"},domProps:{value:t.value}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"function_name"},domProps:{value:t.functionName}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"output"},domProps:{value:t.reportType}}),t._v(" "),r("div",{staticClass:"text-center"},[r("button",{class:t.transBtn.printReport.class,attrs:{type:"submit"}},[r("i",{class:t.transBtn.printReport.icon}),t._v(" "+t._s(t.transBtn.printReport.text))])])],2):t._e()])],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-1 col-3 text-right"},[r("div",[t._v(" ประเภทรายงาน "),r("span",{staticClass:"tw-text-red-400"},[t._v("* ")])])])}],!1,null,null,null).exports}}]);