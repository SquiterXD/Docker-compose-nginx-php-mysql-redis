(self.webpackChunk=self.webpackChunk||[]).push([[5338],{51546:(t,e,s)=>{"use strict";function a(t){return new Promise((function(e){swal({title:t,type:"warning",dangerMode:!0,showCancelButton:!0,closeOnCancel:!0,cancelButtonText:"ยกเลิก",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ยืนยัน"},(function(t){e(t)}))}))}function n(){return new Promise((function(t){swal({title:"\nคุณแน่ใจไหม?",text:"มีการเปลี่ยนแปลงข้อมูลโดยที่ยังไม่ได้บันทึก คุณต้องการดำเนินการต่อหรือไม่",type:"warning",dangerMode:!0,showCancelButton:!0,closeOnCancel:!0,cancelButtonText:"ยกเลิก",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ดำเนินการต่อ",allowClickOutside:!0,closeOnClickOutside:!0},(function(e){t(e)}))}))}function i(t){var e='<div style="text-align:left;">ข้อมูลที่คุณใส่ไม่ถูกต้องหรือไม่ครบถ้วน กรุณาตรวจสอบข้อมูลและลองใหม่อีกครั้ง<br/><br/></div>';return e+='<div style="text-align:left;color:red">',e+="<ul>",t.forEach((function(t){e+="<li>".concat(t,"<br/></li>")})),e+="</ul>",e+="</div>",new Promise((function(t){swal({title:"\nเกิดข้อผิดพลาด",text:e,type:"error",html:!0,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ตกลง"},(function(e){t(e)}))}))}function o(){return console.debug("showLoadingDialog"),new Promise((function(t){swal({title:'\n                    <div class="sk-spinner sk-spinner-wave mb-4">\n                        <div class="sk-rect1"></div>\n                        <div class="sk-rect2"></div>\n                        <div class="sk-rect3"></div>\n                        <div class="sk-rect4"></div>\n                        <div class="sk-rect5"></div>\n                    </div>\n                    กำลังดำเนินการ\n                    ',html:!0,showConfirmButton:!1,closeOnConfirm:!1},(function(e){t(e)}))}))}function r(){return new Promise((function(t){swal({title:"\nสำเร็จ",text:"บันทึกข้อมูลเรียบร้อย",type:"success",dangerMode:!1,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(e){t(e)}))}))}function l(){return new Promise((function(t){swal({title:"\nมีข้อผิดพลาด",text:"มีข้อผิดพลาดเกิดขึ้น ไม่สามารถบันทึกข้อมูลได้ กรุณาลองใหม่อีกครั้ง\n",type:"error",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(e){t(e)}))}))}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"มีข้อผิดพลาดเกิดขึ้น กรุณาลองใหม่อีกครั้ง\n";return new Promise((function(e){swal({title:"\nเกิดข้อผิดพลาด",text:t,type:"error",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(t){e(t)}))}))}function d(t){return new Promise((function(e){swal({title:"\nคุณต้องการลบข้อมูลที่ถูกเลือกทั้งหมด ".concat(t," แถวใช่หรือไม่?"),type:"warning",dangerMode:!0,showCancelButton:!0,closeOnCancel:!0,cancelButtonText:"ยกเลิก",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ยืนยัน"},(function(t){e(t)}))}))}s.d(e,{Y6:()=>a,HR:()=>n,BT:()=>i,ZD:()=>o,xK:()=>r,YM:()=>l,qV:()=>c,gC:()=>d})},95759:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var a=s(23645),n=s.n(a)()((function(t){return t[1]}));n.push([t.id,".table tbody tr.disable,.table td.g{background-color:#f2f2f2}",""]);const i=n},5338:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>d});var a=s(87757),n=s.n(a),i=s(51546);function o(t,e,s,a,n,i,o){try{var r=t[i](o),l=r.value}catch(t){return void s(t)}r.done?e(l):Promise.resolve(l).then(a,n)}function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}const c={props:["headers","lines","distributions","steps"],data:function(){return{header:{batch_no:"",product_type:"",item_code:"",item_desc:"",request_qty:"",uom:"",blend_no:"",start_date:"",product_qty:""},lookupSteps:[],stepCode:"",stepDesc:"",selectedLines:[],displayProdDate:"",selectedDistributions:[],lineIdx:""}},computed:{sumTotal1:function(){var t=this,e=0;return this.selectedDistributions.forEach((function(s,a){e+=t.total1(a)})),e},sumTotalLoss:function(){var t=0;return this.selectedDistributions.forEach((function(e){e.loss_qty>0&&(t+=parseInt(e.loss_qty))})),t},sumTotalResultLoss:function(){var t=0;return this.selectedDistributions.forEach((function(e){e.result_loss_qty>0&&(t+=parseInt(e.result_loss_qty))})),null!=this.lineIdx&&(this.selectedLines[this.lineIdx].loss_qty=t),t},sumTotalSample:function(){var t=0;return this.selectedDistributions.forEach((function(e){t+=0,e.sample_qty>0&&(t+=parseInt(e.sample_qty))})),t},sumTotalProd:function(){var t=this,e=0;return this.selectedDistributions.forEach((function(s,a){e+=t.total2(a)})),null!=this.lineIdx&&(this.selectedLines[this.lineIdx].product_qty=e),e}},methods:{resetForm:function(){this.header={batch_no:"",product_type:"",item_code:"",item_desc:"",request_qty:"",uom:"",blend_no:"",start_date:"",product_qty:""},this.lookupSteps=[],this.stepCode="",this.stepDesc="",this.selectedLines=[],this.displayProdDate="",this.selectedDistributions=[]},validate:function(){var t=[];return this.header.batch_no||t.push("ยังไม่ได้เลือก Header"),0==this.selectedLines.length&&t.push("ยังไม่ได้เลือก Line"),0==this.selectedDistributions.length&&t.push("ยังไม่ได้เลือก Distribution"),!(t.length>0)||((0,i.BT)(t),!1)},saveForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(console.log("saveForm!!!"),this.validate()){var e={header:this.header,lines:this.selectedLines,distributions:this.selectedDistributions};return axios.put("/api/pm/pm0025/"+this.header.batch_id,e).then((function(e){200==e.status&&(console.log(e),t&&(0,i.xK)())})).catch((function(t){swal.close(),console.log(t)}))}},onChangeLookupHeader:function(){var t=this;this.lookupSteps=[];var e=this.headers.findIndex((function(e){return e.batch_no==t.header.batch_no}));this.header=this.headers[e];var s=this.lines.filter((function(e){return e.batch_id==t.header.batch_id}));r(new Set(s.map((function(t){return t.wip_step})))).map((function(e){return t.lookupSteps.push({code:e})}))},onChangeLookupStep:function(){var t=this,e=this.steps.findIndex((function(e){return e.lookup_code==t.stepCode}));this.stepDesc=e>=0?this.steps[e].meaning:"-",this.selectedLines=[],this.selectedLines=this.lines.filter((function(e){return e.batch_id==t.header.batch_id&&e.wip_step==t.stepCode})),this.selectedDistributions=[]},selectLine:function(t,e,s,a){var n=this;this.displayProdDate=e,this.lineIdx=a,this.selectedDistributions=this.distributions.filter((function(t){return t.batch_id==n.header.batch_id&&t.product_date==e&&t.wip_step==s}))},onClickUseProd:function(t){var e,s=this;return(e=n().mark((function e(){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.saveForm(!1);case 2:a={batch_id:s.selectedDistributions[t].batch_id,wip_step:s.selectedDistributions[t].wip_step,product_date:s.selectedDistributions[t].product_date,machine_set:s.selectedDistributions[t].machine_set},axios.put("/api/pm/transaction-pkg-product",a).then((function(e){200==e.status&&(s.selectedDistributions[t].transaction_flag=!0,s.setLineTxFlg(),console.log(e),(0,i.xK)())})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(a,n){var i=e.apply(t,s);function r(t){o(i,a,n,r,l,"next",t)}function l(t){o(i,a,n,r,l,"throw",t)}r(void 0)}))})()},setLineTxFlg:function(){var t=!0;this.selectedDistributions.forEach((function(e){e.transaction_flag||(t=!1)})),this.selectedLines[this.lineIdx].transaction_flag=t},total1:function(t){var e=0;return this.selectedDistributions[t].result_qty_01>0&&(e+=parseInt(this.selectedDistributions[t].result_qty_01)),this.selectedDistributions[t].result_qty_02>0&&(e+=parseInt(this.selectedDistributions[t].result_qty_02)),this.selectedDistributions[t].result_qty_03>0&&(e+=parseInt(this.selectedDistributions[t].result_qty_03)),this.selectedDistributions[t].result_qty_04>0&&(e+=parseInt(this.selectedDistributions[t].result_qty_04)),e},total2:function(t){var e=this.total1(t),s=this.selectedDistributions[t].sample_qty>0?this.selectedDistributions[t].sample_qty:0,a=parseInt(e)+parseInt(s);return a},totalTranWip:function(t){var e=0;return this.selectedLines[t].receive_wip>0&&(e+=parseInt(this.selectedLines[t].receive_wip)),this.selectedLines[t].product_qty>0&&(e+=parseInt(this.selectedLines[t].product_qty)),this.selectedLines[t].loss_qty>0&&(e-=parseInt(this.selectedLines[t].loss_qty)),this.selectedLines[t].transfer_qty>0&&(e-=parseInt(this.selectedLines[t].transfer_qty)),this.selectedLines[t].transfer_wip=e,this.selectedLines[t+1]&&(this.selectedLines[t+1].receive_wip=e,this.totalTranWip(t+1)),e}}};s(23586);const d=(0,s(51900).Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"ibox "},[t._m(0),t._v(" "),s("div",{staticClass:"ibox-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"form-group row"},[t._m(1),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("el-select",{attrs:{filterable:"",remote:"",placeholder:"ระบุเลขที่คำสั่งผลิต",loading:!1},on:{change:t.onChangeLookupHeader},model:{value:t.header.batch_no,callback:function(e){t.$set(t.header,"batch_no",e)},expression:"header.batch_no"}},t._l(this.headers,(function(t){return s("el-option",{key:t.batch_no,attrs:{label:t.batch_no,value:t.batch_no}})})),1)],1)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("สินค้าที่จะผลิต:")]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.item_code,expression:"header.item_code"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.header.item_code},on:{input:function(e){e.target.composing||t.$set(t.header,"item_code",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.item_desc,expression:"header.item_desc"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.header.item_desc},on:{input:function(e){e.target.composing||t.$set(t.header,"item_desc",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("จำนวนที่สั่งผลิต:")]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.request_qty,expression:"header.request_qty"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.header.request_qty},on:{input:function(e){e.target.composing||t.$set(t.header,"request_qty",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.uom,expression:"header.uom"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.header.uom},on:{input:function(e){e.target.composing||t.$set(t.header,"uom",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"form-group row"},[t._m(2),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("el-select",{attrs:{filterable:"",remote:"",placeholder:"ระบุขั้นตอนการทำงาน",loading:!1,disabled:""==t.header.batch_no},on:{change:t.onChangeLookupStep},model:{value:t.stepCode,callback:function(e){t.stepCode=e},expression:"stepCode"}},t._l(this.lookupSteps,(function(t){return s("el-option",{key:t.code,attrs:{label:t.code,value:t.code}})})),1)],1),t._v(" "),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.stepDesc,expression:"stepDesc"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.stepDesc},on:{input:function(e){e.target.composing||(t.stepDesc=e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("ประเภทคำสั่งผลิต:")]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.product_type,expression:"header.product_type"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.header.product_type},on:{input:function(e){e.target.composing||t.$set(t.header,"product_type",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("Blend No.:")]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.blend_no,expression:"header.blend_no"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.header.blend_no},on:{input:function(e){e.target.composing||t.$set(t.header,"blend_no",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("วันที่เริ่มผลิต:")]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.start_date,expression:"header.start_date"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.header.start_date},on:{input:function(e){e.target.composing||t.$set(t.header,"start_date",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("ผลผลิตที่ได้:")]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.product_qty,expression:"header.product_qty"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.header.product_qty},on:{input:function(e){e.target.composing||t.$set(t.header,"product_qty",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.header.uom,expression:"header.uom"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.header.uom},on:{input:function(e){e.target.composing||t.$set(t.header,"uom",e.target.value)}}})])])])])])])])]),t._v(" "),s("p",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.resetForm(e)}}},[s("i",{staticClass:"fa fa-refresh"}),t._v("\n                ล้างค่า\n            ")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.saveForm(e)}}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                บันทึก\n            ")])]),t._v(" "),s("div",{staticClass:"ibox"},[t._m(3),t._v(" "),s("div",{staticClass:"ibox-content"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered"},[t._m(4),t._v(" "),t.selectedLines.length?s("tbody",t._l(t.selectedLines,(function(e,a){return s("tr",{key:a,class:{disable:e.transaction_flag}},[s("td",{staticClass:"g"},[s("a",{staticClass:"text-info",on:{click:function(s){return s.preventDefault(),t.selectLine(e.batch_id,e.product_date,e.wip_step,a)}}},[t._v(t._s(e.product_date))])]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.receive_wip))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.product_qty))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.loss_qty))]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transfer_qty,expression:"line.transfer_qty"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag,min:"0"},domProps:{value:e.transfer_qty},on:{input:function(s){s.target.composing||t.$set(e,"transfer_qty",s.target.value)}}})]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.totalTranWip(a)))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.uom))]),t._v(" "),s("td",{staticClass:"g"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transaction_flag,expression:"line.transaction_flag"}],attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(e.transaction_flag)?t._i(e.transaction_flag,null)>-1:e.transaction_flag},on:{change:function(s){var a=e.transaction_flag,n=s.target,i=!!n.checked;if(Array.isArray(a)){var o=t._i(a,null);n.checked?o<0&&t.$set(e,"transaction_flag",a.concat([null])):o>-1&&t.$set(e,"transaction_flag",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"transaction_flag",i)}}})])])})),0):s("tbody",[t._m(5)])])])])]),t._v(" "),s("div",{staticClass:"ibox"},[s("div",{staticClass:"ibox-title"},[s("h3",[t._v("บันทึกผลผลิตรายวันรายเครื่อง "+t._s(t.displayProdDate))])]),t._v(" "),s("div",{staticClass:"ibox-content"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered"},[t._m(6),t._v(" "),t.selectedDistributions.length?s("tbody",[t._l(t.selectedDistributions,(function(e,a){return s("tr",{key:a,class:{disable:e.transaction_flag}},[s("td",{staticClass:"g"},[t._v(t._s(e.machine_set))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.machine_number))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.qty_01))]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.result_qty_01,expression:"distribution.result_qty_01"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag,min:"0"},domProps:{value:e.result_qty_01},on:{input:function(s){s.target.composing||t.$set(e,"result_qty_01",s.target.value)}}})]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.qty_02))]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.result_qty_02,expression:"distribution.result_qty_02"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag,min:"0"},domProps:{value:e.result_qty_02},on:{input:function(s){s.target.composing||t.$set(e,"result_qty_02",s.target.value)}}})]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.qty_03))]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.result_qty_03,expression:"distribution.result_qty_03"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag,min:"0"},domProps:{value:e.result_qty_03},on:{input:function(s){s.target.composing||t.$set(e,"result_qty_03",s.target.value)}}})]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.qty_04))]),t._v(" "),s("td",{class:{g:null==e.qty_04}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.result_qty_04,expression:"distribution.result_qty_04"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag||null==e.qty_04,min:"0"},domProps:{value:e.result_qty_04},on:{input:function(s){s.target.composing||t.$set(e,"result_qty_04",s.target.value)}}})]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.total1(a)))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.loss_qty))]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.result_loss_qty,expression:"distribution.result_loss_qty"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag,min:"0"},domProps:{value:e.result_loss_qty},on:{input:function(s){s.target.composing||t.$set(e,"result_loss_qty",s.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.sample_qty,expression:"distribution.sample_qty"}],staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:e.transaction_flag,min:"0"},domProps:{value:e.sample_qty},on:{input:function(s){s.target.composing||t.$set(e,"sample_qty",s.target.value)}}})]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.total2(a)))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(e.unit_of_measure))]),t._v(" "),s("td",{staticClass:"g"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transaction_flag,expression:"distribution.transaction_flag"}],attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(e.transaction_flag)?t._i(e.transaction_flag,null)>-1:e.transaction_flag},on:{change:function(s){var a=e.transaction_flag,n=s.target,i=!!n.checked;if(Array.isArray(a)){var o=t._i(a,null);n.checked?o<0&&t.$set(e,"transaction_flag",a.concat([null])):o>-1&&t.$set(e,"transaction_flag",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"transaction_flag",i)}}})]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:e.transaction_flag},on:{click:function(e){return e.preventDefault(),t.onClickUseProd(a)}}},[t._v("ตัดใช้วัตถุดิบ\n                                ")])])])})),t._v(" "),s("tr",[s("td",{staticClass:"g text-right",attrs:{colspan:"10"}},[t._v("ยอดรวมทุกเครื่อง")]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.sumTotal1))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.sumTotalLoss))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.sumTotalResultLoss))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.sumTotalSample))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.sumTotalProd))]),t._v(" "),s("td",{staticClass:"g"},[t._v(t._s(t.selectedLines[t.lineIdx].uom))]),t._v(" "),s("td",{staticClass:"g"}),t._v(" "),s("td",{staticClass:"g"})])],2):s("tbody",[t._m(7)])])])])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ibox-title"},[s("h3",[t._v("ยืนยันยอดผลผลิตสูญ,สูญเสีย (มวน)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("เลขที่คำสั่งผลิต "),s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"col-lg-3 col-sm-4 col-form-label"},[t._v("ขั้นตอนการทำงาน"),s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ibox-title"},[s("h3",[t._v("บันทึกผลผลิตรายวัน")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("วันที่ได้ผลผลิต")]),t._v(" "),s("th",[t._v("คงคลังเช้า")]),t._v(" "),s("th",[t._v("ผลผลิตที่ได้")]),t._v(" "),s("th",[t._v("สูญเสีย")]),t._v(" "),s("th",[t._v("จ่ายออก"),s("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),s("th",[t._v("คงคลังเย็น(WIP)")]),t._v(" "),s("th",[t._v("หน่วยนับ")]),t._v(" "),s("th",[t._v("ตัดใช้วัตถุดิบ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{colspan:"8"}},[t._v("ไม่มีข้อมูล")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",{attrs:{align:"center"}},[s("th",{attrs:{rowspan:"2"}},[t._v("ชุดเครื่องจักร")]),t._v(" "),s("th",{staticStyle:{width:"150px"},attrs:{rowspan:"2"}},[t._v("หมายเลขเครื่องจักร")]),t._v(" "),s("th",{attrs:{colspan:"2"}},[t._v("ช่วงเวลา 07.30-11.30")]),t._v(" "),s("th",{attrs:{colspan:"2"}},[t._v("ช่วงเวลา 11.30-12.30")]),t._v(" "),s("th",{attrs:{colspan:"2"}},[t._v("ช่วงเวลา 12.30-16.30")]),t._v(" "),s("th",{attrs:{colspan:"2"}},[t._v("ช่วงเวลา 16.30เป็นต้นไป")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("ยอดผลผลิตรวมทั้งวัน")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("ยอดสูญเสียรวมทั้งวัน")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("ยืนยันยอดสูญเสียรวมทั้งวัน")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("จำนวนบุหรี่ตัวอย่าง")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("รวมยอดบุหรี่")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("หน่วยนับ")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("ตัดใช้วัตถุดิบ")]),t._v(" "),s("th",{attrs:{rowspan:"2"}})]),t._v(" "),s("tr",{attrs:{align:"center"}},[s("th",[t._v("ผลผลิตที่ได้")]),t._v(" "),s("th",[t._v("ยืนยันยอดผลผลิต")]),t._v(" "),s("th",[t._v("ผลผลิตที่ได้")]),t._v(" "),s("th",[t._v("ยืนยันยอดผลผลิต")]),t._v(" "),s("th",[t._v("ผลผลิตที่ได้")]),t._v(" "),s("th",[t._v("ยืนยันยอดผลผลิต")]),t._v(" "),s("th",[t._v("ผลผลิตที่ได้")]),t._v(" "),s("th",[t._v("ยืนยันยอดผลผลิต")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{colspan:"18"}},[t._v("ไม่มีข้อมูล")])])}],!1,null,null,null).exports},23586:(t,e,s)=>{var a=s(95759);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,s(45346).Z)("b304b6ce",a,!0,{})}}]);