(self.webpackChunk=self.webpackChunk||[]).push([[6094],{46094:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});var s=a(87757),n=a.n(s);function i(t,e,a,s,n,i,r){try{var c=t[i](r),o=c.value}catch(t){return void a(t)}c.done?e(o):Promise.resolve(o).then(s,n)}const r={props:["groupProducts","btnTrans"],data:function(){return{loading:!1}},computed:{},mounted:function(){$(".table-test").dataTable({searching:!1,bInfo:!1,order:[[0,"asc"],[1,"asc"],[2,"asc"]],columnDefs:[{orderable:!1,targets:5}]})},methods:{changeActive:function(t,e){var a,s=this;return(a=n().mark((function a(){var i;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.loading=!0,i={group_product_id:t.group_product_id,active_flag:e?"Y":"N"},a.next=4,axios.get("/ir/ajax/product-groups/updateActiveFlag",{params:i}).then((function(t){"success"==t.data.status?(swal({title:"Success !",text:"บันทึกสำเร็จ",type:"success",showConfirmButton:!0}),s.loading=!1,setTimeout((function(){window.location.reload(!1)}),3e3)):(swal({title:"Error !",text:"ไม่สามารถปิดการใช้งานได้ เนื่องจากมีการใช้งานอยู่",type:"error",showConfirmButton:!0}),s.loading=!1,setTimeout((function(){window.location.reload(!1)}),3e3))}));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),a)})),function(){var t=this,e=arguments;return new Promise((function(s,n){var r=a.apply(t,e);function c(t){i(r,s,n,c,o,"next",t)}function o(t){i(r,s,n,c,o,"throw",t)}c(void 0)}))})()}}};const c=(0,a(51900).Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("table",{staticClass:"table table-test table table-bordered"},[t._m(0),t._v(" "),0!=this.groupProducts.length?a("tbody",t._l(t.groupProducts,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"},attrs:{"data-sort":e.policy_set_headers.policy_set_number}},[t._v("\n                    "+t._s(null!=e.policy_set_headers?e.policy_set_headers.policy_set_number+" : "+e.policy_set_headers.policy_set_description:"")+"\n                ")]),t._v(" "),a("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"},attrs:{"data-sort":e.asset_group.meaning}},[t._v("\n                    "+t._s(e.asset_group?e.asset_group.meaning+" : "+e.asset_group.description:"")+"\n                ")]),t._v(" "),a("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t._v("\n                    "+t._s(e.description)+"\n                ")]),t._v(" "),a("td",{staticClass:"text-left",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t._v("\n                    "+t._s(e.mapping_acc?e.mapping_acc.account_combine:"")+"\n                ")]),t._v(" "),a("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{"data-sort":"Y"==e.active_flag}},[a("el-checkbox",{attrs:{checked:"Y"==e.active_flag},on:{change:function(a){return t.changeActive(e,e.flag)}},model:{value:e.flag,callback:function(a){t.$set(e,"flag",a)},expression:"data.flag"}})],1),t._v(" "),a("td",{staticClass:"text-center",staticStyle:{"font-size":"12px","vertical-align":"middle"}},[a("a",{class:t.btnTrans.edit.class+" btn-xs",attrs:{type:"button",href:"/ir/settings/product-groups/"+e.group_product_id+"/edit"}},[a("i",{class:t.btnTrans.edit.icon,attrs:{"aria-hidden":"true"}}),t._v(" \n                        "+t._s(t.btnTrans.edit.text)+"\n                    ")])])])})),0):a("tbody",[t._m(1)])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"15%"}},[a("div",[t._v("กรมธรรม์ชุดที่")])]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"20%"}},[a("div",[t._v("กลุ่มของทรัพย์สิน")])]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"20%"}},[a("div",[t._v("รายการ")])]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"20%"}},[a("div",[t._v("รหัสบัญชี")])]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{width:"1%"}},[a("div",[t._v("Active")])]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"font-size":"12px","background-color":"#fff"},attrs:{width:"10%"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-center",staticStyle:{"font-size":"18px","vertical-align":"middle"},attrs:{colspan:"6"}},[t._v("ไม่พบข้อมูล")])])}],!1,null,null,null).exports}}]);