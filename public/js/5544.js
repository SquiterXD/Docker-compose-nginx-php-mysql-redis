(self.webpackChunk=self.webpackChunk||[]).push([[5544,7213],{84889:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});var n=a(23645),c=a.n(n)()((function(t){return t[1]}));c.push([t.id,"td[data-v-4fffd250],th[data-v-4fffd250]{padding:.25rem}th[data-v-4fffd250]{background:#fff;position:-webkit-sticky;position:sticky;top:0}",""]);const r=c},95544:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>_});var n=a(57213);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const i={name:"ir-settings-company-table",data:function(){return{}},props:["isNullOrUndefined","tableCompany","setDefaultActive","btnTrans"],methods:{changeChecked:function(t,e){var a=this,n=r(r({},t),{},{active_flag:t.active_flag?"Y":"N"});axios.put("/ir/ajax/company/active-flag",{data:n}).then((function(t){var e=t.data;swal({title:"Success",text:e.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})).catch((function(t){400===t.response.data.status?swal({title:"Warning",text:t.response.data.message,type:"warning"},(function(t){t&&a.setDefaultActive("table_company_active".concat(e))})):swal("Error",t,"error")}))}}};var o=a(93379),l=a.n(o),p=a(84889),u={insert:"head",singleton:!1};l()(p.Z,u);p.Z.locals;var d=a(51900);const f=(0,d.Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-bordered",style:0===t.tableCompany.length?"":"display: block; overflow: auto; max-height: 500px;"},[t._m(0),t._v(" "),a("tbody",[t._l(t.tableCompany,(function(e,n){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.tableCompany.length>0,expression:"tableCompany.length > 0"}],key:n},[a("td",{staticClass:"text-center"},[t._v(t._s(t.isNullOrUndefined(e.company_number)))]),t._v(" "),a("td",[t._v(t._s(t.isNullOrUndefined(e.company_name)))]),t._v(" "),a("td",{staticClass:"text-center"},[a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.active_flag,expression:"data.active_flag"}],class:"form-check-input table_company_active"+n,staticStyle:{position:"inherit"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active_flag)?t._i(e.active_flag,null)>-1:e.active_flag},on:{change:[function(a){var n=e.active_flag,c=a.target,r=!!c.checked;if(Array.isArray(n)){var s=t._i(n,null);c.checked?s<0&&t.$set(e,"active_flag",n.concat([null])):s>-1&&t.$set(e,"active_flag",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(e,"active_flag",r)},function(a){return t.changeChecked(e,n)}]}})])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{class:t.btnTrans.edit.class+" btn-sm tw-w-25",attrs:{type:"button",href:"/ir/settings/company/edit/"+e.company_id}},[a("i",{class:t.btnTrans.edit.icon}),t._v(" "+t._s(t.btnTrans.edit.text)+"\n          ")])])])})),t._v(" "),0===t.tableCompany.length?a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"4"}},[t._v("ไม่มีข้อมูล")])]):t._e()],2),t._v(" "),a("tfoot")])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"25%"}},[t._v("Code "),a("br"),t._v("รหัส")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"50%"}},[t._v("Name "),a("br"),t._v("ชื่อ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px",width:"25%","vertical-align":"middle"}},[t._v("Active")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px",width:"25%","vertical-align":"middle"}},[t._v("Action")])])])}],!1,null,"4fffd250",null).exports;var m=a(67791);function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const b={name:"ir-settings-company-index",props:["btnTrans"],data:function(){return{search:{company_id:"",active_flag:""},tableCompany:[],funcs:m.sD}},methods:{getTableCompany:function(){var t=this,e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.search);axios.get("/ir/ajax/company",{params:e}).then((function(e){var a=e.data.data;for(var n in a){var c=a[n];"Y"===c.active_flag?c.active_flag=!0:c.active_flag=!1}t.tableCompany=a})).catch((function(t){swal("Error",t,"error")}))},getDataSearch:function(t){this.search=t,this.getTableCompany()}},components:{"search-comp":n.default,"table-comp":f},created:function(){this.getTableCompany()}};const _=(0,d.Z)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search-comp",{attrs:{search:t.search,"btn-trans":t.btnTrans},on:{"click-search":t.getDataSearch}}),t._v(" "),a("table-comp",{attrs:{isNullOrUndefined:t.funcs.isNullOrUndefined,tableCompany:t.tableCompany,setDefaultActive:t.funcs.setDefaultActive,"btn-trans":t.btnTrans}})],1)}),[],!1,null,null,null).exports},57213:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});const n={name:"ir-settings-company-search",data:function(){return{companies:[],loading:!1,create:{company_number:"",company_name:"",company_address:"",company_telephone:"",vendor_id:"",vendor_site_id:"",customer_id:"",active_flag:!0,company_id:""}}},props:["search","btnTrans"],methods:{remoteMethodCompany:function(t){this.getCompanies({company_id:"",keyword:t})},getCompanies:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/companies",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.companies=a})).catch((function(t){return consle.log("error ",t)}))},clickSearch:function(){this.$emit("click-search",this.search)},focusCompany:function(t){this.getCompanies({company_id:"",keyword:""})},clickCancel:function(){window.location.href="/ir/settings/company"}},mounted:function(){this.getCompanies({company_id:"",keyword:""})}};const c=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-md-6 el_select padding_12"},[a("el-select",{attrs:{filterable:"",placeholder:"ระบุข้อมูลผู้รับประกัน",name:"company_id","remote-method":t.remoteMethodCompany,loading:t.loading,remote:"",clearable:""},on:{focus:t.focusCompany},model:{value:t.search.company_id,callback:function(e){t.$set(t.search,"company_id",e)},expression:"search.company_id"}},t._l(t.companies,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_number+": "+t.company_name,value:t.company_id}})})),1)],1),t._v(" "),a("div",{staticClass:"col-xl-4 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"Status",name:"active_flag",clearable:!0},model:{value:t.search.active_flag,callback:function(e){t.$set(t.search,"active_flag",e)},expression:"search.active_flag"}},[a("el-option",{attrs:{label:"Active",value:"Y"}}),t._v(" "),a("el-option",{attrs:{label:"Inactive",value:"N"}})],1)],1),t._v(" "),a("div",{staticClass:"col-xl-4 padding_12 margin_auto_btn_search"},[a("button",{class:t.btnTrans.search.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.clickSearch()}}},[a("i",{class:t.btnTrans.search.icon}),t._v("\n        "+t._s(t.btnTrans.search.text)+"\n      ")]),t._v(" "),a("button",{class:t.btnTrans.reset.class+" btn-lg tw-w-25",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.clickCancel()}}},[a("i",{class:t.btnTrans.reset.icon}),t._v("\n        "+t._s(t.btnTrans.reset.text)+"\n      ")])])])}),[],!1,null,null,null).exports}}]);