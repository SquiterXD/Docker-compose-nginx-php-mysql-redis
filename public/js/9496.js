(self.webpackChunk=self.webpackChunk||[]).push([[9496],{67791:(e,t,a)=>{"use strict";a.d(t,{gR:()=>n,R_:()=>r,sD:()=>o});var i=a(30381),s=a.n(i),n={formatDate:"DD/MM/YYYY",formatMonth:"MM/YYYY",formatYear:"YYYY",monthNameShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},r={irp0001_table_header:[{document_number:"",status:"NEW",period_year:"2020",period_name:"Jan-20",period_from:"12/01/2020",period_to:"12/01/2020",policy_set_number:"1",policy_set_description:"POLICY SET DESCRIPTION",department_code:"DEPARTMENT CODE",department_desc:"DEPARTMENT DESC"}],irp0001_table_line:[{line_number:"1",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"INTERFACE",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"3",status:"NEW",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"},{line_number:"2",status:"CONFIRMED",period_from:"01/2020",period_to:"01/2020",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"12",unit_price:"12",line_amount:"1212",coverage_amount:"343",calculate_start_date:"12/04/2021",calculate_end_date:"15/04/2021",calculate_days:"4",line_type:"MANUAL"}],irp0010_table_header:[{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},{claim_header_id:"2",status:"INTERFACE",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"}],irp0010_form:{headers:{claim_header_id:"1",status:"NEW",document_number:"Dept-Year-XXX",accident_date:"04/08/2019",accident_time:"22:00",location_code:"",location_name:"สถานีใบยาดอนนางหงส์",department_code:"10000000",department_name:"ผู้ว่าการการยาสูบแห่งประเทศไทย",requestor_id:"",requestor_name:"นายคนดี ว่องไว",requestor_tel:"02-345-6667",claim_amount:"400000",year:"2020"},apply:{apply_company:[{company_id:55,company_name:"บริษัท เทเวศประกันภัย จำกัด (มหาชน)",claim_percent:"40",claim_amount:"140000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""},{company_id:54,company_name:"บริษัท ทิพยประกันภัย จำกัด (มหาชน)",claim_percent:"60",claim_amount:"160000",apply_details:[{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันไหลเข้าไปในโรงซื้อใบยาสด - เก็บใบยาแห้ง ทำให้ทรัพย์สินได้รับความเสียหาย",line_amount:"100000",claim_detail_id:""},{line_number:"",line_description:"เกิดฝนตกหนัก ทำให้เกิดน้ำท่วมฉับพลันทำให้อาคารเสียหาย",line_amount:"60000",claim_detail_id:""}],informant_date:"04/08/2020",invoice_date:"15/03/2020",gl_date:"15/03/2020",ar_invoice_num:"120091228",policy_number:"14016-114-06000",ar_receipt_date:"15/03/2020",ar_receipt_id:"",ar_receipt_number:"RE12110333",ar_received_amount:"350674.21",claim_apply_id:"",ar_invoice_id:""}]}},irp0002_table_line:[{status:"NEW",line_number:"",period_name:"Jan-20",organization_code:"ORGANIZATION CODE",sub_inventory_code:"SUB INVENTORY CODE",sub_inventory_desc:"SUB INVENTORY DESC",location_code:"LOCATION CODE",location_desc:"LOCATION DESC",item_code:"ITEM CODE",item_description:"ITEM DESCRIPTION",uom_code:"UOM CODE",uom_description:"UOM DESCRIPTION",original_quantity:"111",unit_price:"2",line_amount:"222",coverage_amount:"230",calculate_days:"2",calculate_start_date:"12/01/2020",calculate_end_date:"15/01/2020"}]},o={setFirstLetterUpperCase:function(e){if(e&&null!=e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}return e},setYearCE:function(e,t){var a="",i="month"===e?n.formatMonth:"date"===e?n.formatDate:"year"===e?n.formatYear:"";return t&&i?a=s()(s()(t,i).subtract(543,"years").toDate()).format(i):a},setYearBE:function(e,t){var a="",i="month"===e?n.formatMonth:"date"===e?n.formatDate:"year"===e?n.formatYear:"";return t&&i?a=s()(s()(t,i).add(543,"years").toDate()).format(i):a},showYearBE:function(e,t){var a="";if("month"===e&&t&&null!=t){var i=t.split("/"),s=+i[1]+543;return a="".concat(i[0],"/").concat(s)}if("date"===e&&t&&null!=t){var n=t.split("/"),r=+n[2]+543;return a="".concat(n[0],"/").concat(n[1],"/").concat(r)}return"year"===e&&t&&null!=t?+t+543:a},getTime:function(e){var t="";if(e&&null!=e){var a=e.split("/");return t=new Date("".concat(a[1],"/").concat(a[0],"/").concat(a[2])).getTime()}return t},calculateDate:function(e,t){var a="",i="";if(e&&t){var s=o.getTime(e),n=o.getTime(t);a=(i=Math.round(Math.abs((n-s)/864e5)))?i+1:i}return a},checkStatusInterface:function(e){return!(!e||"INTERFACE"!==e.toUpperCase())},checkStatusCancelled:function(e){return!(!e||"CANCELLED"!==e.toUpperCase())},isNullOrUndefined:function(e){return null==e?"":e},formatCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="";if(e||0===e){a=parseFloat(e);var i=e.toString().split(".");if(void 0===i[1]){var s=parseInt(i[0]).toFixed(t).split(".")[1];return"".concat(parseInt(i[0]).toLocaleString(),".").concat(s)}if(0==a.toString().split(".")[0]){var n=a.toFixed(t).split(".")[1];return"".concat(a.toString().split(".")[0],".").concat(n)}var r=a.toFixed(t).split(".")[1],o="".concat(parseInt(i[0]).toLocaleString(),".").concat(r);return o}return a},formatfloat:function(e){return e.slice(0,e.indexOf(".")+1+2)},checkStatusConfirmed:function(e){if(e)return"CONFIRMED"===e.toUpperCase()},showPeriodNameFormat:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1])),i=a.getFullYear(),s=1===(a.getMonth()+1).toString().length?"0".concat(a.getMonth()+1):a.getMonth()+1;return"".concat(s,"/").concat(i+543)}return e},setValuePeriodNameFormat:function(e){var t="";if(e&&null!=e){var a=n.monthNameShort[e.getMonth()],i=(+e.getFullYear()-543).toString(),s=i.substr(i.length-2);t="".concat(a,"-").concat(s)}return t},checkStatusNew:function(e){if(e&&"NEW"===e.toUpperCase())return!0},calculateDateMomentTable:function(e){var t=n.formatDate,a="",i="",r="",o=e.start_calculate_date,l=e.end_calculate_date;if(o&&l){var c=helperDate.convertDate(o,t),d=helperDate.convertDate(l,t);c.then((function(n){a=s()(n,t),d.then((function(n){i=s()(n,t),r=i.diff(a,"days"),e.days=-1===Math.sign(r)?"":r+1}))}))}else e.days=""},covertFomatDateMoment:function(e,t){var a="date"===t?n.formatDate:"month"===t?n.formatMonth:"year"===t?n.formatYear:"";return e&&t?s()(e).format(a):""},setBudgetYearFromFieldStCalendar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",a=("date"===t?n.formatDate:"month"===t?n.formatMonth:"year"===t&&n.formatYear,"");if(e){var i=e.getFullYear(),r=s()({year:i,month:8,date:30}),o=s()({year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),l=o.isAfter(r)?1:0;return s()(s()({year:i+l,month:8,date:30}),n.formatDate).toDate()}return a},setLabelStatusAsset:function(e){return"Y"===e?"Active":"N"===e?"Inactive":""},setFotmatPeriodNameIsFullDate:function(e){if(e){var t=e.split("-"),a=new Date("".concat(t[0]," 01, ").concat(t[1]));return s()(a).format(n.formatDate)}return""},setFullDateIsDateCE:function(e){var t="";if(e){var a=s()(e).format(n.formatDate);return t=o.setYearCE("date",a)}return t},setLabelExpenseFlag:function(e){return"Y"==e?"Yes":"No"},setLabelVatRefund:function(e){return"Y"==e?"Yes":"No"},setDefaultActive:function(e){var t=$(".".concat(e)).is(":checked");$(".".concat(e)).prop("checked",!t)},setDefaultEndDateIsLastDateOfMonth:function(e){var t=n.formatDate;if(e){var a=s()(e).endOf("month");return s()(a).format(t)}return""}}},17801:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(23645),s=a.n(i)()((function(e){return e[1]}));s.push([e.id,"td[data-v-442834a9],th[data-v-442834a9]{padding:.25rem}th[data-v-442834a9]{background:#fff;position:-webkit-sticky;position:sticky;top:0}.mouse-over[data-v-442834a9]:hover{background-color:#d4edda!important}",""]);const n=s},49496:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var i=a(38012),s=a(95070),n=a(21341),r=a(43126),o=a(83030),l=a(30381),c=a.n(l),d=a(75943);const _={name:"ir-asset-increase-modal-fetch",data:function(){return{fetch:{year:"",policy_set_header_id_start:"",policy_set_header_id_end:"",start_calculate_date:"",end_calculate_date:"",start_addition_date:"",end_addition_date:"",location_code:"",asset_status:""},rules:{year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],start_calculate_date:[{required:!0,message:"กรุณาระบุวันที่คิดค่าเบี้ย",trigger:"change"}],end_calculate_date:[{required:!0,message:"กรุณาระบุถึงวันที่คิดค่าเบี้ย",trigger:"change"}],start_addition_date:[{required:!0,message:"กรุณาระบุวันที่ขึ้นทะเบียน/ตัดจำหน่าย",trigger:"change"}],end_addition_date:[{required:!0,message:"กรุณาระบุถึงวันที่ขึ้นทะเบียน/ตัดจำหน่าย",trigger:"change"}]},getTimeCalStDate:"",getTimeCalEnDate:"",getTimeAddiStDate:"",getTimeAddiEnDate:"",showLoading:!1}},props:["setYearCE","vars","covertFomatDateMoment","setBudgetYearFromFieldStCalendar"],computed:{checkCalculateDate:function(){var e=this.fetch.start_calculate_date,t=this.fetch.end_calculate_date;return!e||!t||(console.log("getTimeCalStDate ",this.getTimeCalStDate),console.log("getTimeCalEnDate ",this.getTimeCalEnDate),this.getTimeCalStDate<=this.getTimeCalEnDate)},checkAdditionDate:function(){var e=this.fetch.start_addition_date,t=this.fetch.end_addition_date;return!e||!t||(console.log("getTimeAddiStDate ",this.getTimeAddiStDate),console.log("getTimeAddiEnDate ",this.getTimeAddiEnDate),this.getTimeAddiStDate<=this.getTimeAddiEnDate)}},methods:{clickSearch:function(){var e=this;console.log("clickSearch ",this.fetch),this.$refs.form_asset_increase_fetch.validate((function(t){if(!t)return!1;e.reqDate()&&e.getDataRows()}))},clickClear:function(){this.resetFields()},validateNotElUi:function(e,t){e?this.$refs.form_asset_increase_fetch.fields.find((function(e){return e.prop==t})).clearValidate():this.$refs.form_asset_increase_fetch.validateField(t)},getDataRows:function(){var e=this;this.showLoading=!0;var t=this.covertFomatDateMoment(this.fetch.year,"year"),a=this.covertFomatDateMoment(this.fetch.start_calculate_date,"date"),i=this.covertFomatDateMoment(this.fetch.end_calculate_date,"date"),s=this.covertFomatDateMoment(this.fetch.start_addition_date,"date"),n=this.covertFomatDateMoment(this.fetch.end_addition_date,"date"),r={year:this.setYearCE("year",t),program_code:"IRP0004",policy_id_from:this.fetch.policy_set_header_id_start,policy_id_to:this.fetch.policy_set_header_id_end,str_cal:this.setYearCE("date",a),end_cal:this.setYearCE("date",i),str_ad:this.setYearCE("date",s),end_ad:this.setYearCE("date",n),location_code:this.fetch.location_code,asset_status:this.fetch.asset_status};console.log("getDataRows ",r),axios.get("/ir/ajax/asset/asset-adjust/fetch",{params:r}).then((function(t){var a=t.data;e.showLoading=!1,e.$emit("fetch-table-header",a.data),$("#modal_asset_increase_fetch").modal("hide")})).catch((function(e){swal("Error",e,"error")}))},resetFields:function(){console.log("resetFields"),this.$refs.form_asset_increase_fetch.resetFields()},getValuePolicyStModal:function(e){this.fetch.policy_set_header_id_start=e,this.fetch.policy_set_header_id_end=e},getValuePolicyEnModal:function(e){this.fetch.policy_set_header_id_end=e},getValueAssetGroupModal:function(e){this.fetch.location_code=e.code},reqDate:function(){var e=this;if(!this.checkCalculateDate&&this.checkAdditionDate)swal({title:"Warning",text:"ฟิลด์วันที่คิดค่าเบี้ยต้องน้อยกว่าหรือเท่ากับฟิลด์ถึงวันที่คิดค่าเบี้ย!",type:"warning"},(function(t){t&&(e.$refs.fetch_start_calculate_date.resetField(),e.$refs.fetch_end_calculate_date.resetField())}));else if(!this.checkAdditionDate&&this.checkCalculateDate)swal({title:"Warning",text:"ฟิลด์วันที่ขึ้นทะเบียน/ตัดจำหน่ายต้องน้อยกว่าหรือเท่ากับฟิลด์ถึงวันที่ขึ้นทะเบียน/ตัดจำหน่าย!",type:"warning"},(function(t){t&&(e.$refs.fetch_start_addition_date.resetField(),e.$refs.fetch_end_addition_date.resetField())}));else{if(this.checkCalculateDate||this.checkAdditionDate)return!0;swal({title:"Warning",text:"ฟิลด์วันที่คิดค่าเบี้ยต้องน้อยกว่าหรือเท่ากับฟิลด์ถึงวันที่คิดค่าเบี้ย!",type:"warning"},(function(t){t&&(e.$refs.fetch_start_calculate_date.resetField(),e.$refs.fetch_end_calculate_date.resetField())}))}},getValueYearModal:function(e){this.fetch.year=e,this.validateNotElUi(e,"year")},getValueCalStDateModal:function(e){this.fetch.start_calculate_date=e,e&&this.fetch.end_calculate_date&&this.fetch.end_calculate_date,this.validateNotElUi(e,"start_calculate_date"),this.fetch.end_calculate_date=this.setBudgetYearFromFieldStCalendar(e),this.validateNotElUi(this.fetch.end_calculate_date,"end_calculate_date")},getValueCalEnDateModal:function(e){this.fetch.end_calculate_date=e,this.validateNotElUi(e,"end_calculate_date")},getValueAddiStDateModal:function(e){this.fetch.start_addition_date=e,e&&this.fetch.end_addition_date&&e>this.fetch.end_addition_date&&(this.fetch.end_addition_date="",this.validateNotElUi(this.fetch.end_addition_date,"end_addition_date")),this.validateNotElUi(e,"start_addition_date")},getValueAddiEnDateModal:function(e){this.fetch.end_addition_date=e,this.validateNotElUi(e,"end_addition_date")},getValueAssetStatusModal:function(e){this.fetch.asset_status=e}},components:{lovPolicySetHeaderId:r.Z,lovAssetGroup:o.Z,dropdownStatusAsset:d.Z}};var u=a(51900);const h=(0,u.Z)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_asset_increase_fetch",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}]},[e._m(0),e._v(" "),a("el-form",{ref:"form_asset_increase_fetch",staticClass:"demo-dynamic form_table_line",attrs:{model:e.fetch,"label-width":"120px",rules:e.rules}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ปี *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_year",attrs:{prop:"year"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_year","p-type":"year",placeholder:"ปี",value:e.fetch.year,format:e.vars.formatYear},on:{dateWasSelected:e.getValueYearModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("กรมธรรม์ชุดที่")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_policy_set_header_id_start",attrs:{prop:"policy_set_header_id_start"}},[a("lov-policy-set-header-id",{attrs:{name:"fetch_policy_set_header_id_start",size:"",placeholder:"กรมธรรม์ชุดที่",popperBody:!1,fixTypeFr:"20",fixTypeSc:""},on:{"change-lov":e.getValuePolicyStModal},model:{value:e.fetch.policy_set_header_id_start,callback:function(t){e.$set(e.fetch,"policy_set_header_id_start",t)},expression:"fetch.policy_set_header_id_start"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_policy_set_header_id_end",attrs:{prop:"policy_set_header_id_end"}},[a("lov-policy-set-header-id",{attrs:{name:"fetch_policy_set_header_id_end",size:"",placeholder:"ถึงกรมธรรม์ชุดที่",popperBody:!1,fixTypeFr:"20",fixTypeSc:""},on:{"change-lov":e.getValuePolicyEnModal},model:{value:e.fetch.policy_set_header_id_end,callback:function(t){e.$set(e.fetch,"policy_set_header_id_end",t)},expression:"fetch.policy_set_header_id_end"}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("วันที่คิดค่าเบี้ย *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_start_calculate_date",attrs:{prop:"start_calculate_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_start_calculate_date","p-type":"date",placeholder:"วันที่คิดค่าเบี้ย",value:e.fetch.start_calculate_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueCalStDateModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_end_calculate_date",attrs:{prop:"end_calculate_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"fetch_end_calculate_date","p-type":"date",placeholder:"ถึงวันที่คิดค่าเบี้ย",value:e.fetch.end_calculate_date,format:e.vars.formatDate,disabledDateTo:e.fetch.start_calculate_date},on:{dateWasSelected:e.getValueCalEnDateModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("วันที่ขึ้นทะเบียน/ตัดจำหน่าย *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_start_addition_date",attrs:{prop:"start_addition_date"}},[a("datepicker-th",{staticClass:"el-input__inner style_icon_calendar",staticStyle:{width:"100%"},attrs:{name:"fetch_start_addition_date","p-type":"date",placeholder:"วันที่ขึ้นทะเบียน/ตัดจำหน่าย",value:e.fetch.start_addition_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueAddiStDateModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("ถึง *")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_end_addition_date",attrs:{prop:"end_addition_date"}},[a("datepicker-th",{staticClass:"el-input__inner style_icon_calendar",staticStyle:{width:"100%"},attrs:{name:"fetch_end_addition_date","p-type":"date",placeholder:"ถึงวันที่ขึ้นทะเบียน/ตัดจำหน่าย",value:e.fetch.end_addition_date,format:e.vars.formatDate,disabledDateTo:e.fetch.start_addition_date},on:{dateWasSelected:e.getValueAddiEnDateModal}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[a("strong",[e._v("กลุ่มของทรัพย์สิน")])]),e._v(" "),a("div",{staticClass:"col-lg-5 col-md-6 el_field"},[a("el-form-item",{ref:"fetch_location_code",attrs:{prop:"location_code"}},[a("lov-asset-group",{attrs:{placeholder:"กลุ่มของทรัพย์สิน",name:"fetch_location_code",size:"",popperBody:!1},on:{"change-lov":e.getValueAssetGroupModal},model:{value:e.fetch.location_code,callback:function(t){e.$set(e.fetch,"location_code",t)},expression:"fetch.location_code"}})],1)],1)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){return e.clickSearch()}}},[a("i",{staticClass:"fa fa-database"}),e._v(" ดึงข้อมูล\n          ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต\n          ")])])])],1)])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),a("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),a("p",{staticClass:"modal-title text-left"},[e._v("การดึงข้อมูล")])])}],!1,null,null,null).exports;var m=a(87150);const f={name:"ir-asset-increase-index-search",data:function(){return{policies:[],rules:{year:[{required:!0,message:"กรุณาระบุปี",trigger:"change"}],start_calculate_date:[{required:!0,message:"กรุณาระบุวันที่คิดค่าเบี้ย",trigger:"change"}],end_calculate_date:[{required:!0,message:"กรุณาระบุถึงวันที่คิดค่าเบี้ย",trigger:"change"}],start_addition_date:[{required:!0,message:"กรุณาระบุวันที่ขึ้นทะเบียน/ตัดจำหน่าย",trigger:"change"}],end_addition_date:[{required:!0,message:"กรุณาระบุถึงวันที่ขึ้นทะเบียน/ตัดจำหน่าย",trigger:"change"}]},loading:!1,getTimeCalStDate:"",getTimeCalEnDate:"",getTimeAddiStDate:"",getTimeAddiEnDate:"",qtyDay:0,revisions:[]}},props:["search","setYearCE","vars","covertFomatDateMoment","setBudgetYearFromFieldStCalendar"],computed:{checkCalculateDate:function(){var e=this.search.start_calculate_date,t=this.search.end_calculate_date;return!e||!t||this.getTimeCalStDate<=this.getTimeCalEnDate},checkAdditionDate:function(){var e=this.search.start_addition_date,t=this.search.end_addition_date;return!e||!t||this.getTimeAddiStDate<=this.getTimeAddiEnDate}},methods:{getDataAssetGroup:function(e){this.search.location_code=e},clickSearch:function(){var e=this;this.$refs.search.validate((function(t){if(!t)return!1;e.reqDate()&&e.checkRangeCalculateDate()&&e.checkRangeAdditionDate()&&e.$emit("click-search",e.search)}))},clickClear:function(){window.location.href="/ir/assets/asset-increase"},getDataPolicySetHeaderId:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.policies=a.data})).catch((function(e){swal("Error",e,"error")}))},remoteMethodPolicySt:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:e,type:"20",type2:""})},focusPolicySt:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"20",type2:""})},changePolicySt:function(e){this.search.policy_set_header_id=e,this.search.policy_set_header_id_end=e},remoteMethodPolicyEn:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:e})},focusPolicyEn:function(e){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"20",type2:""})},changePolicyEn:function(e){this.search.policy_set_header_id_end=e},reqDate:function(){var e=this;if(!this.checkCalculateDate&&this.checkAdditionDate)swal({title:"Warning",text:"ฟิลด์วันที่คิดค่าเบี้ยต้องน้อยกว่าหรือเท่ากับฟิลด์ถึงวันที่คิดค่าเบี้ย!",type:"warning"},(function(t){t&&(e.search.start_calculate_date="",e.search.end_calculate_date="")}));else if(!this.checkAdditionDate&&this.checkCalculateDate)swal({title:"Warning",text:"ฟิลด์วันที่ขึ้นทะเบียน/ตัดจำหน่ายต้องน้อยกว่าหรือเท่ากับฟิลด์ถึงวันที่ขึ้นทะเบียน/ตัดจำหน่าย!",type:"warning"},(function(t){t&&(e.search.start_addition_date="",e.search.end_addition_date="")}));else{if(this.checkCalculateDate||this.checkAdditionDate)return!0;swal({title:"Warning",text:"ฟิลด์วันที่คิดค่าเบี้ยต้องน้อยกว่าหรือเท่ากับฟิลด์ถึงวันที่คิดค่าเบี้ย!",type:"warning"},(function(t){t&&(e.search.start_calculate_date="",e.search.end_calculate_date="")}))}},getDataRevision:function(){var e=this;axios.get("/ir/ajax/lov/revision").then((function(t){var a=t.data;e.revisions=a.data.filter((function(e){return e.revision=null===e.revision?1:e.revision,e}))})).catch((function(e){swal("Error",e,"error")}))},fetchTableHeader:function(e){this.$emit("fetch-show-table-header",e)},clickFetch:function(){this.$refs.modal_fetch.resetFields()},checkRangeCalculateDate:function(){var e=this.search.start_calculate_date,t=this.search.end_calculate_date;return""===e&&""===t||(!(!e||!t)||void swal("Warning","กรุณาระบุช่วงวันที่คิดค่าเบี้ยให้ครบ!","warning"))},checkRangeAdditionDate:function(){var e=this.search.start_addition_date,t=this.search.end_addition_date;return""===e&&""===t||(!(!e||!t)||void swal("Warning","กรุณาระบุช่วงวันที่ขึ้นทะเบียน/ตัดจำหน่ายให้ครบ!","warning"))},getValueYear:function(e){var t=this.vars.formatYear;this.search.year=e?c()(e).format(t):""},getValueCalStDate:function(e){this.search.start_calculate_date=null===e?"":e,e&&this.search.end_calculate_date&&this.search.end_calculate_date,this.search.end_calculate_date=this.setBudgetYearFromFieldStCalendar(e)},getValueCalEnDate:function(e){this.search.end_calculate_date=null===e?"":e},getValueAddiStDate:function(e){this.search.start_addition_date=null===e?"":e,e&&this.search.end_addition_date&&e>this.search.end_addition_date&&(this.search.end_addition_date="")},getValueAddiEnDate:function(e){this.search.end_addition_date=null===e?"":e},getValueAssetStatus:function(e){this.search.asset_status=e},getValueStatus:function(e){this.search.status=e}},components:{lovAssetGroup:i.Z,yearInput:s.Z,dateInput:n.Z,modalFetch:h,dropdownStatusAsset:d.Z,dropdownStatusIr:m.Z},mounted:function(){this.getDataPolicySetHeaderId({policy_set_header_id:"",keyword:"",type:"20",type2:""})},created:function(){this.getDataRevision()}};const p=(0,u.Z)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"search",staticClass:"demo-ruleForm",attrs:{model:e.search,"label-width":"120px"}},[a("div",{staticClass:"col-lg-11"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("ปี")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"year"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"year","p-type":"year",placeholder:"ปี",value:e.search.year,format:e.vars.formatYear},on:{dateWasSelected:e.getValueYear}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("ครั้งที่")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"revision"}},[a("el-select",{attrs:{placeholder:"ครั้งที่",name:"revision"},model:{value:e.search.revision,callback:function(t){e.$set(e.search,"revision",t)},expression:"search.revision"}},e._l(e.revisions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.revision,value:e.revision}})})),1)],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("กรมธรรม์ชุดที่")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-select",{attrs:{placeholder:"กรมธรรม์ชุดที่",name:"policy_set_header_id","remote-method":e.remoteMethodPolicySt,loading:e.loading,remote:"",clearable:!0,filterable:""},on:{focus:e.focusPolicySt,change:e.changePolicySt},model:{value:e.search.policy_set_header_id,callback:function(t){e.$set(e.search,"policy_set_header_id",t)},expression:"search.policy_set_header_id"}},e._l(e.policies,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",[a("el-select",{attrs:{placeholder:"ถึงกรมธรรม์ชุดที่",name:"policy_set_header_id_end","remote-method":e.remoteMethodPolicyEn,loading:e.loading,remote:"",clearable:!0,filterable:""},on:{focus:e.focusPolicyEn,change:e.changePolicyEn},model:{value:e.search.policy_set_header_id_end,callback:function(t){e.$set(e.search,"policy_set_header_id_end",t)},expression:"search.policy_set_header_id_end"}},e._l(e.policies,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("วันที่คิดค่าเบี้ย")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"start_calculate_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"start_calculate_date","p-type":"date",placeholder:"วันที่คิดค่าเบี้ย",value:e.search.start_calculate_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueCalStDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"end_calculate_date"}},[a("datepicker-th",{staticClass:"el-input__inner",staticStyle:{width:"100%"},attrs:{name:"end_calculate_date","p-type":"date",placeholder:"ถึงวันที่คิดค่าเบี้ย",value:e.search.end_calculate_date,format:e.vars.formatDate,disabledDateTo:e.search.start_calculate_date},on:{dateWasSelected:e.getValueCalEnDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("วันที่ขึ้นทะเบียน/ตัดจำหน่าย")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"start_addition_date"}},[a("datepicker-th",{staticClass:"el-input__inner style_icon_calendar",staticStyle:{width:"100%"},attrs:{name:"start_addition_date","p-type":"date",placeholder:"วันที่ขึ้นทะเบียน/ตัดจำหน่าย",value:e.search.start_addition_date,format:e.vars.formatDate},on:{dateWasSelected:e.getValueAddiStDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("ถึง")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"end_addition_date"}},[a("datepicker-th",{staticClass:"el-input__inner style_icon_calendar",staticStyle:{width:"100%"},attrs:{name:"end_addition_date","p-type":"date",placeholder:"ถึงวันที่ขึ้นทะเบียน/ตัดจำหน่าย",value:e.search.end_addition_date,format:e.vars.formatDate,disabledDateTo:e.search.start_addition_date},on:{dateWasSelected:e.getValueAddiEnDate}})],1)],1)]),e._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label lable_align"},[a("strong",[e._v("สถานะ")])]),e._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5 col-md-6 el_field"},[a("dropdown-status-ir",{attrs:{name:"status",size:"",popperBody:!0,disabled:!1,placeholder:"สถานะ"},on:{"change-lov":e.getValueStatus},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}})],1)])]),e._v(" "),a("div",{staticClass:"text-right el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.clickSearch()}}},[a("i",{staticClass:"fa fa-search"}),e._v(" ค้นหา\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_asset_increase_fetch"},on:{click:function(t){return e.clickFetch()}}},[a("i",{staticClass:"fa fa-database"}),e._v(" ดึงข้อมูล\n        ")]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return e.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),e._v(" รีเซต\n        ")])])],1)]),e._v(" "),a("modal-fetch",{ref:"modal_fetch",attrs:{setYearCE:e.setYearCE,vars:e.vars,covertFomatDateMoment:e.covertFomatDateMoment,setBudgetYearFromFieldStCalendar:e.setBudgetYearFromFieldStCalendar},on:{"fetch-table-header":e.fetchTableHeader}})],1)}),[],!1,null,null,null).exports;const v={name:"ir-asset-increase-index-table-header",data:function(){return{rows:[],activeIndex:"",receivables:[{rec_insu_name:"สหภาพ",rec_insu_amount:"100"},{rec_insu_name:"สหกรณ์",rec_insu_amount:"300"}]}},props:["isNullOrUndefined","tableHeader","formatCurrency","search","setFirstLetterUpperCase","showYearBE","checkStatusNew"],methods:{clickRow:function(e,t){var a={header_id:e.header_id,document_number:this.isNullOrUndefined(e.document_number),asset_status:this.isNullOrUndefined(e.asset_status),policy_set_description:this.isNullOrUndefined(e.policy_set_description),policy_set_header_id:this.isNullOrUndefined(e.policy_set_header_id),status:this.isNullOrUndefined(e.status),count_asset:this.isNullOrUndefined(e.count_asset),as_of_date:"",insurance_start_date:"",insurance_end_date:"",year:this.isNullOrUndefined(e.year),total_adjustment_cost:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_adjustment_cost),total_cover_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_cover_amount),total_insu_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_insu_amount),total_vat_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_vat_amount),total_net_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_net_amount),total_rec_insu_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_rec_insu_amount),revision:this.isNullOrUndefined(e.revision),start_calculate_date:this.isNullOrUndefined(e.start_calculate_date),end_calculate_date:this.isNullOrUndefined(e.end_calculate_date),start_addition_date:this.isNullOrUndefined(e.start_addition_date),end_addition_date:this.isNullOrUndefined(e.end_addition_date),receivables:e.type,total_duty_amount:this.checkStatusNew(e.status)?0:this.isNullOrUndefined(e.total_duty_amount)};this.$emit("click-row",a),this.activeIndex=t}},watch:{tableHeader:function(e,t){this.rows=e,this.activeIndex=""}},updated:function(){this.rows=this.tableHeader}};var g=a(93379),y=a.n(g),b=a(17801),C={insert:"head",singleton:!1};y()(b.Z,C);b.Z.locals;const w=(0,u.Z)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[e._m(0),e._v(" "),a("tbody",{attrs:{id:"table_search"}},[e._l(e.rows,(function(t,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.rows.length>0,expression:"rows.length > 0"}],key:i,staticClass:"mouse-over",class:"style_row_show "+(i===e.activeIndex?"highlight":""),on:{click:function(a){return e.clickRow(t,i)}}},[a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button",href:"/ir/assets/asset-increase/edit/"+t.header_id}},[e.isNullOrUndefined(t.document_number)?a("span",[e._v("View / Edit")]):a("span",[e._v("Select")])])]),e._v(" "),a("td",[e._v(e._s(e.isNullOrUndefined(t.document_number)))]),e._v(" "),a("td",[e._v(e._s(e.isNullOrUndefined(t.reference_document_number)))]),e._v(" "),a("td",[e._v(e._s(e.setFirstLetterUpperCase(t.status)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("year",t.year)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.isNullOrUndefined(t.revision)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.policy_set_number))+"\n        ")]),e._v(" "),a("td",[e._v(e._s(e.isNullOrUndefined(t.policy_set_description)))]),e._v(" "),a("td",{staticClass:"text-right"},[e._v("\n          "+e._s(e.isNullOrUndefined(t.count_asset)||0===e.isNullOrUndefined(t.count_asset)?e.formatCurrency(t.count_asset):e.isNullOrUndefined(t.count_asset))+"\n        ")]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.start_calculate_date)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.end_calculate_date)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.isNullOrUndefined(t.days)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.start_addition_date)))]),e._v(" "),a("td",{staticClass:"text-center"},[e._v(e._s(e.showYearBE("date",t.end_addition_date)))])])})),e._v(" "),0===e.rows.length?a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"14"}},[e._v("ไม่มีข้อมูล")])]):e._e()],2),e._v(" "),a("tfoot")])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("Action")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Document Number "),a("br"),e._v("เลขที่เอกสาร")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[e._v("Reference "),a("br"),e._v("Document")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("IR Status "),a("br"),e._v("สถานะ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("Year "),a("br"),e._v("ปี")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[e._v("Revision "),a("br"),e._v("ครั้งที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"130px"}},[e._v("Policy No. "),a("br"),e._v("กรมธรรม์ชุดที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px",width:"1%"}},[e._v("Policy Description "),a("br"),e._v("รายละเอียดกรมธรรม์ชุดที่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px"}},[e._v("Count "),a("br"),e._v("จำนวนรายการ")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"160px"}},[e._v("วันที่คิดค่าเบี้ยตั้งแต่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"160px"}},[e._v("วันที่คิดค่าเบี้ยถึง")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"100px"}},[e._v("จำนวนวัน")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"160px"}},[e._v("วันที่ขึ้นทะเบียน/ตัดจำหน่ายตั้งแต่")]),e._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"160px"}},[e._v("วันที่ขึ้นทะเบียน/ตัดจำหน่ายถึง")])])])}],!1,null,"442834a9",null).exports;function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],i=!0,s=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw n}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}const E={name:"ir-asset-increase-index-table-total",data:function(){return{}},props:["dataRowsTableTotal","formatCurrency","isNullOrUndefined","statusRowTableHeader","checkStatusNew","receivables"],computed:{newDataReceivables:function(){return Array.from(this.receivables.reduce((function(e,t){var a=t.receivable_name,i=t.net_amount;return e.set(a,(e.get(a)||0)+ +i)}),new Map),(function(e){var t=D(e,2);return{receivable_name:t[0],net_amount:t[1]}}))}},methods:{setZeroWhenIsNullOrUndefined:function(e){return""===e||null==e?this.formatCurrency("0"):this.formatCurrency(e)},formatSum:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Number(Number(Number(e).toFixed(2))+Number(Number(t).toFixed(2))+Number(Number(a).toFixed(2))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}}};const N=(0,u.Z)(E,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive margin_top_20"},[a("table",{staticClass:"table table-striped"},[e._m(0),e._v(" "),a("tbody",{attrs:{id:"table_total"}},[e._l(e.dataRowsTableTotal,(function(t,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.dataRowsTableTotal.length>0,expression:"dataRowsTableTotal.length > 0"}],key:i,staticClass:"text-right"},[a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_adjustment_cost)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_cover_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_insu_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_duty_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_vat_amount)))]),e._v(" "),a("td",[e._v(e._s(e.formatSum(t.total_insu_amount,t.total_duty_amount,t.total_vat_amount)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.total_rec_insu_amount)))])])})),e._v(" "),e._l(e.newDataReceivables,(function(t,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.receivables.length>0&&e.dataRowsTableTotal.length>0&&!e.checkStatusNew(e.statusRowTableHeader),expression:"receivables.length > 0 && dataRowsTableTotal.length > 0 && !checkStatusNew(statusRowTableHeader)"}],key:"rec_"+i,staticClass:"text-right"},[a("td",{attrs:{colspan:"6"}},[e._v(e._s(e.isNullOrUndefined(t.receivable_name)))]),e._v(" "),a("td",[e._v(e._s(e.setZeroWhenIsNullOrUndefined(t.net_amount)))])])})),e._v(" "),0===e.dataRowsTableTotal.length?a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"7"}},[e._v("ไม่มีข้อมูล")])]):e._e()],2),e._v(" "),a("tfoot")])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticClass:"text-right"},[a("th",{staticClass:"width_table"},[e._v("Transaction Amount "),a("br"),e._v("จำนวนเงิน (บาท)")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Coverage Amount "),a("br"),e._v("มูลค่าทุนประกัน เพิ่ม/ลดรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Premium "),a("br"),e._v("ค่าเบี้ยประกัน เพิ่ม/ลดรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Duty Fee "),a("br"),e._v("อากรรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Vat "),a("br"),e._v("ภาษีมูลค่าเพิ่มรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("Total Net Amount "),a("br"),e._v("ค่าเบี้ยประกัน เพิ่ม/ลดสุทธิรวม")]),e._v(" "),a("th",{staticClass:"width_table"},[e._v("ค่าเบี้ยประกัน เพิ่ม/ลดเรียกเก็บสุทธิรวม")])])])}],!1,null,null,null).exports;var T=a(67791);const x={name:"ir-asset-increase-index",data:function(){return{search:{year:"",revision:"",policy_set_header_id:"",policy_set_header_id_end:"",start_calculate_date:"",end_calculate_date:"",start_addition_date:"",end_addition_date:"",location_code:"",asset_status:"",status:""},tableHeader:[],tableTotal:[],headerRow:{header_id:"",document_number:"",status:"",year:"",policy_set_header_id:"",policy_set_description:"",count_asset:"",as_of_date:"",insurance_start_date:"",insurance_end_date:"",total_adjustment_cost:"",total_cover_amount:"",total_insu_amount:"",total_vat_amount:"",total_net_amount:"",total_rec_insu_amount:"",days:"",total_duty_amount:""},revision:1,funcs:T.sD,vars:T.gR,statusRowTableHeader:"",receivables:[],showLoading:!1}},methods:{getDataSearch:function(e){this.search=e,this.getTableHeader()},getTableHeader:function(){var e=this,t=this.funcs.covertFomatDateMoment(this.search.start_calculate_date,"date"),a=this.funcs.covertFomatDateMoment(this.search.end_calculate_date,"date"),i=this.funcs.covertFomatDateMoment(this.search.start_addition_date,"date"),s=this.funcs.covertFomatDateMoment(this.search.end_addition_date,"date");this.showLoading=!0;var n={year:this.funcs.setYearCE("year",this.search.year),revision:this.search.revision,policy_id_from:this.search.policy_set_header_id,policy_id_to:this.search.policy_set_header_id_end,str_cal:this.funcs.setYearCE("date",t),end_cal:this.funcs.setYearCE("date",a),str_ad:this.funcs.setYearCE("date",i),end_ad:this.funcs.setYearCE("date",s),location_code:this.search.location_code,asset_status:this.search.asset_status,status:this.search.status};axios.get("/ir/ajax/asset/asset-adjust",{params:n}).then((function(t){var a=t.data;e.showLoading=!1,e.tableHeader=e.setPropertyTableHeader(a.data),e.tableTotal=[]})).catch((function(e){swal("Error",e,"error")}))},getDataRowShowTableTotal:function(e){this.tableTotal=[e],this.statusRowTableHeader=e.status,this.receivables=e.receivables},fetchShowTableHeader:function(e){this.tableHeader=this.setPropertyTableHeader(e),this.tableTotal=[]},setPropertyTableHeader:function(e){var t=this;return e.filter((function(e){return e.revision=e.revision?e.revision:null===e.revision?1:t.search.revision,e.days="",t.funcs.calculateDateMomentTable(e),e})),e}},components:{indexSearch:p,indexTableHeader:w,indexTableTotal:N}};const O=(0,u.Z)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}]},[a("index-search",{attrs:{search:e.search,setYearCE:e.funcs.setYearCE,vars:e.vars,covertFomatDateMoment:e.funcs.covertFomatDateMoment,setBudgetYearFromFieldStCalendar:e.funcs.setBudgetYearFromFieldStCalendar},on:{"click-search":e.getDataSearch,"fetch-show-table-header":e.fetchShowTableHeader}}),e._v(" "),a("index-table-header",{attrs:{isNullOrUndefined:e.funcs.isNullOrUndefined,tableHeader:e.tableHeader,formatCurrency:e.funcs.formatCurrency,search:e.search,setFirstLetterUpperCase:e.funcs.setFirstLetterUpperCase,showYearBE:e.funcs.showYearBE,checkStatusNew:e.funcs.checkStatusNew},on:{"click-row":e.getDataRowShowTableTotal}}),e._v(" "),a("index-table-total",{attrs:{dataRowsTableTotal:e.tableTotal,formatCurrency:e.funcs.formatCurrency,isNullOrUndefined:e.funcs.isNullOrUndefined,statusRowTableHeader:e.statusRowTableHeader,checkStatusNew:e.funcs.checkStatusNew,receivables:e.receivables}})],1)}),[],!1,null,null,null).exports},38012:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-asset-increase-lov-asset-group",data:function(){return{assetGroup:[],loading:!1,asset_group_code:this.value}},props:["attrName","value","isTable","indexTable","size"],methods:{remoteMethodAssetGroup:function(e){this.getAssetGroup({value:"",keyword:e})},getAssetGroup:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/location",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.assetGroup=a})).catch((function(e){swal("Error",e,"error")}))},focusAssetGroup:function(e){this.getAssetGroup({value:"",keyword:""})},changeAssetGroup:function(e){var t={asset_group:"",rowId:"",asset_group_name:"",id:""};if(this.isTable&&e)for(var a in this.assetGroup){var i=this.assetGroup[a];i.meaning===e&&(t.asset_group=e,t.rowId=this.indexTable,t.asset_group_name=i.description,t.id=i.value,this.$emit("change-value-asset-group",t))}else this.isTable&&!e?this.$emit("change-value-asset-group",t):this.$emit("change-value-asset-group",e)}},mounted:function(){this.getAssetGroup({value:"",keyword:""})},watch:{value:function(e,t){this.asset_group_code=e}}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"กลุ่มของทรัพย์สิน",name:e.attrName,"remote-method":e.remoteMethodAssetGroup,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size},on:{focus:e.focusAssetGroup,change:e.changeAssetGroup},model:{value:e.asset_group_code,callback:function(t){e.asset_group_code=t},expression:"asset_group_code"}},e._l(e.assetGroup,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports},21341:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-components-calendar-date-input",data:function(){return{date:this.value}},props:["attrName","value","sizeSmall","placeholder","disabled"],computed:{},mounted:function(){var e=this;$(document).ready((function(){$("input.date_input").datepicker({format:"dd/mm/yyyy",autoclose:!0,keyboardNavigation:!1}),$('input[name="'.concat(e.attrName,'"]')).on("change",(function(t){console.log("change ",t,t.target.value);var a={value:t.target.value,getTime:$('input[name="'.concat(e.attrName,'"]')).datepicker("getDate").getTime()};e.$emit("change-date",a),console.log("params ",a)}))}))},watch:{value:function(e,t){this.date=e}}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"el-input date "+(e.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],staticClass:"input-medium form-control date_input el-input__inner",attrs:{type:"text",name:e.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:e.placeholder,autocomplete:"off",disabled:e.disabled},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})])}),[],!1,null,null,null).exports},95070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-components-calendar-year-input",data:function(){return{year:this.value}},props:["attrName","value","sizeSmall","placeholder"],mounted:function(){var e=this;$(document).ready((function(){console.log("ready "),$("input.year_input").datepicker({format:"yyyy",autoclose:!0,keyboardNavigation:!1,startView:"years",minViewMode:"years"}),$('input[name="'.concat(e.attrName,'"]')).on("change",(function(t){console.log("change ",t,t.target.value,$('input[name="'.concat(e.attrName,'"]')).datepicker("getDate"));var a={value:t.target.value,getTime:$('input[name="'.concat(e.attrName,'"]')).datepicker("getDate").getTime()};e.$emit("change-year",a)}))}))},watch:{value:function(e,t){this.year=e}}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:" date "+(e.sizeSmall?"el-input--small":"")},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"input-medium form-control year_input el-input__inner",attrs:{type:"text",name:e.attrName,"data-provide":"datepicker","data-date-language":"th-th",placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}})])}),[],!1,null,null,null).exports},75943:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-components-dropdown-status-asset",data:function(){return{rows:[{label:"Active",value:"Y"},{label:"Inactive",value:"N"}],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{onchange:function(e){this.$emit("change-dropdown",e)}},watch:{value:function(e,t){this.result=e}}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)}),[],!1,null,null,null).exports},87150:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-components-lov-status-ir",data:function(){return{rows:[],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{getDataRows:function(){var e=this;axios.get("/ir/ajax/lov/status").then((function(t){var a=t.data;e.rows=a})).catch((function(e){swal("Error",e,"error")}))},change:function(e){this.$emit("change-lov",e)}},watch:{value:function(e,t){this.result=e}},created:function(){this.getDataRows()}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:"สถานะ",name:e.name,clearable:!0,size:e.size,"popper-append-to-body":e.popperBody,disabled:e.disabled},on:{change:e.change},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.lookup_code}})})),1)],1)}),[],!1,null,null,null).exports},83030:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-components-lov-asset-group",data:function(){return{rows:[],loading:!1,result:this.value}},props:["placeholder","name","value","size","popperBody"],methods:{remoteMethod:function(e){this.getDataRows({meaning:"",keyword:e})},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/location",{params:e}).then((function(e){var a=e.data.data;t.loading=!1,t.rows=a})).catch((function(e){swal("Error",e,"error")}))},focus:function(e){this.getDataRows({meaning:"",keyword:""})},change:function(e){var t={id:"",code:"",desc:""};if(e)for(var a in this.rows){var i=this.rows[a];i.meaning===e&&(t.code=e,t.desc=i.description,t.id=i.meaning)}else t.id="",t.code="",t.desc="";this.$emit("change-lov",t)}},mounted:function(){this.getDataRows({meaning:"",keyword:""})},watch:{value:function(e,t){this.result=e}}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,"remote-method":e.remoteMethod,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size,"popper-append-to-body":e.popperBody},on:{focus:e.focus,change:e.change},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.rows,(function(e,t){return a("el-option",{key:t,attrs:{label:e.meaning+": "+e.description,value:e.meaning}})})),1)],1)}),[],!1,null,null,null).exports},43126:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i={name:"ir-components-lov-policy-set-header-id",data:function(){return{rows:[],dataSet:[],loading:!1,result:this.value,isDisabled:void 0!==this.disabled&&this.disabled}},props:["value","name","size","placeholder","popperBody","fixTypeFr","fixTypeSc","check","disabled"],methods:{remoteMethod:function(e){this.dataSet=this.rows.filter((function(t){return t.policy_set_number.toLowerCase().indexOf(e.toLowerCase())>-1||t.policy_set_description.toLowerCase().indexOf(e.toLowerCase())>-1}))},getDataRows:function(e){var t=this;this.loading=!0,axios.get("/ir/ajax/lov/policy-set-header",{params:e}).then((function(e){var a=e.data;t.loading=!1,t.check?t.dataSet=t.rows=a.data.filter((function(e){return e.meaning.toLowerCase()==t.check.toLowerCase()})):t.dataSet=t.rows=a.data})).catch((function(e){swal("Error",e,"error")}))},onfocus:function(){this.getDataRows({policy_set_header_id:"",keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},onchange:function(e){console.log("onchange ",e),this.$emit("change-lov",e)}},mounted:function(){console.log("mounted policy_set_header_id ",this.value),this.result=this.value?+this.value:this.value,this.getDataRows({policy_set_header_id:this.value,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},watch:{value:function(e,t){this.result=e?+e:e,this.getDataRows({policy_set_header_id:e,keyword:"",type:this.fixTypeFr,type2:this.fixTypeSc})},disabled:function(){this.isDisabled=this.disabled}}};const s=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:e.placeholder,name:e.name,"remote-method":e.remoteMethod,loading:e.loading,remote:"",clearable:!0,filterable:"",size:e.size,"popper-append-to-body":e.popperBody,disabled:e.isDisabled},on:{focus:e.onfocus,change:e.onchange},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.dataSet,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policy_set_number+": "+e.policy_set_description,value:e.policy_set_header_id}})})),1)],1)}),[],!1,null,null,null).exports},51900:(e,t,a)=>{"use strict";function i(e,t,a,i,s,n,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var _=c.beforeCreate;c.beforeCreate=_?[].concat(_,l):[l]}return{exports:e,options:c}}a.d(t,{Z:()=>i})}}]);