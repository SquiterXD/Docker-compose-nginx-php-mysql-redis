(self.webpackChunk=self.webpackChunk||[]).push([[7827],{51546:(t,e,o)=>{"use strict";function n(t){return new Promise((function(e){swal({title:t,type:"warning",dangerMode:!0,showCancelButton:!0,closeOnCancel:!0,cancelButtonText:"ยกเลิก",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ยืนยัน"},(function(t){e(t)}))}))}function l(){return new Promise((function(t){swal({title:"\nคุณแน่ใจไหม?",text:"มีการเปลี่ยนแปลงข้อมูลโดยที่ยังไม่ได้บันทึก คุณต้องการดำเนินการต่อหรือไม่",type:"warning",dangerMode:!0,showCancelButton:!0,closeOnCancel:!0,cancelButtonText:"ยกเลิก",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ดำเนินการต่อ",allowClickOutside:!0,closeOnClickOutside:!0},(function(e){t(e)}))}))}function s(t){var e='<div style="text-align:left;">ข้อมูลที่คุณใส่ไม่ถูกต้องหรือไม่ครบถ้วน กรุณาตรวจสอบข้อมูลและลองใหม่อีกครั้ง<br/><br/></div>';return e+='<div style="text-align:left;color:red">',e+="<ul>",t.forEach((function(t){e+="<li>".concat(t,"<br/></li>")})),e+="</ul>",e+="</div>",new Promise((function(t){swal({title:"\nเกิดข้อผิดพลาด",text:e,type:"error",html:!0,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ตกลง"},(function(e){t(e)}))}))}function a(){return console.debug("showLoadingDialog"),new Promise((function(t){swal({title:'\n                    <div class="sk-spinner sk-spinner-wave mb-4">\n                        <div class="sk-rect1"></div>\n                        <div class="sk-rect2"></div>\n                        <div class="sk-rect3"></div>\n                        <div class="sk-rect4"></div>\n                        <div class="sk-rect5"></div>\n                    </div>\n                    กำลังดำเนินการ\n                    ',html:!0,showConfirmButton:!1,closeOnConfirm:!1},(function(e){t(e)}))}))}function r(){return new Promise((function(t){swal({title:"\nสำเร็จ",text:"บันทึกข้อมูลเรียบร้อย",type:"success",dangerMode:!1,showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(e){t(e)}))}))}function c(){return new Promise((function(t){swal({title:"\nมีข้อผิดพลาด",text:"มีข้อผิดพลาดเกิดขึ้น ไม่สามารถบันทึกข้อมูลได้ กรุณาลองใหม่อีกครั้ง\n",type:"error",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(e){t(e)}))}))}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"มีข้อผิดพลาดเกิดขึ้น กรุณาลองใหม่อีกครั้ง\n";return new Promise((function(e){swal({title:"\nเกิดข้อผิดพลาด",text:t,type:"error",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ปิด"},(function(t){e(t)}))}))}function d(t){return new Promise((function(e){swal({title:"\nคุณต้องการลบข้อมูลที่ถูกเลือกทั้งหมด ".concat(t," แถวใช่หรือไม่?"),type:"warning",dangerMode:!0,showCancelButton:!0,closeOnCancel:!0,cancelButtonText:"ยกเลิก",showConfirmButton:!0,closeOnConfirm:!0,confirmButtonText:"ยืนยัน"},(function(t){e(t)}))}))}o.d(e,{Y6:()=>n,HR:()=>l,BT:()=>s,ZD:()=>a,xK:()=>r,YM:()=>c,qV:()=>i,gC:()=>d})},74561:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>s});var n=o(23645),l=o.n(n)()((function(t){return t[1]}));l.push([t.id,'td[data-v-0e2f710d],th[data-v-0e2f710d]{vertical-align:middle!important;text-align:center}.form-check-input[data-v-0e2f710d]{width:20px;height:45px;border:1px solid #e5e6e7}.checkbox label[data-v-0e2f710d]:before{content:"";display:inline-block;width:17px;height:17px;left:0;margin-left:-20px;border:1px solid #ccc}.container[data-v-0e2f710d]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container input[data-v-0e2f710d]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[data-v-0e2f710d]{position:absolute;top:10px;left:0;height:20px;width:20px}.checkmark[data-v-0e2f710d],.container:hover input~.checkmark[data-v-0e2f710d]{border:1px solid #e5e6e7;border-radius:4px}.container input:checked~.checkmark[data-v-0e2f710d]{background-color:#1ab394}.checkmark[data-v-0e2f710d]:after{content:"";position:absolute;display:none}.container input:checked~.checkmark[data-v-0e2f710d]:after{display:block}.container .checkmark[data-v-0e2f710d]:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg)}',""]);const s=l},27827:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>r});var n=o(51546);function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}const a={props:["data"],data:function(){return{rows:this.data,seg:"",desc:"",grp:"",inv:"",loc:"",displayLotNo:!1,underInv:!1,closeToExp:!1,hold:!1}},mounted:function(){console.log("mounted !!!")},computed:{segments:function(){var t=l(new Set(this.data.map((function(t){return t.segment1}))));return t.sort()},descriptions:function(){var t=l(new Set(this.data.map((function(t){return t.description}))));return t.sort()},groups:function(){var t=l(new Set(this.data.map((function(t){return t.tobacco_group}))));return t.sort()},inventories:function(){var t=l(new Set(this.data.map((function(t){return t.subinventory_code}))));return t.sort()},locators:function(){var t=l(new Set(this.data.map((function(t){return t.locator_code}))));return t.sort()}},methods:{onClickResetBtn:function(){this.seg="",this.desc="",this.grp="",this.inv="",this.loc="",this.displayLotNo=!1,this.underInv=!1,this.closeToExp=!1,this.hold=!1},onClickSearchBtn:function(){var t=this;console.log("onClickSearchBtn"),(0,n.ZD)();var e={segment1:this.seg,description:this.desc,tobacco_group:this.grp,subinventory_code:this.inv,locator_code:this.loc,display_lot_no:this.displayLotNo,under_inv:this.underInv,close_to_exp:this.closeToExp,hold:this.hold};axios.post("/api/pm/pm0029/",e).then((function(e){200==e.status&&(t.rows=e.data,swal.close(),console.log("status 200"),console.log(e))})).catch((function(t){console.log(t)}))}}};o(96672);const r=(0,o(51900).Z)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-12"},[o("div",{staticClass:"ibox"},[o("div",{staticClass:"ibox-content"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-4 col-sm-12"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-4 col-sm-4 col-form-label"},[t._v("รหัสวัตถุดิบ")]),t._v(" "),o("div",{staticClass:"col-lg-8"},[o("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"เลือกประเภทวัตฤติบ",loading:!1},model:{value:t.seg,callback:function(e){t.seg=e},expression:"seg"}},t._l(t.segments,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-4 col-sm-4 col-form-label"},[t._v("ประเภทวัตฤติบ")]),t._v(" "),o("div",{staticClass:"col-lg-8"},[o("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"เลือกประเภทวัตฤติบ",loading:!1},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}},t._l(t.descriptions,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-4 col-sm-4 col-form-label"},[t._v("กลุ่มวัตถุดิบ")]),t._v(" "),o("div",{staticClass:"col-lg-8"},[o("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"เลือกกลุ่มวัตถุดิบ",loading:!1},model:{value:t.grp,callback:function(e){t.grp=e},expression:"grp"}},t._l(t.groups,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)])]),t._v(" "),o("div",{staticClass:"col-lg-4"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-4 col-sm-4 col-form-label"},[t._v("คลังจัดเก็บ")]),t._v(" "),o("div",{staticClass:"col-lg-8"},[o("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"เลือกคลังจัดเก็บ",loading:!1},model:{value:t.inv,callback:function(e){t.inv=e},expression:"inv"}},t._l(t.inventories,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-4 col-sm-4 col-form-label"},[t._v("สถานที่จัดเก็บ")]),t._v(" "),o("div",{staticClass:"col-lg-8"},[o("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"เลือกสถานที่จัดเก็บ",loading:!1},model:{value:t.loc,callback:function(e){t.loc=e},expression:"loc"}},t._l(t.locators,(function(t){return o("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-4 col-sm-4 col-form-label"},[t._v("แสดง Lot")]),t._v(" "),o("div",{staticClass:"col-lg-6"},[o("label",{staticClass:"container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.displayLotNo,expression:"displayLotNo"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayLotNo)?t._i(t.displayLotNo,null)>-1:t.displayLotNo},on:{change:function(e){var o=t.displayLotNo,n=e.target,l=!!n.checked;if(Array.isArray(o)){var s=t._i(o,null);n.checked?s<0&&(t.displayLotNo=o.concat([null])):s>-1&&(t.displayLotNo=o.slice(0,s).concat(o.slice(s+1)))}else t.displayLotNo=l}}}),t._v(" "),o("span",{staticClass:"checkmark"})])])])]),t._v(" "),o("div",{staticClass:"col-lg-4"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-6 col-sm-4 col-form-label"},[t._v("ปริมาณคงคลังต่ำกว่าที่กำหนด")]),t._v(" "),o("div",{staticClass:"col-lg-6"},[o("label",{staticClass:"container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.underInv,expression:"underInv"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.underInv)?t._i(t.underInv,null)>-1:t.underInv},on:{change:function(e){var o=t.underInv,n=e.target,l=!!n.checked;if(Array.isArray(o)){var s=t._i(o,null);n.checked?s<0&&(t.underInv=o.concat([null])):s>-1&&(t.underInv=o.slice(0,s).concat(o.slice(s+1)))}else t.underInv=l}}}),t._v(" "),o("span",{staticClass:"checkmark"})])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-6 col-sm-4 col-form-label"},[t._v("วัตถุดิบใกล้หมดอายุ")]),t._v(" "),o("div",{staticClass:"col-lg-6"},[o("label",{staticClass:"container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.closeToExp,expression:"closeToExp"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.closeToExp)?t._i(t.closeToExp,null)>-1:t.closeToExp},on:{change:function(e){var o=t.closeToExp,n=e.target,l=!!n.checked;if(Array.isArray(o)){var s=t._i(o,null);n.checked?s<0&&(t.closeToExp=o.concat([null])):s>-1&&(t.closeToExp=o.slice(0,s).concat(o.slice(s+1)))}else t.closeToExp=l}}}),t._v(" "),o("span",{staticClass:"checkmark"})])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-lg-6 col-sm-4 col-form-label"},[t._v("Hold")]),t._v(" "),o("div",{staticClass:"col-lg-6"},[o("label",{staticClass:"container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.hold,expression:"hold"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hold)?t._i(t.hold,null)>-1:t.hold},on:{change:function(e){var o=t.hold,n=e.target,l=!!n.checked;if(Array.isArray(o)){var s=t._i(o,null);n.checked?s<0&&(t.hold=o.concat([null])):s>-1&&(t.hold=o.slice(0,s).concat(o.slice(s+1)))}else t.hold=l}}}),t._v(" "),o("span",{staticClass:"checkmark"})])])])])]),t._v(" "),o("div",{staticClass:"text-right"},[o("button",{staticClass:"btn btn-w-m btn-default",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.onClickResetBtn(e)}}},[o("i",{staticClass:"fa fa-refresh"}),t._v(" ล้างค่า\n                        ")]),t._v(" "),o("button",{staticClass:"btn btn-w-m btn-default",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.onClickSearchBtn(e)}}},[o("i",{staticClass:"fa fa-search"}),t._v(" ค้นหา\n                        ")])])])]),t._v(" "),o("div",{staticClass:"ibox"},[o("div",{staticClass:"ibox-content"},[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),t.rows.length?o("tbody",t._l(t.rows,(function(e){return o("tr",[o("td",[t._v(t._s(e.segment1))]),t._v(" "),o("td",[t._v(t._s(e.lookup_code))]),t._v(" "),o("td",[t._v(t._s(e.description))]),t._v(" "),o("td",[t._v(t._s(e.tobacco_group))]),t._v(" "),o("td",[t._v(t._s(e.subinventory_code))]),t._v(" "),o("td",[t._v(t._s(e.locator_code))]),t._v(" "),o("td",[t._v(t._s(e.lot_number))]),t._v(" "),o("td",[t._v(t._s(e.onhand_quantity))]),t._v(" "),o("td",[t._v(t._s(e.primary_uom_code))]),t._v(" "),o("td",[t._v(t._s(e.min_qty))]),t._v(" "),o("td",[t._v(t._s(e.max_qty))]),t._v(" "),o("td",[t._v(t._s(e.origination_date))]),t._v(" "),o("td",[t._v(t._s(e.expiration_date))]),t._v(" "),o("td",[o("div",{staticClass:"form-check abc-checkbox form-check-inline m-l-md"},[o("input",{staticClass:"form-check-input",attrs:{type:"checkbox",disabled:""},domProps:{checked:"Y"==e.hold_date}})])])])})),0):o("tbody",[t._m(1)])])])])])])])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",[t._v("รหัสวัตถุดิบ")]),t._v(" "),o("th",{staticStyle:{"min-width":"250px"}},[t._v("รายละเอียด")]),t._v(" "),o("th",[t._v("ประเภทวัตถุดิบ")]),t._v(" "),o("th",[t._v("กลุ่มวัตถุดิบ")]),t._v(" "),o("th",[t._v("คลังจัดเก็บ")]),t._v(" "),o("th",[t._v("สถานที่จัดเก็บ")]),t._v(" "),o("th",[t._v("Lot No.")]),t._v(" "),o("th",[t._v("ปริมาณคงคลัง")]),t._v(" "),o("th",[t._v("หน่วย")]),t._v(" "),o("th",[t._v("ปริมาณจัดเก็บต่ำสุด")]),t._v(" "),o("th",[t._v("ปริมาณจัดเก็บมากสุด")]),t._v(" "),o("th",[t._v("วันที่ได้รับ")]),t._v(" "),o("th",[t._v("วันหมดอายุ")]),t._v(" "),o("th",[t._v("hold")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("td",{attrs:{colspan:"14"}},[t._v("ไม่พบข้อมูล")])])}],!1,null,"0e2f710d",null).exports},96672:(t,e,o)=>{var n=o(74561);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);(0,o(45346).Z)("ce25d58e",n,!0,{})}}]);