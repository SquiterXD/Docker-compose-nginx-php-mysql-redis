(self.webpackChunk=self.webpackChunk||[]).push([[9544],{89544:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(87757),s=a.n(n);function c(e,t,a,n,s,c,r){try{var i=e[c](r),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,s)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(n,s){var r=e.apply(t,a);function i(e){c(r,n,s,i,l,"next",e)}function l(e){c(r,n,s,i,l,"throw",e)}i(void 0)}))}}const i={props:["customer","customers","bankAccount","bankAccounts","defaultValue","old","bankUniques","bankAccountTypes","banks","branchs"],data:function(){return{customerResult:"",bankResult:"",customer_id:this.old.customer_id?Number(this.old.customer_id):this.defaultValue?Number(this.defaultValue.customer_id):"",customer_name:this.old.customer_name?this.old.customer_name:this.defaultValue?this.customer.customer_name:"",bank_id:this.old.bank_id?this.old.bank_id:this.defaultValue?this.defaultValue.bank_id:"",bank_name:this.old.bank_name?this.old.bank_name:this.defaultValue?this.defaultValue.bank_name:"",account_num:this.old.account_number?this.old.account_number:this.defaultValue?this.defaultValue.account_number:"",account_type_id:this.old.account_type_id?this.old.account_type_id:this.defaultValue?this.defaultValue.account_type_id:"",disabledEdit:!!this.defaultValue,start_date:this.defaultValue?this.defaultValue.start_date:"",end_date:this.defaultValue?this.defaultValue.end_date:"",branchLoading:!1,branch_id:this.old.branch_id?Number(this.old.branch_id):this.defaultValue?Number(this.defaultValue.branch_id):"",branch_name:"",branchLists:[]}},mounted:function(){this.bank_id&&(this.setBankName(),this.getBankBranchs(),this.branch_id&&this.setBranchName())},methods:{setCustomerName:function(){var e=this;return r(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.customer_id?(a=e.customers.filter((function(t){return t.customer_id==e.customer_id})),e.customerResult=a[0],e.customer_name=e.customerResult.customer_name):e.customerResult=null;case 1:case"end":return t.stop()}}),t)})))()},setBankName:function(){var e=this;return r(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.bank_id?(a=e.banks.filter((function(t){return t.bank_party_id==e.bank_id})),e.bankResult=a[0],e.bank_name=e.bankResult.bank_name):e.bankResult=null;case 1:case"end":return t.stop()}}),t)})))()},onlyNumeric:function(){this.account_num=this.account_num.replace(/[^0-9 .]/g,"")},getBankBranchs:function(){var e=this;return r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.bank_id||(e.branchLoading=!0,e.branch_id="",e.branchLists=[]),axios.get("/om/ajax/get-bank-branchs",{params:{bank_id:e.bank_id}}).then((function(t){e.branchLoading=!1,e.branchLists=t.data}));case 2:case"end":return t.stop()}}),t)})))()},setBranchName:function(){var e=this;return r(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.branch_id?(a=e.branchs.filter((function(t){return t.branch_party_id==e.branch_id})),e.bankResult=a[0],e.branch_name=e.bankResult.bank_branch_name):e.bankResult=null;case 1:case"end":return t.stop()}}),t)})))()}}};const l=(0,a(51900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-5"},[e._m(0),e._v(" "),a("input",{attrs:{type:"hidden",name:"customer_id",autocomplete:"off"},domProps:{value:e.customer_id}}),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:e.setCustomerName},model:{value:e.customer_id,callback:function(t){e.customer_id=t},expression:"customer_id"}},e._l(e.customers,(function(e){return a("el-option",{key:e.customer_id,attrs:{label:e.customer_number+" : "+e.customer_name,value:e.customer_id}})})),1)],1),e._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[e._v(" ชื่อลูกค้า ")]),e._v(" "),a("el-input",{attrs:{name:"customer_name",disabled:""},model:{value:e.customer_name,callback:function(t){e.customer_name=t},expression:"customer_name"}})],1)]),e._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-5"},[e._m(1),e._v(" "),a("input",{attrs:{type:"hidden",name:"bank_id",autocomplete:"off"},domProps:{value:e.bank_id}}),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},on:{change:function(t){e.setBankName(),e.getBankBranchs()}},model:{value:e.bank_id,callback:function(t){e.bank_id=t},expression:"bank_id"}},e._l(e.banks,(function(e){return a("el-option",{key:e.bank_party_id,attrs:{label:e.bank_number+" : "+e.bank_name,value:e.bank_party_id}})})),1)],1),e._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[e._v(" ชื่อธนาคาร ")]),e._v(" "),a("el-input",{attrs:{name:"bank_name",disabled:""},model:{value:e.bank_name,callback:function(t){e.bank_name=t},expression:"bank_name"}})],1)]),e._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:this.branchLoading,expression:"this.branchLoading"}],staticClass:"col-md-5"},[a("label",[e._v(" รหัสสาขา ")]),e._v(" "),a("input",{attrs:{type:"hidden",name:"branch_id",autocomplete:"off"},domProps:{value:e.branch_id}}),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",disabled:this.branchLists.length<1},on:{change:e.setBranchName},model:{value:e.branch_id,callback:function(t){e.branch_id=t},expression:"branch_id"}},e._l(e.branchLists,(function(e){return a("el-option",{key:e.branch_party_id,attrs:{label:e.branch_number+" : "+e.bank_branch_name,value:e.branch_party_id}})})),1)],1),e._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[e._v(" ชื่อสาขา ")]),e._v(" "),a("el-input",{attrs:{name:"branch_name",disabled:""},model:{value:e.branch_name,callback:function(t){e.branch_name=t},expression:"branch_name"}})],1)]),e._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-5"},[e._m(2),e._v(" "),a("el-input",{attrs:{name:"account_num"},on:{input:e.onlyNumeric},model:{value:e.account_num,callback:function(t){e.account_num=t},expression:"account_num"}})],1),e._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[e._v(" ประเภทบัญชี ")]),e._v(" "),a("input",{attrs:{type:"hidden",name:"account_type_id",autocomplete:"off"},domProps:{value:e.account_type_id}}),e._v(" "),a("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:""},model:{value:e.account_type_id,callback:function(t){e.account_type_id=t},expression:"account_type_id"}},e._l(e.bankAccountTypes,(function(e){return a("el-option",{key:e.lookup_code,attrs:{label:e.description,value:e.lookup_code}})})),1)],1)]),e._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[e._v(" วันที่เริ่มต้น ")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"วันที่เริ่มต้น",name:"start_date",format:"dd-MM-yyyy"},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),e._v(" "),a("div",{staticClass:"col-md-5"},[a("label",[e._v(" วันที่สิ้นสุด ")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"วันที่สิ้นสุด",name:"end_date",format:"dd-MM-yyyy"},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" รหัสลูกค้า "),a("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" รหัสธนาคาร "),a("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" หมายเลขบัญชี "),a("span",{staticClass:"text-danger"},[e._v("*")])])}],!1,null,null,null).exports}}]);