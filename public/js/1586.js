(self.webpackChunk=self.webpackChunk||[]).push([[1586],{72719:(t,e,a)=>{"use strict";a.d(e,{Z:()=>s});var n=a(23645),o=a.n(n)()((function(t){return t[1]}));o.push([t.id,"td[data-v-627a9652],th[data-v-627a9652]{padding:.25rem}th[data-v-627a9652]{background:#fff;position:-webkit-sticky;position:sticky;top:0}.highlight[data-v-627a9652]{cursor:pointer;background-color:#d4edda}.el-form-item[data-v-627a9652]{margin-bottom:0!important}.mx-datepicker[data-v-627a9652]{height:33px!important}",""]);const s=o},4742:(t,e,a)=>{"use strict";a.d(e,{Z:()=>s});var n=a(23645),o=a.n(n)()((function(t){return t[1]}));o.push([t.id,'.el-form-item__content{line-height:40px;position:relative;font-size:14px;margin-left:0!important}.table.b-table>thead>tr>[aria-sort]>div{display:flex;justify-content:space-between;align-items:flex-end}.table.b-table>thead>tr>[aria-sort]{cursor:pointer}table.b-table>tfoot>tr>th[aria-sort=descending]>div:before,table.b-table>thead>tr>th[aria-sort=descending]>div:before{content:"";padding-left:15px}table.b-table>tfoot>tr>th[aria-sort=descending]>div:after,table.b-table>thead>tr>th[aria-sort=descending]>div:after{opacity:1;content:"\\2193";padding-left:10px}table.b-table>tfoot>tr>th[aria-sort=ascending]>div:before,table.b-table>thead>tr>th[aria-sort=ascending]>div:before{content:"";padding-left:15px}table.b-table>tfoot>tr>th[aria-sort=ascending]>div:after,table.b-table>thead>tr>th[aria-sort=ascending]>div:after{opacity:1;content:"\\2191";padding-left:10px}table.b-table>tfoot>tr>th[aria-sort=none]>div:before,table.b-table>thead>tr>th[aria-sort=none]>div:before{content:"";padding-left:15px}table.b-table>tfoot>tr>th[aria-sort=none]>div:after,table.b-table>thead>tr>th[aria-sort=none]>div:after{opacity:1;content:"\\21C5";font-weight:400;padding-left:10px}.table-active,.table-active>td,.table-active>th,.table-hover>tbody>tr:hover{background-color:#d4edda!important}',""]);const s=o},91586:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>tt});var n=a(67791),o=a(12364);const s={name:"ir-asset-plan-department-location",data:function(){return{departmentLocations:[],loading:!1,department_location_code:this.departmentLocationCode}},props:["attrName","departmentLocationCode","indexTable","rows"],methods:{remoteMethodDepartmentLocation:function(t){this.getDepartmentLocations({meaning:"",keyword:t})},getDepartmentLocations:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-location",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.departmentLocations=a})).catch((function(t){swal("Error",t,"error")}))},focusDepartmentLocation:function(t){this.getDepartmentLocations({meaning:"",keyword:""})},changeDepartmentLocation:function(t){if(t)for(var e in this.departmentLocations){var a=this.departmentLocations[e];a.meaning===t&&(this.rows[this.indexTable].department_location_code=t,this.rows[this.indexTable].department_location_desc=a.description)}else this.rows[this.indexTable].department_location_code="",this.rows[this.indexTable].department_location_desc="";this.$emit("change-value-department-locations",this.rows)}},mounted:function(){this.getDepartmentLocations({meaning:"",keyword:""})},watch:{departmentLocationCode:function(t,e){this.department_location_code=t}}};var i=a(51900);const r=(0,i.Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสหน่วยงานตามสถานที่",name:t.attrName,"remote-method":t.remoteMethodDepartmentLocation,loading:t.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:t.changeDepartmentLocation,focus:t.focusDepartmentLocation},model:{value:t.department_location_code,callback:function(e){t.department_location_code=e},expression:"department_location_code"}},t._l(t.departmentLocations,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const c={name:"ir-asset-plan-lov-department-cost",data:function(){return{departmentCosts:[],loading:!1,department_cost_code:this.departmentCostCode}},props:["attrName","departmentCostCode","indexTable","rows"],methods:{remoteMethodDepartmentCost:function(t){this.getDepartmentCosts({department_code:"",keyword:t})},getDepartmentCosts:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.departmentCosts=a})).catch((function(t){swal("Error",t,"error")}))},focusDepartmentCost:function(t){this.getDepartmentCosts({department_code:"",keyword:""})},changeDepartmentCost:function(t){if(t)for(var e in this.departmentCosts){var a=this.departmentCosts[e];a.meaning===t&&(this.rows[this.indexTable].department_cost_code=t,this.rows[this.indexTable].department_cost_desc=a.description)}else this.rows[this.indexTable].department_cost_code="",this.rows[this.indexTable].department_cost_desc="";this.$emit("change-value-department-costs",this.rows)}},mounted:function(){this.getDepartmentCosts({department_code:"",keyword:""})},watch:{departmentCostCode:function(t,e){this.department_cost_code=t}}};const l=(0,i.Z)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสหน่วยงานตามค่าใช้จ่าย",name:t.attrName,"remote-method":t.remoteMethodDepartmentCost,loading:t.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:t.changeDepartmentCost,focus:t.focusDepartmentCost},model:{value:t.department_cost_code,callback:function(e){t.department_cost_code=e},expression:"department_cost_code"}},t._l(t.departmentCosts,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const u={name:"ir-asset-plan-lov-department",data:function(){return{departments:[],loading:!1,department_code:this.departmentCode}},props:["attrName","departmentCode","indexTable","rows"],methods:{remoteMethodDepartment:function(t){this.getDepartments({value:"",keyword:t})},getDepartments:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/cat-segment1",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.departments=a})).catch((function(t){swal("Error",t,"error")}))},focusDepartment:function(t){this.getDepartments({value:"",keyword:""})},changeDepartment:function(t){if(t)for(var e in this.departments){var a=this.departments[e];a.meaning===t&&(this.rows[this.indexTable].department_code=t,this.rows[this.indexTable].department_name=a.description)}else this.rows[this.indexTable].department_code="",this.rows[this.indexTable].department_name="";this.$emit("change-value-departments",this.rows)}},mounted:function(){this.getDepartments({value:"",keyword:""})},watch:{departmentCode:function(t,e){this.department_code=t}}};const d=(0,i.Z)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสสังกัด",name:t.attrName,"remote-method":t.remoteMethodDepartment,loading:t.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:t.changeDepartment,focus:t.focusDepartment},model:{value:t.department_code,callback:function(e){t.department_code=e},expression:"department_code"}},t._l(t.departments,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const m={name:"ir-asset-plan-lov-category",data:function(){return{categories:[],loading:!1,category_id:this.categoryId}},props:["attrName","categoryId","indexTable","rows"],methods:{remoteMethodCategory:function(t){this.getCategories({value:"",keyword:t})},getCategories:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/category-seg4",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.categories=a})).catch((function(t){swal("Error",t,"error")}))},focusCategory:function(t){this.getCategories({value:"",keyword:""})},changeCategory:function(t){if(t)for(var e in this.categories){var a=this.categories[e];a.meaning===t&&(this.rows[this.indexTable].category_code=t,this.rows[this.indexTable].category_description=a.description,this.rows[this.indexTable].category_id=a.value?+a.value:a.value)}else this.rows[this.indexTable].category_code="",this.rows[this.indexTable].category_description="",this.rows[this.indexTable].category_id="";this.$emit("change-value-categories",this.rows)}},mounted:function(){this.getCategories({value:"",keyword:""})},watch:{categoryId:function(t,e){this.category_id=t}}};const _=(0,i.Z)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"รหัสหมวด",name:t.attrName,"remote-method":t.remoteMethodCategory,loading:t.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:t.changeCategory,focus:t.focusCategory},model:{value:t.category_id,callback:function(e){t.category_id=e},expression:"category_id"}},t._l(t.categories,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.meaning}})})),1)],1)}),[],!1,null,null,null).exports;const p={name:"ir-asset-plan-lov-receivable",data:function(){return{receivables:[],loading:!1,receivable_name:this.receivable}},props:["attrName","receivable","indexTable","rows","headerRow"],methods:{remoteMethodReceivable:function(t){this.getReceivables({value:"",keyword:t})},getReceivables:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/receivable-charge",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.receivables=a})).catch((function(t){swal("Error",t,"error")}))},focusReceivable:function(t){this.getReceivables({value:"",keyword:""})},changeReceivable:function(t){if(t)for(var e in this.receivables){this.receivables[e].description===t&&(this.rows[this.indexTable].receivable_name=t)}else this.rows[this.indexTable].receivable_name="";this.$emit("change-value-receivables",this.rows)}},mounted:function(){this.getReceivables({value:"",keyword:""})},watch:{receivable:function(t,e){this.receivable_name=t}}};const h=(0,i.Z)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"เรียกเก็บ",name:t.attrName,"remote-method":t.remoteMethodReceivable,loading:t.loading,remote:"",clearable:!0,filterable:"",size:"small"},on:{change:t.changeReceivable,focus:t.focusReceivable},model:{value:t.receivable_name,callback:function(e){t.receivable_name=e},expression:"receivable_name"}},t._l(t.receivables,(function(t,e){return a("el-option",{key:e,attrs:{label:t.description,value:t.description}})})),1)],1)}),[],!1,null,null,null).exports;var f=a(61701),v=a(84371),g=a(49710),b=a(30077),y=a(57460),w=a(9882),C=a(35938),x=a(8613),k=a(22374),R=a(75721),A=a(31262),L=a(25826),N=a(24829);const D={name:"ir-asset-increase-modal-account-code",data:function(){return{argSearchCompany:{compnany_code:"",description:""},account_code:"",account_name:"",description:this.descriptions,rules:{company:[{required:!0,message:"กรุณาระบุ Company Code",trigger:"change"}],branch:[{required:!0,message:"กรุณาระบุ EVM",trigger:"change"}],department:[{required:!0,message:"กรุณาระบุ Department",trigger:"change"}],product:[{required:!0,message:"กรุณาระบุ Cost Center",trigger:"change"}],source:[{required:!0,message:"กรุณาระบุ Budget Year",trigger:"change"}],account:[{required:!0,message:"กรุณาระบุ Budget Type",trigger:"change"}],subAccount:[{required:!0,message:"กรุณาระบุ Budget Detail",trigger:"change"}],projectActivity:[{required:!0,message:"กรุณาระบุ Budget Reason",trigger:"change"}],interCompany:[{required:!0,message:"กรุณาระบุ Main Account",trigger:"change"}],allocation:[{required:!0,message:"กรุณาระบุ Sub Account",trigger:"change"}],futureUsed1:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}],futureUsed2:[{required:!0,message:"กรุณาระบุ Reserved",trigger:"change"}]},account:this.accounts,account_id:this.accountId,typeCost:this.type_cost,disabled:!1}},props:["index","rows","accounts","accountId","type_cost","descriptions","coa"],computed:{propProduct:function(){return{prop3:"department_code",value:this.account.department}},propSubAccount:function(){return{prop3:"budget_type",value:this.account.account}},propAllocation:function(){return{prop3:"main_account",value:this.account.interCompany}},checkAccountCode:function(){for(var t in this.account){return!!this.account[t]}return!1},checkAccountDesc:function(){for(var t in this.description){return!!this.description[t]}return!1}},methods:{clickAgree:function(){var t=this;this.$refs.modal_account_mapping.validate((function(e){if(e){t.account_code=t.account.company+"."+t.account.branch+"."+t.account.department+"."+t.account.product+"."+t.account.source+"."+t.account.account+"."+t.account.subAccount+"."+t.account.projectActivity+"."+t.account.interCompany+"."+t.account.allocation+"."+t.account.futureUsed1+"."+t.account.futureUsed2,t.account_desc=t.description.department+"."+t.description.interCompany+"."+t.description.allocation,t.rows[t.index].account_code=t.account_code,t.rows[t.index].account_desc=t.account_desc,t.rows[t.index].account_code_desc=t.account_desc;var a=t.account_code,n=a.split(".");axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:n,coaEnter:a}}).then((function(e){"E"==e.data.status?(swal({title:"Warning",text:e.data.msg,type:"warning",closeOnConfirm:!0},(function(t){})),t.rows[t.index].account_code="",t.rows[t.index].account_desc="",t.account.company="",t.account.branch="",t.account.department="",t.account.product="",t.account.source="",t.account.account="",t.account.subAccount="",t.account.projectActivity="",t.account.interCompany="",t.account.allocation="",t.account.futureUsed1="",t.account.futureUsed2=""):(t.$emit("select-accounts",t.rows),t.$emit("clear-req",t.account_code),$("#modal_account".concat(t.index)).modal("hide"))}))}}))},getDataCompany:function(t){this.account.company=t.value,this.description.company=t.desc},getDataBranch:function(t){this.account.branch=t.value,this.description.branch=t.desc},getValueDepartment:function(t){this.account.department=t.value,this.description.department=t.desc},getDataProduct:function(t){this.account.product=t.value,this.description.product=t.desc},getDataSource:function(t){this.account.source=t.value,this.description.source=t.desc},getDataAccount:function(t){this.account.account=t.value,this.description.account=t.desc},getDataSubAccount:function(t){this.account.subAccount=t.value,this.description.subAccount=t.desc},getDataProjectActivity:function(t){this.account.projectActivity=t.value,this.description.projectActivity=t.desc},getDataInterCompany:function(t){this.account.interCompany=t.value,this.description.interCompany=t.desc},getDataAllocation:function(t){this.account.allocation=t.value,this.description.allocation=t.desc},getDataFutureUsed1:function(t){this.account.futureUsed1=t.value,this.description.futureUsed1=t.desc},getDataFutureUsed2:function(t){this.account.futureUsed2=t.value,this.description.futureUsed2=t.desc},getValueAccount:function(t){this.account=t.account,this.description=t.description},getValueTypeCode:function(t,e){this.rows.length>0&&(this.rows[this.index].account_id=t.id,this.rows[this.index].type_cost=t.code),t.code?this.disabled=!0:this.disabled=!1}},components:{lovCompany:f.Z,lovBranch:v.Z,lovDepartment:g.Z,lovProduct:b.Z,lovSource:y.Z,lovAccount:w.Z,lovSubAccount:C.Z,lovProjectActivity:x.Z,lovInterCompany:k.Z,lovAllocation:R.Z,lovFutureUsed1:A.Z,lovFutureUsed2:L.Z,lovTypeCost:N.Z},watch:{accounts:function(t,e){this.account=t},type_cost:function(t,e){this.typeCost=t},descriptions:function(t,e){this.description=t},accountId:function(t,e){this.account_id=t}},mounted:function(){this.accounts}};const E=(0,i.Z)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal inmodal fade",attrs:{id:"modal_account"+t.index,tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.clickAgree()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),a("p",{staticClass:"modal-title text-left"},[t._v("ข้อมูลรหัสบัญชี (Account Mapping)")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("el-form",{ref:"modal_account_mapping",staticClass:"demo-ruleForm",attrs:{model:t.account,rules:t.rules,"label-width":"120px"}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Company Code *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"company"}},[a("lov-company",{attrs:{attrName:"segmentCompany"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataCompany},model:{value:t.account.company,callback:function(e){t.$set(t.account,"company",e)},expression:"account.company"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              EVM *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"branch"}},[a("lov-branch",{attrs:{attrName:"segmentBranch"+t.index,vendorId:"",disabled:t.disabled},on:{"change-lov-segment":t.getDataBranch},model:{value:t.account.branch,callback:function(e){t.$set(t.account,"branch",e)},expression:"account.branch"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Department *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"department"}},[a("lov-department",{attrs:{attrName:"segmentDepartment"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getValueDepartment},model:{value:t.account.department,callback:function(e){t.$set(t.account,"department",e)},expression:"account.department"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Cost Center *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"product"}},[a("lov-product",{attrs:{attrName:"segmentProduct"+t.index,departmentCode:t.account.department,disabled:t.disabled},on:{"change-lov-segment":t.getDataProduct},model:{value:t.account.product,callback:function(e){t.$set(t.account,"product",e)},expression:"account.product"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Budget Year *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"source"}},[a("lov-source",{attrs:{attrName:"segmentSource"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataSource},model:{value:t.account.source,callback:function(e){t.$set(t.account,"source",e)},expression:"account.source"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Budget Type *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"account"}},[a("lov-account",{attrs:{attrName:"segmentAccount"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataAccount},model:{value:t.account.account,callback:function(e){t.$set(t.account,"account",e)},expression:"account.account"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Budget Detail *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"subAccount"}},[a("lov-sub-account",{attrs:{attrName:"segmentSubAccount"+t.index,budgetType:t.account.account,disabled:t.disabled},on:{"change-lov-segment":t.getDataSubAccount},model:{value:t.account.subAccount,callback:function(e){t.$set(t.account,"subAccount",e)},expression:"account.subAccount"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Budget Reason *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"projectActivity"}},[a("lov-project-activity",{attrs:{attrName:"segmentProjectActivity"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataProjectActivity},model:{value:t.account.projectActivity,callback:function(e){t.$set(t.account,"projectActivity",e)},expression:"account.projectActivity"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Main Account *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"interCompany"}},[a("lov-inter-company",{attrs:{attrName:"segmentInterCompany"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataInterCompany},model:{value:t.account.interCompany,callback:function(e){t.$set(t.account,"interCompany",e)},expression:"account.interCompany"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Sub Account *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"allocation"}},[a("lov-allocation",{attrs:{attrName:"`segmentAllocation${index}`",mainAccount:t.account.interCompany,disabled:t.disabled},on:{"change-lov-segment":t.getDataAllocation},model:{value:t.account.allocation,callback:function(e){t.$set(t.account,"allocation",e)},expression:"account.allocation"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Reserved *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed1"}},[a("lov-future-used1",{attrs:{attrName:"segmentFutureUsed1"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataFutureUsed1},model:{value:t.account.futureUsed1,callback:function(e){t.$set(t.account,"futureUsed1",e)},expression:"account.futureUsed1"}})],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-5 col-form-label lable_align"},[t._v("\n              Reserved *\n            ")]),t._v(" "),a("div",{staticClass:"col-md-6 el_field"},[a("el-form-item",{attrs:{prop:"futureUsed2"}},[a("lov-future-used2",{attrs:{attrName:"segmentFutureUsed2"+t.index,disabled:t.disabled},on:{"change-lov-segment":t.getDataFutureUsed2},model:{value:t.account.futureUsed2,callback:function(e){t.$set(t.account,"futureUsed2",e)},expression:"account.futureUsed2"}})],1)],1)])])],1),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.clickAgree()}}},[a("i",{staticClass:"fa fa-check-circle-o"}),t._v(" ตกลง\n        ")])])])])])}),[],!1,null,null,null).exports;const S={name:"ir-asset-plan-ceil-thousand-currency-input",data:function(){return{isInputActive:!1,cover_amount_edit:""}},props:["value","rows","index","isChangeCeli","isBlurCeli","insurance_amount_master","vat_amount_master","sizeSmall","placeholder"],computed:{displayValue:{get:function(){return this.cover_amount_edit=this.value,this.isInputActive?(void 0===this.value||null===this.value?"":this.value).toString():this.value||0===this.value&&void 0!==this.value&&null!==this.value?parseFloat(this.value).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"):void 0},set:function(t){var e=+t;isNaN(e)&&(e=""),this.$emit("input",e)}}},methods:{ceilThousand:function(t){t=""===t||null==t?"0":t;var e="";this.isBlurCeli?(this.isInputActive=!1,e=void 0===this.displayValue||null===this.displayValue?"":this.displayValue):this.isChangeCeli&&(e=t.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"));var a=e.toString().split(","),n=t.toString().split("."),o=a.length-1,s="";parseInt(a[o])<=999&&(s=1e3*Math.ceil(n[0]/1e3),isNaN(s)&&(s="")),this.$emit("value-cover-amount",s)},calFromCoverageAmountFlgEdit:function(t,e){if(this.isChangeCeli){var a=this.cover_amount_edit;""!==a&&null!=a||(a=0)}}}};const I=(0,i.Z)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.sizeSmall?"el-input--small":""},[t.isChangeCeli?a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayValue,expression:"displayValue"}],staticClass:"form-control el-input__inner text-right",attrs:{type:"text",autocomplete:"off",placeholder:t.placeholder,maxlength:"15"},domProps:{value:t.displayValue},on:{blur:function(e){t.isInputActive=!1},focus:function(e){t.isInputActive=!0},change:function(e){return t.ceilThousand(e.target.value)},input:function(e){e.target.composing||(t.displayValue=e.target.value)}}}):t._e(),t._v(" "),t.isBlurCeli?a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayValue,expression:"displayValue"}],staticClass:"form-control el-input__inner text-right",attrs:{type:"text",autocomplete:"off",placeholder:t.placeholder,maxlength:"15"},domProps:{value:t.displayValue},on:{blur:function(e){return t.ceilThousand(t.value)},focus:function(e){t.isInputActive=!0},input:function(e){e.target.composing||(t.displayValue=e.target.value)}}}):t._e()])}),[],!1,null,null,null).exports;var j=a(17159),U=a(30381),F=a.n(U),T=a(75943);function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(Object(a),!0).forEach((function(e){Z(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Z(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const B={name:"ir-asset-plan-edit-table-line",data:function(){return{total_net:{a1:0,a2:0,a3:0,a4:0},setDataRowsNotInterface:[],complete:!0,columnSelected:[],columnSelectedId:[],manual_cover_amounts:[],indexTable:0,account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},account2:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},rules:{department_location_code:[{required:!0,message:"กรุณาระบุรหัสหน่วยงานตามสถานที่",trigger:"change"}],department_cost_code:[{required:!0,message:"กรุณาระบุรหัสหน่วยงานตามค่าใช้จ่าย",trigger:"change"}],account_code:[{required:!0,message:"กรุณาระบุรหัสบัญชี",trigger:"blur"}],asset_number:[{required:!0,message:"กรุณาระบุรหัสทรัพย์สิน",trigger:"blur"}],department_code:[{required:!0,message:"กรุณาระบุรหัสสังกัด",trigger:"change"}],location_name:[{required:!0,message:"กรุณาระบุกลุ่มของทรัพย์สิน",trigger:"change"}],category_code:[{required:!0,message:"กรุณาระบุรหัสหมวด",trigger:"change"}],quantity:[{required:!0,message:"กรุณาระบุจำนวน",trigger:"blur"}],adjustment_amount:[{required:!0,message:"กรุณาระบุราคาทุน",trigger:"blur"}]},res_rows_id:[],accountId:"",type_cost:"",coa:"",dataLoading:!1,disabled_change_page:!1,current_page:1,totalRows:0,per_page:10,sortBy:"",sortDesc:!1,sortDirection:"asc",showLoading:!1,isBusy:!1,fields:[{key:"selected",sortable:!1,class:"text-center text-nowrap options-column align-middle"},{key:"line_no",sortable:!0,class:"text-center text-nowrap options-column align-middle"},{key:"status",sortable:!0,class:"text-nowrap options-column align-middle",tdClass:"align-middle"},{key:"line_type",sortable:!0,class:"text-nowrap options-column align-middle",tdClass:"align-middle"},{key:"department_location_code",sortable:!0,class:"text-center text-nowrap options-column align-middle",tdClass:"align-middle"},{key:"department_location_desc",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"department_cost_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle"},{key:"department_cost_desc",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"account_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle"},{key:"account_desc",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"asset_number",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle"},{key:"department_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle"},{key:"department_name",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"location_name",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"category_code",sortable:!0,class:"text-center text-nowrap align-middle",tdClass:"align-middle"},{key:"category_description",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"quantity",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"current_cost",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"adjustment_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"insurance_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"duty_amount",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"cal1",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"cal2",sortable:!0,class:"text-right text-nowrap align-middle",tdClass:"align-middle"},{key:"receivable_name",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"expense_flag",sortable:!0,class:"text-nowrap align-middle",tdClass:"align-middle"},{key:"remove",sortable:!1,class:"text-center text-nowrap align-middle",thStyle:"min-width: 65px;"}]}},props:["isNullOrUndefined","formatCurrency","headerRow","insurance_amount_master","vat_amount_master","form","yearTh","setFirstLetterUpperCase","showYearBE","setYearCE","tableLineAll","perPage","vars","setLabelExpenseFlag","setLabelStatusAsset","revenue_stamp","checkExpenseFlag","lastRowId"],methods:{onRowSelected:function(t){this.selected=t},rowClass:function(t,e,a){if(t&&"row"===e)return t.rowId===this.lastRowId?"newLine":void 0},vat_cal_value:function(t,e){return""!==t?(7*(Number(Number(t).toFixed(2))+Number(Number(e).toFixed(2)))/100).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):""},net_amount:function(t,e,a){return""!==t&&""!==e&&""!==a?(Number(Number(t).toFixed(2))+Number(Number(e).toFixed(2))+Number(Number(a.replace(/,/g,"")).toFixed(2))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):""},formatSum:function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Number(Number(Number(t).toFixed(2))+Number(Number(e).toFixed(2))+Number(Number(a).toFixed(2))+Number(Number(n).toFixed(2))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatTotal:function(t,e,a){return Number(Number(t.replaceAll(",",""))+Number(e.replaceAll(",",""))+Number(a.replaceAll(",",""))).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},clickSelectAll:function(){var t=this;t.columnSelected=[],t.columnSelectedId=[];var e=$('input[name="asset_plan_select_all"]').is(":checked");t.form.tableLine.forEach((function(a,n){e&&!t.checkStatusInterface(a.status)&&t.complete&&!t.checkExpenseFlag&&t.setSelectedColumn(a)}))},clickSelectRow:function(t,e){var a=this;if($('input[name="asset_plan_select'.concat(t,'"]')).is(":checked")){a.setSelectedColumn(e),a.form.tableLine.filter((function(t,e){return!(a.checkStatusInterface(t.status)||!a.complete||a.checkExpenseFlag)})).length===a.columnSelected.length&&$('input[name="asset_plan_select_all"]').prop("checked",!0)}else{var n=a.columnSelected.indexOf(e);n>-1&&(a.columnSelected.splice(n,1),a.columnSelectedId.splice(n,1)),$('input[name="asset_plan_select_all"]').prop("checked",!1)}},clickConfirm:function(){var t=this;0!==this.columnSelected.length?this.$refs.save_table_line.validate((function(e){if(!e)return!1;t.columnSelected.filter((function(t){return t.status="CONFIRMED",t}))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการยืนยัน!","warning")},clickCancel:function(){var t=this;this.$refs.save_table_line.validate((function(e){if(!e)return!1;t.columnSelected.filter((function(t){return t.status="CANCELLED",t}))})),0===this.columnSelected.length&&swal("Warning","กรุณาเลือกข้อมูลที่ต้องการยกเลิก!","warning")},clickClear:function(){var t=this;0!==this.columnSelected.length?this.$refs.save_table_line.validate((function(e){if(!e)return!1;t.columnSelected.filter((function(t){return t.status="NEW",t}))})):swal("Warning","กรุณาเลือกข้อมูลที่ต้องการรีเซต!","warning")},clickComplete:function(){var t=this;this.$emit("toggle-loading",!0),this.$refs.save_table_line.validate((function(e){e?t.setComplete():t.$emit("toggle-loading",!1)}))},someStatusNew:function(t){return!(!t.status||"new"!==t.status.toLowerCase())},everyStatusNew:function(t){return!(!t.status||"new"!==t.status.toLowerCase())},everyStatusConfirmed:function(t){return!(!t.status||"confirmed"!==t.status.toLowerCase())},everyStatusCancelled:function(t){return!(!t.status||"cancelled"!==t.status.toLowerCase())},someStatusConfirmedCancelled:function(t){return!(!t.status||"confirmed"!==t.status.toLowerCase()&&"cancelled"!==t.status.toLowerCase())},everyStatusInterface:function(t){return!(!t.status||"interface"!==t.status.toLowerCase())},someStatusInterface:function(t){return!(!t.status||"interface"!==t.status.toLowerCase())},setSelectedColumn:function(t){this.columnSelected.push(t),this.columnSelectedId.push(t.rowId)},setDefault:function(){this.$emit("set-default-edit",{searchDefault:!0})},clickIncomplete:function(){var t=this;this.$emit("toggle-loading",!0),this.complete=!this.complete,this.$emit("complete",this.complete),setTimeout((function(){t.$emit("toggle-loading",!1)}),5e3)},getDataAssetGroupTable:function(t){this.form.tableLine[t.rowId].location_code=t.asset_group,this.form.tableLine[t.rowId].location_name=t.asset_group_name,this.form.tableLine[t.rowId].location_id=t.id},getDataRows:function(t){this.form.tableLine=t},focusNotKey:function(){$(".readonly").on("keydown paste focus mousedown",(function(t){9!=t.keyCode&&t.preventDefault()}))},clickModalAccount:function(t,e){var a=this;if(this.indexTable=e,this.$refs.editTableLineModalAccountCode.$refs.modal_account_mapping.clearValidate(),this.accountId=t.account_id,this.type_cost=t.type_cost,this.account.company="",this.account.branch="",this.account.department="",this.account.product="",this.account.source="",this.account.account="",this.account.subAccount="",this.account.projectActivity="",this.account.interCompany="",this.account.allocation="",this.account.futureUsed1="",this.account.futureUsed2="",this.account2.company="",this.account2.branch="",this.account2.department="",this.account2.product="",this.account2.source="",this.account2.account="",this.account2.subAccount="",this.account2.projectActivity="",this.account2.interCompany="",this.account2.allocation="",this.account2.futureUsed1="",this.account2.futureUsed2="",t.account_code){var n=t.account_code,o=n.split(".");this.account.company=o[0],this.account.branch=o[1],this.account.department=o[2],this.account.product=o[3],this.account.source=o[4],this.account.account=o[5],this.account.subAccount=o[6],this.account.projectActivity=o[7],this.account.interCompany=o[8],this.account.allocation=o[9],this.account.futureUsed1=o[10],this.account.futureUsed2=o[11],axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:o,type:"all",coaEnter:n}}).then((function(e){if("E"==e.data.status){swal({title:"Warning",text:e.data.msg,type:"warning",closeOnConfirm:!0},(function(t){}));var n=a.form.tableLine.find((function(e){return e.rowId==t.rowId}));n.account_desc="",n.account_code_desc="",n.account_code="",a.dataLoading=!1}else{var o=e.data.data.split(".");a.account2.company=o[0],a.account2.branch=o[1],a.account2.department=o[2],a.account2.product=o[3],a.account2.source=o[4],a.account2.account=o[5],a.account2.subAccount=o[6],a.account2.projectActivity=o[7],a.account2.interCompany=o[8],a.account2.allocation=o[9],a.account2.futureUsed1=o[10],a.account2.futureUsed2=o[11]}}))}},getDataRowSelectAccount:function(t){this.form.tableLine=t},changeQuantity:function(t,e){this.form.tableLine[e].adjustment_quantity=t},setComplete:function(){var t=this,e=this,a=[];this.form.tableLine.filter((function(e){var n=M(M({},e),{},{adjustment_date:"add"===e.flag?t.setYearCE("date",e.adjustment_date):e.adjustment_date,coverage_amount:e.adjustment_amount});a.push(n)}));var n=this.form.tableLine.filter((function(t){return t.status&&t.status.toLowerCase(),t})),o=(this.form.tableLine.filter((function(t){if(t.receivable_code)return t})),{data:{header_id:this.headerRow.header_id,document_number:this.headerRow.document_number,status:this.checkStatus?this.checkStatus:this.headerRow.status,year:this.headerRow.year,asset_status:this.headerRow.asset_status,policy_set_header_id:this.headerRow.policy_set_header_id,policy_set_description:this.headerRow.policy_set_description,count_asset:n.length||0===n.length?n.length:this.headerRow.count_asset,total_cost:this.headerRow.total_cost,total_cover_amount:this.headerRow.total_cover_amount,total_insu_amount:this.headerRow.total_insu_amount,total_vat_amount:this.headerRow.total_vat_amount,total_net_amount:this.headerRow.total_net_amount,total_rec_insu_amount:this.headerRow.total_rec_insu_amount,receivable_name:this.headerRow.receivable_name,as_of_date:this.headerRow.as_of_date,program_code:"IRP0003",rows:a,start_calculate_date:"",end_calculate_date:"",start_addition_date:"",end_addition_date:"",insurance_start_date:this.headerRow.insurance_start_date,insurance_end_date:this.headerRow.insurance_end_date,rows_delete:[]}});this.headerRow.header_id?"PENDING"==this.checkStatus||"NEW"==this.checkStatus?swal({title:"Warning",text:"มีรายการที่ยังไม่ถูกยืนยัน!",type:"warning",showCancelButton:!0,closeOnConfirm:!1},(function(t){t&&e.receivedCompleted(o)})):e.receivedCompleted(o):swal("Warning","ไม่มีรหัสนี้ในระดับ Header!","warning")},blurAccountCode:function(t,e){t?this.$refs.save_table_line.fields.find((function(t){return t.prop=="tableLine."+e+".account_code"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+e+".account_code")},checkStatusInterface:function(t){return!(!t||"INTERFACE"!==t.toUpperCase())},blurQuantity:function(t,e){t?this.$refs.save_table_line.fields.find((function(t){return t.prop=="tableLine."+e+".quantity"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+e+".quantity")},clearReqAccountCode:function(t){var e=this;t?this.$refs.save_table_line.fields.find((function(t){return t.prop=="tableLine."+e.indexTable+".account_code"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+this.indexTable+".account_code")},calColumn:function(t){this.form.tableLine=t},getValueCoverAmount:function(t,e,a,n){this.setCalulateColumsFromCoverAmount(t,e,n)},getValueCoverAmountFromAdjAmount:function(t,e,a,n){this.setCalulateColumsFromCoverAmount(t,e,n),a?this.$refs.save_table_line.fields.find((function(t){return t.prop=="tableLine."+e+".adjustment_amount"})).clearValidate():this.$refs.save_table_line.validateField("tableLine."+e+".adjustment_amount")},setCalulateColumsFromCoverAmount:function(t,e,a){var n=t||0===t&&null!=t?t:0;this.form.tableLine[e].adjustment_amount=n,this.form.tableLine[e].insurance_amount=n||0===n?n*a.premium_rate/100:0;var o=this.form.tableLine[e].insurance_amount,s=o||0===o?o*this.revenue_stamp/100:0;this.form.tableLine[e].duty_amount=0!=this.revenue_stamp?s:0,this.form.tableLine[e].vat_amount=o||0===o?(o+s)*this.vat_amount_master/100:0,this.form.tableLine[e].net_amount=o||0===o?+o+ +this.form.tableLine[e].duty_amount.toFixed(2)+ +this.form.tableLine[e].vat_amount.toFixed(2):0},receivedCompleted:function(t){var e=this;axios.post("/ir/ajax/asset",t).then((function(t){var a=t.data,n=a.data;e.complete=!e.complete,swal({title:"Success",text:a.message,type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1}),e.$emit("toggle-loading",!1),e.setDefault(),e.$emit("complete",e.complete),e.res_rows_id=n.rows,e.setDisplayBtnRemove(),e.headerRow.document_number=n.document_number})).catch((function(t){e.$emit("toggle-loading",!1),400===t.response.data.status?swal("Warning",t.response.data.message,"warning"):swal("Error",t,"error")}))},getValueAdjustmentDate:function(t,e){var a=this.vars.formatDate;this.form.tableLine[e].adjustment_date=t?F()(t).format(a):""},clickRemove:function(t,e){var a=this;swal({title:"Warning",text:"ต้องการลบหรือไม่?",type:"warning",showCancelButton:!0,closeOnConfirm:!1},(function(e){e&&(t.line_id?axios.post("/ir/ajax/asset/delete",t).then((function(t){t.data.data;swal({title:"Success",text:"",type:"success",timer:3e3,showConfirmButton:!1,closeOnConfirm:!1})})):swal({title:"Success",text:"",timer:3e3,type:"success",showCancelButton:!1,showConfirmButton:!1}),a.tableLineAll.splice(a.tableLineAll.indexOf(t),1),a.form.tableLine.splice(a.form.tableLine.indexOf(t),1))}))},setDisplayBtnRemove:function(){var t=this;this.res_rows_id.length>0&&this.form.tableLine.filter((function(e){return t.res_rows_id.filter((function(t){e.line_id=e.rowId==t.row_id?t.line_id:e.line_id})),e}))},getValueAssetStatus:function(t,e){this.form.tableLine[e].asset_status=t},accountEnter:function(t,e){var a=this,n=t.account_code,o=n.split(".");12==o.length?""==o[0]||""==o[1]||""==o[2]||""==o[3]||""==o[4]||""==o[5]||""==o[6]||""==o[7]||""==o[8]||""==o[9]||""==o[10]||""==o[11]?swal({title:"Warning",text:"กรอกชุดบัญชีไม่ครบ กรุณาตรวจสอบใหม่",type:"warning",closeOnConfirm:!0},(function(t){})):(this.dataLoading=!0,axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:o,coaEnter:n}}).then((function(e){if("E"==e.data.status){swal({title:"Warning",text:e.data.msg,type:"warning",closeOnConfirm:!0},(function(t){}));var n=a.form.tableLine.find((function(e){return e.rowId==t.rowId}));n.account_desc="",n.account_code_desc="",n.account_code="",a.dataLoading=!1}else{var o=a.form.tableLine.find((function(e){return e.rowId==t.rowId}));o.account_desc=e.data.desc,o.account_code_desc=e.data.data,a.dataLoading=!1}})).catch((function(t){this.dataLoading=!1}))):swal({title:"Warning",text:"กรอกชุดบัญชีไม่ครบ กรุณาตรวจสอบใหม่",type:"warning",closeOnConfirm:!0},(function(t){}))}},computed:{test:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=1)})),t},test2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=1)})),t},test3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=1)})),t},test4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=1)})),t},cost:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=+e.current_cost)})),t},cost2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=+e.current_cost)})),t},cost3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=+e.current_cost)})),t},cost4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=+e.current_cost)})),t},money:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=+e.adjustment_amount)})),t},money2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=+e.adjustment_amount)})),t},money3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=+e.adjustment_amount)})),t},money4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=+e.adjustment_amount)})),t},prem:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=+Number(e.insurance_amount).toFixed(2))})),t},prem2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=+Number(e.insurance_amount).toFixed(2))})),t},prem3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=+Number(e.insurance_amount).toFixed(2))})),t},prem4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=+Number(e.insurance_amount).toFixed(2))})),t},dutt:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=+e.duty_amount)})),t},dutt2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=+e.duty_amount)})),t},dutt3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=+e.duty_amount)})),t},dutt4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=+e.duty_amount)})),t},vatt:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=+e.vat_amount)})),t},vatt2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=+e.vat_amount)})),t},vatt3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=+e.vat_amount)})),t},vatt4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=+e.vat_amount)})),t},nett:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&(t+=+e.net_amount)})),t},nett2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&(t+=+e.net_amount)})),t},nett3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&(t+=+e.net_amount)})),t},nett4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&(t+=+e.net_amount)})),t},poli:function(){return this.headerRow.policy_set_number},polides:function(){return this.headerRow.policy_set_description},checkStatus:function(){var t=this.tableLineAll.some(this.someStatusNew),e=this.tableLineAll.every(this.everyStatusNew),a=this.tableLineAll.every(this.everyStatusConfirmed),n=this.tableLineAll.every(this.everyStatusCancelled),o=this.tableLineAll.some(this.someStatusConfirmedCancelled),s=this.tableLineAll.every(this.everyStatusInterface),i=this.tableLineAll.some(this.someStatusInterface);return e&&!i?"NEW":!o||a||n||t||i?a&&!i?"CONFIRMED":n&&!i?"CANCELLED":t&&!e?"PENDING":s||i&&!t?"INTERFACE":"":"CONFIRMED"},startt:function(){var t=this.headerRow.as_of_date.split("/");return t[0]+"/"+t[1]+"/"+(Number(t[2])+543)},endd:function(){var t=this.headerRow.insurance_end_date.split("/");return t[0]+"/"+t[1]+"/"+(Number(t[2])+543)},yearr:function(){return Number(this.headerRow.year)+543},receivableNet:function(){var t=0;return this.tableLineAll.filter((function(e){"NEW"===e.status&&e.receivable_name&&(t+=+Number(e.net_amount).toFixed(2))})),t},receivableNet2:function(){var t=0;return this.tableLineAll.filter((function(e){"CONFIRMED"===e.status&&e.receivable_name&&(t+=+Number(e.net_amount).toFixed(2))})),t},receivableNet3:function(){var t=0;return this.tableLineAll.filter((function(e){"CANCELLED"===e.status&&e.receivable_name&&(t+=+Number(e.net_amount).toFixed(2))})),t},receivableNet4:function(){var t=0;return this.tableLineAll.filter((function(e){"INTERFACE"===e.status&&e.receivable_name&&(t+=+Number(e.net_amount).toFixed(2))})),t},tableData:function(){return this.form.tableLine.slice((this.current_page-1)*this.perPage,this.current_page*this.perPage)}},components:{lovAssetGroup:o.Z,lovDepartmentLocation:r,lovDepartmentCost:l,lovDepartment:d,lovCategory:_,lovReceivable:h,modalAccountCode:E,ceilThousandCurrencyInput:I,currencyInput:j.Z,dropdownStatusAsset:T.Z},watch:{complete:function(t,e){this.$emit("complete",t),t?($("#table_edit").find("input").prop("disabled",!1),$('input[name="asset_plan_select_all"]').prop("disabled",!1)):($("#table_edit").find("input").prop("disabled",!0),$('input[name="asset_plan_select_all"]').prop("checked",!1),$('input[name="asset_plan_select_all"]').prop("disabled",!0),$("#table_edit").find('input[type="checkbox"]').prop("checked",!1),this.columnSelected=[],this.columnSelectedId=[]),$(".checkbox_edit_disabled").prop("disabled",!0)},"headerRow.document_number":function(t,e){this.complete=!t},"form.tableLine":function(t,e){this.totalRows=this.form.tableLine.length}}};var q=a(93379),V=a.n(q),P=a(72719),W={insert:"head",singleton:!1};V()(P.Z,W);P.Z.locals;var z=a(4742),G={insert:"head",singleton:!1};V()(z.Z,G);z.Z.locals;const Y=(0,i.Z)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading,expression:"dataLoading"}],staticClass:"margin_top_20"},[a("el-form",{ref:"save_table_line",staticClass:"demo-dynamic form_table_line",attrs:{model:t.form,"label-width":"120px"}},[a("div",{staticClass:"table-responsive margin_top_20 "},[a("div",{staticStyle:{"font-size":"18px"}},[t._v("   กรมธรรม์ชุดที่ "+t._s(t.poli)+" : "+t._s(t.polides)+"   ปี :\n                "+t._s(t.yearr)+"   ณ วันที่ : "+t._s(t.startt)+"\n            ")]),t._v(" "),a("br"),t._v(" "),a("table",{staticClass:"table table-bordered",staticStyle:{display:"block",overflow:"auto","max-height":"500px"}},[a("thead",[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("IR Status"),a("br"),t._v("สถานะ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("Count"),a("br"),t._v("จำนวนรายการ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Total Asset Cost "),a("br"),t._v("ราคาทุนทั้งหมด")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Total Coverage Amount "),a("br"),t._v("มูลค่าทุนประกันทั้งหมด\n                    ")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[t._v("Total Premium "),a("br"),t._v("ค่าเบี้ยประกันทั้งหมด")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px"}},[t._v("Total Duty Fee "),a("br"),t._v("อากรทั้งหมด")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"140px"}},[t._v("Total Vat "),a("br"),t._v("ภาษีมูลค่าเพิ่มทั้งหมด")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px"}},[t._v("Total Net Amount"),a("br"),t._v("ค่าเบี้ยประกันสุทธิทั้งหมด")]),t._v(" "),a("th",{staticClass:"text-center",staticStyle:{"min-width":"200px","vertical-align":"middle"}},[t._v("ค่าเบี้ยประกันเรียกเก็บสุทธิรวม")])])]),t._v(" "),a("tbody",{attrs:{id:"table_search"}},[a("tr",[a("td",[t._v("New")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.test))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.cost)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.money)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.prem)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.dutt)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.vatt)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.prem,t.dutt,t.vatt)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.receivableNet)))])]),t._v(" "),a("tr",[a("td",[t._v("Confirmed")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.test2))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.cost2)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.money2)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.prem2)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.dutt2)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.vatt2)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.prem2,t.dutt2,t.vatt2)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.receivableNet2)))])]),t._v(" "),a("tr",[a("td",[t._v("cancelled")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.test3))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.cost3)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.money3)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.prem3)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.dutt3)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.vatt3)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.prem3,t.dutt3,t.vatt3)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.receivableNet3)))])]),t._v(" "),a("tr",[a("td",[t._v("Interface")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.test4))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.cost4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.money4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.prem4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.dutt4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.vatt4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.prem4,t.dutt4,t.vatt4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.receivableNet4)))])]),t._v(" "),a("tr",[a("td",[t._v("Total")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.test+t.test2+t.test3+t.test4))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.cost,t.cost2,t.cost3,t.cost4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.money,t.money2,t.money3,t.money4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.prem,t.prem2,t.prem3,t.prem4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.dutt,t.dutt2,t.dutt3,t.dutt4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.vatt,t.vatt2,t.vatt3,t.vatt4)))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.formatTotal(t.formatSum(t.prem,t.prem2,t.prem3,t.prem4),t.formatSum(t.dutt,t.dutt2,t.dutt3,t.dutt4),t.formatSum(t.vatt,t.vatt2,t.vatt3,t.vatt4)))+"\n                    ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.formatSum(t.receivableNet,t.receivableNet2,t.receivableNet3,t.receivableNet4)))])])]),t._v(" "),a("tfoot")])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("b-table",{staticStyle:{display:"block",overflow:"auto","max-height":"400px"},attrs:{"table-class":"table table-bordered",busy:t.isBusy,items:t.form.tableLine,fields:t.fields,"current-page":t.current_page,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,"tbody-tr-class":t.rowClass,"primary-key":"rowId","show-empty":"",hover:"",small:"","select-mode":"single",selectable:""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"head(selected)",fn:function(e){return[t._v("\n                    Select All "),a("br"),t._v(" "),a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{staticClass:"form-check-input",staticStyle:{position:"inherit"},attrs:{type:"checkbox",name:"asset_plan_select_all",disabled:!t.complete||t.checkStatusInterface(t.headerRow.status)||t.checkExpenseFlag},on:{click:function(e){return t.clickSelectAll()}}})])]}},{key:"head(line_no)",fn:function(e){return[a("div",[t._v("\n                        Line No\n                    ")])]}},{key:"head(status)",fn:function(e){return[a("div",[t._v("\n                        IR Status"),a("br"),t._v("สถานะ\n                    ")])]}},{key:"head(line_type)",fn:function(e){return[a("div",[t._v("\n                        Line Type"),a("br"),t._v("ประเภท\n                    ")])]}},{key:"head(department_location_code)",fn:function(e){return[a("div",[t._v("\n                        Department Code By Location "),a("br"),t._v("รหัสหน่วยงานตามสถานที่ *\n                    ")])]}},{key:"head(department_location_desc)",fn:function(e){return[a("div",[t._v("\n                        Department By Location "),a("br"),t._v("หน่วยงานตามสถานที่ *\n                    ")])]}},{key:"head(department_cost_code)",fn:function(e){return[a("div",[t._v("\n                        Department Code By Expense "),a("br"),t._v("รหัสหน่วยงานตามค่าใช้จ่าย *\n                    ")])]}},{key:"head(department_cost_desc)",fn:function(e){return[a("div",[t._v("\n                        Department By Expense "),a("br"),t._v("หน่วยงานตามค่าใช้จ่าย *\n                    ")])]}},{key:"head(account_code)",fn:function(e){return[a("div",[t._v("\n                        Expense Account Code "),a("br"),t._v("รหัสบัญชี *\n                    ")])]}},{key:"head(account_desc)",fn:function(e){return[a("div",[t._v("\n                        Expense Account Description "),a("br"),t._v("บัญชีค่าใช้จ่าย\n                    ")])]}},{key:"head(asset_number)",fn:function(e){return[a("div",[t._v("\n                        Asset Number "),a("br"),t._v("รหัสทรัพย์สิน *\n                    ")])]}},{key:"head(department_code)",fn:function(e){return[a("div",[t._v("\n                        รหัสสังกัด *\n                    ")])]}},{key:"head(department_name)",fn:function(e){return[a("div",[t._v("\n                         สังกัด *\n                    ")])]}},{key:"head(location_name)",fn:function(e){return[a("div",[t._v("\n                        กลุ่มของทรัพย์สิน *\n                    ")])]}},{key:"head(category_code)",fn:function(e){return[a("div",[t._v("\n                        รหัสหมวด *\n                    ")])]}},{key:"head(category_description)",fn:function(e){return[a("div",[t._v("\n                        หมวด *\n                    ")])]}},{key:"head(quantity)",fn:function(e){return[a("div",[t._v("\n                        Qty. "),a("br"),t._v("จำนวน *\n                    ")])]}},{key:"head(current_cost)",fn:function(e){return[a("div",[t._v("\n                        Asset Cost "),a("br"),t._v("ราคาทุน * (บาท)\n                    ")])]}},{key:"head(adjustment_amount)",fn:function(e){return[a("div",[t._v("\n                        Coverage Amount "),a("br"),t._v("มูลค่าทุนประกัน *\n                    ")])]}},{key:"head(insurance_amount)",fn:function(e){return[a("div",[t._v("\n                        Premium "),a("br"),t._v("ค่าเบี้ยประกัน\n                    ")])]}},{key:"head(duty_amount)",fn:function(e){return[a("div",[t._v("\n                        Duty Fee "),a("br"),t._v("อากร\n                    ")])]}},{key:"head(cal1)",fn:function(e){return[a("div",[t._v("\n                        Vat "),a("br"),t._v("ภาษีมูลค่าเพิ่ม\n                    ")])]}},{key:"head(cal2)",fn:function(e){return[a("div",[t._v("\n                        Net Amount "),a("br"),t._v("ค่าเบี้ยประกันสุทธิ\n                    ")])]}},{key:"head(receivable_name)",fn:function(e){return[a("div",[t._v("\n                       เรียกเก็บ\n                    ")])]}},{key:"head(expense_flag)",fn:function(e){return[a("div",[t._v("\n                       สถานะการตัดค่าใช้จ่าย\n                    ")])]}},{key:"head(remove)",fn:function(e){return[a("div",[t._v("\n                       ลบ\n                    ")])]}},{key:"cell(selected)",fn:function(e){return[a("div",{staticClass:"form-check",staticStyle:{position:"inherit"}},[a("input",{class:"form-check-input "+(t.checkStatusInterface(e.item.status)?"checkbox_edit_disabled":""),staticStyle:{position:"inherit"},attrs:{type:"checkbox",name:"asset_plan_select"+e.index,disabled:!(!t.checkStatusInterface(e.item.status)&&t.complete&&!t.checkExpenseFlag)},domProps:{value:""+e.index,checked:t.columnSelectedId.includes(e.item.rowId)},on:{click:function(a){return t.clickSelectRow(e.index,e.item)}}})])]}},{key:"cell(line_no)",fn:function(e){return[a("div",[t._v("\n                        "+t._s(e.item.line_no)+"\n                    ")])]}},{key:"cell(status)",fn:function(e){return[a("div",[t._v("\n                        "+t._s(t.setFirstLetterUpperCase(e.item.status))+"\n                    ")])]}},{key:"cell(line_type)",fn:function(e){return[a("div",[t._v("\n                        "+t._s(t.setFirstLetterUpperCase(e.item.line_type))+"\n                    ")])]}},{key:"cell(department_location_code)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.department_location_code))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".department_location_code",rules:t.rules.department_location_code}},[t.complete?a("lov-department-location",{attrs:{attrName:"department_location_code"+e.index,departmentLocationCode:e.item.department_location_code,indexTable:e.index,rows:t.form.tableLine},on:{"change-value-department-locations":t.getDataRows}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.department_location_code))+"\n                        ")])],1)]}},{key:"cell(department_location_desc)",fn:function(e){return[a("div",[t._v("\n                        "+t._s(t.setFirstLetterUpperCase(e.item.department_location_desc))+"\n                    ")])]}},{key:"cell(department_cost_code)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.department_cost_code))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".department_cost_code",rules:t.rules.department_cost_code}},[t.complete?a("lov-department-cost",{attrs:{attrName:"department_cost_code"+e.index,departmentCostCode:e.item.department_cost_code,indexTable:e.index,rows:t.form.tableLine},on:{"change-value-department-costs":t.getDataRows}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.department_cost_code))+"\n                        ")])],1)]}},{key:"cell(department_cost_desc)",fn:function(e){return[a("div",[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.department_cost_desc))+"\n                    ")])]}},{key:"cell(account_code)",fn:function(e){return[t.complete&&"add"===e.item.flag?a("el-form-item",{attrs:{prop:"tableLine."+e.index+".account_code",rules:t.rules.account_code}},[a("div",{staticStyle:{"padding-top":"3px"}},[a("el-input",{attrs:{placeholder:"รหัสบัญชี",type:"text",size:"small"},on:{focus:function(e){return t.focusNotKey()},change:function(a){return t.accountEnter(e.item,e.index)}},model:{value:e.item.account_code,callback:function(a){t.$set(e.item,"account_code",a)},expression:"row.item.account_code"}},[a("el-button",{attrs:{slot:"append","data-toggle":"modal","data-target":"#modal_account"+e.index},on:{click:function(a){return t.clickModalAccount(e.item,e.index)}},slot:"append"},[a("i",{staticClass:"fa fa-search"})])],1)],1)]):a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.account_code))+"\n                    ")])]}},{key:"cell(account_desc)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.account_desc))+"\n                    ")])]}},{key:"cell(asset_number)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.asset_number))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".asset_number",rules:t.rules.asset_number}},[t.complete?a("el-input",{attrs:{placeholder:"รหัสทรัพย์สิน",size:"small"},model:{value:e.item.asset_number,callback:function(a){t.$set(e.item,"asset_number",a)},expression:"row.item.asset_number"}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.asset_number))+"\n                        ")])],1)]}},{key:"cell(department_code)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.department_code))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".department_code",rules:t.rules.department_code}},[t.complete?a("lov-department",{attrs:{attrName:"department_code"+e.index,departmentCode:e.item.department_code,indexTable:e.index,rows:t.form.tableLine},on:{"change-value-departments":t.getDataRows},model:{value:e.item.department_code,callback:function(a){t.$set(e.item,"department_code",a)},expression:"row.item.department_code"}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.department_code))+"\n                        ")])],1)]}},{key:"cell(department_name)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.department_name))+"\n                    ")])]}},{key:"cell(location_name)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.location_name))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".location_name",rules:t.rules.location_name}},[t.complete?a("lov-asset-group",{attrs:{attrName:"asset_group"+e.index,isTable:!0,indexTable:e.index,size:"small"},on:{"change-value-asset-group":t.getDataAssetGroupTable},model:{value:e.item.location_code,callback:function(a){t.$set(e.item,"location_code",a)},expression:"row.item.location_code"}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.location_name))+"\n                        ")])],1)]}},{key:"cell(category_code)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.category_code))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".category_code",rules:t.rules.category_code}},[t.complete?a("lov-category",{attrs:{attrName:"category_code"+e.index,categoryId:e.item.category_code,indexTable:e.index,rows:t.form.tableLine},on:{"change-value-categories":t.getDataRows}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.category_code))+"\n                        ")])],1)]}},{key:"cell(category_description)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.category_description))+"\n                    ")])]}},{key:"cell(quantity)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.formatCurrency(e.item.quantity))+"\n                    ")]):a("el-form-item",{staticClass:"currency_right",attrs:{prop:"tableLine."+e.index+".quantity",rules:t.rules.quantity}},[t.complete?a("currency-input",{attrs:{name:"quantity"+e.index,sizeSmall:!0,placeholder:"จำนวน",disabled:!1},on:{input:function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return t.changeQuantity.apply(void 0,o.concat([e.index]))},"blur-currency":function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return t.blurQuantity.apply(void 0,o.concat([e.index]))}},model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"row.item.quantity"}}):a("div",{},[t._v("\n                            "+t._s(t.formatCurrency(e.item.quantity))+"\n                        ")])],1)]}},{key:"cell(current_cost)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.current_cost)?t.formatCurrency(e.item.current_cost):t.isNullOrUndefined(e.item.current_cost))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".current_cost",rules:t.rules.current_cost}},[t.complete?a("ceil-thousand-currency-input",{attrs:{isChangeCeli:!1,isBlurCeli:!0,rows:t.form.tableLine,index:e.index,insurance_amount_master:e.item.premium_rate,vat_amount_master:e.item.tax,sizeSmall:!0,placeholder:"ราคาทุน"},on:{"value-cover-amount":function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return t.getValueCoverAmountFromAdjAmount.apply(void 0,o.concat([e.index],[e.item.adjustment_amount],[e.item]))}},model:{value:e.item.current_cost,callback:function(a){t.$set(e.item,"current_cost",a)},expression:"row.item.current_cost"}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.current_cost)?t.formatCurrency(e.item.current_cost):t.isNullOrUndefined(e.item.current_cost))+"\n                        ")])],1)]}},{key:"cell(adjustment_amount)",fn:function(e){return[t.checkStatusInterface(e.item.status)||!t.complete?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.adjustment_amount)?t.formatCurrency(e.item.adjustment_amount):t.isNullOrUndefined(e.item.adjustment_amount))+"\n                    ")]):a("el-form-item",{attrs:{prop:"tableLine."+e.index+".adjustment_amount",rules:t.rules.adjustment_amount}},[t.complete?a("ceil-thousand-currency-input",{attrs:{isChangeCeli:!0,isBlurCeli:!1,rows:t.form.tableLine,index:e.index,insurance_amount_master:e.item.premium_rate,vat_amount_master:e.item.tax,sizeSmall:!0,placeholder:"มูลค่าทุนประกัน"},on:{"value-cover-amount":function(a){for(var n=arguments.length,o=Array(n);n--;)o[n]=arguments[n];return t.getValueCoverAmount.apply(void 0,o.concat([e.index],[!0],[e.item]))}},model:{value:e.item.adjustment_amount,callback:function(a){t.$set(e.item,"adjustment_amount",a)},expression:"row.item.adjustment_amount"}}):a("div",{},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.adjustment_amount)?t.formatCurrency(e.item.adjustment_amount):t.isNullOrUndefined(e.item.adjustment_amount))+"\n                        ")])],1)]}},{key:"cell(insurance_amount)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.insurance_amount)||0===t.isNullOrUndefined(e.item.insurance_amount)?t.formatCurrency(e.item.insurance_amount):t.isNullOrUndefined(e.item.insurance_amount))+"\n                    ")])]}},{key:"cell(duty_amount)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.duty_amount)||0===t.isNullOrUndefined(e.item.duty_amount)?t.formatCurrency(e.item.duty_amount):t.isNullOrUndefined(e.item.duty_amount))+"\n                    ")])]}},{key:"cell(cal1)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.vat_cal_value(e.item.insurance_amount,e.item.duty_amount))+"\n                    ")])]}},{key:"cell(cal2)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.net_amount(e.item.insurance_amount,e.item.duty_amount,t.vat_cal_value(e.item.insurance_amount,e.item.duty_amount)))+"\n                    ")])]}},{key:"cell(receivable_name)",fn:function(e){return["edit"===e.item.flag?a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.isNullOrUndefined(e.item.receivable_name))+"\n                    ")]):a("el-form-item",[t.complete?a("lov-receivable",{attrs:{attrName:"receivable_name"+e.index,receivable:e.item.receivable_name,indexTable:e.index,rows:t.form.tableLine,headerRow:t.headerRow},on:{"change-value-receivables":t.getDataRows}}):a("div",{staticClass:"padding_top_10"},[t._v("\n                            "+t._s(t.isNullOrUndefined(e.item.receivable_name))+"\n                        ")])],1)]}},{key:"cell(expense_flag)",fn:function(e){return[a("div",{staticClass:"padding_top_10"},[t._v("\n                        "+t._s(t.setLabelExpenseFlag(e.item.expense_flag))+"\n                    ")])]}},{key:"cell(remove)",fn:function(e){return["MANUAL"==e.item.line_type&&t.complete?["NEW"===e.item.status?a("el-form-item",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",name:"line_remove"+e.index},on:{click:function(a){return t.clickRemove(e.item,e.index)}}},[a("i",{staticClass:"fa fa-times m-r-xs"}),t._v("ลบ\n                            ")])]):t._e()]:["add"!==e.item.flag||e.item.line_id?t._e():a("el-form-item",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",name:"line_remove"+e.index},on:{click:function(a){return t.clickRemove(e.item,e.index)}}},[a("i",{staticClass:"fa fa-times m-r-xs"}),t._v("ลบ\n                            ")])])]]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.totalRows>t.perPage,expression:"totalRows > perPage"}],staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right"},model:{value:t.current_page,callback:function(e){t.current_page=e},expression:"current_page"}})],1)]),t._v(" "),a("div",{staticClass:"row margin_top_20"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group el_field"},[a("el-form-item",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.complete||t.checkStatusInterface(t.headerRow.status)||t.checkExpenseFlag},on:{click:function(e){return t.clickConfirm()}}},[a("i",{staticClass:"fa fa-check"}),t._v("\n                            ยืนยัน\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:!t.complete||t.checkStatusInterface(t.headerRow.status)||t.checkExpenseFlag},on:{click:function(e){return t.clickCancel()}}},[a("i",{staticClass:"fa fa-times"}),t._v("\n                            ยกเลิก\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!t.complete||t.checkStatusInterface(t.headerRow.status)||t.checkExpenseFlag},on:{click:function(e){return t.clickClear()}}},[a("i",{staticClass:"fa fa-repeat"}),t._v("\n                            รีเซต\n                        ")])])],1)]),t._v(" "),a("div",{staticClass:"col-md-6 lable_align"},[a("div",{staticClass:"form-group el_field"},[a("el-form-item",[a("button",{directives:[{name:"show",rawName:"v-show",value:t.complete,expression:"complete"}],staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.checkStatusInterface(t.headerRow.status)||t.checkExpenseFlag},on:{click:function(e){return t.clickComplete()}}},[a("i",{staticClass:"fa fa-check-square-o"}),t._v(" บันทึก (ล็อค)\n                        ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.complete,expression:"!complete"}],staticClass:"btn btn-danger btn_incomplete",attrs:{type:"button",disabled:t.checkStatusInterface(t.headerRow.status)||t.checkExpenseFlag},on:{click:function(e){return t.clickIncomplete()}}},[a("i",{staticClass:"fa fa-minus-square-o"}),t._v(" แก้ไข (ปลดล็อค)\n                        ")])])],1)])])]),t._v(" "),a("modal-account-code",{ref:"editTableLineModalAccountCode",attrs:{index:t.indexTable,rows:t.form.tableLine,accounts:t.account,accountId:t.accountId,descriptions:t.account2,type_cost:t.type_cost,coa:t.coa},on:{"select-accounts":t.getDataRowSelectAccount,"clear-req":t.clearReqAccountCode}})],1)}),[],!1,null,"627a9652",null).exports;var H=a(23570),Q=a.n(H);function K(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return J(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return J(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}const X={name:"ir-asset-plan-edit",data:function(){return{search:{status:"",code_asset:"",code_agency:""},result_array:{status:[],code_asset:[],code_agency:[]},funcs:n.sD,headerRow:{header_id:"",document_number:"",status:"",year:"",period_year:"",period_from:"",period_to:"",asset_status:"",policy_set_header_id:"",policy_set_description:"",count_asset:"",as_of_date:"",insurance_start_date:"",insurance_end_date:"",total_cost:"",total_cover_amount:"",total_insu_amount:"",total_vat_amount:"",total_net_amount:"",total_rec_insu_amount:"",expense_flag:""},complete:!0,insurance_amount_master:0,vat_amount_master:0,tableLineAll:[],form:{tableLine:[]},rowsLength:0,vars:n.gR,prepaid_insurance:0,revenue_stamp:0,searching:!1,per_page:500,lastRowId:-1,showLoading:!1}},props:["headerId"],methods:{clickSearch:function(){var t=this,e=this.tableLineAll.filter((function(e,a){e.line_number=a+1,e.line_no=a+1;var n=e.status?e.status.toUpperCase():e.status;return n===t.search.status&&e.asset_number===t.search.code_asset&&e.department_code===t.search.code_agency?e:(n!==t.search.status||e.asset_number!==t.search.code_asset||t.search.code_agency)&&(n!==t.search.status||t.search.code_asset||e.department_code!==t.search.code_agency)&&(t.search.status||e.asset_number!==t.search.code_asset||e.department_code!==t.search.code_agency)&&(n!==t.search.status||t.search.code_asset||t.search.code_agency)&&(t.search.status||e.asset_number!==t.search.code_asset||t.search.code_agency)&&(t.search.status||t.search.code_asset||e.department_code!==t.search.code_agency)&&(t.search.status||t.search.code_asset||t.search.code_agency)?void 0:e}));this.form.tableLine=e,""!=this.search.status||""!=this.search.code_asset||this.search.code_agency?this.searching=!0:this.searching=!1},clickCancel:function(){this.search={status:"",code_asset:"",code_agency:""};var t=this.tableLineAll.filter((function(t,e){return t}));this.form.tableLine=t},clickCreate:function(){var t=this;this.showLoading=!0,this.$refs.editEditTableLine.$refs.save_table_line.validate((function(e){if(!e)return!1;t.rowsLength=t.tableLineAll.length+1,t.lastRowId=Q()();var a={rowId:t.lastRowId,line_no:"",line_number:t.rowsLength,row_num:t.rowsLength,status:"NEW",asset_status:"Y",department_location_code:"",department_location_desc:"",department_cost_code:"",department_cost_desc:"",account_code:"",account_desc:"",asset_number:"",department_code:"",department_name:"",location_code:"",location_name:"",category_code:"",category_id:"",category_description:"",quantity:1,current_cost:"",coverage_amount:"",insurance_amount:"",vat_amount:"",net_amount:"",receivable_name:"",line_type:"MANUAL",insurance_start_date:t.headerRow.insurance_start_date,insurance_end_date:t.headerRow.insurance_end_date,flag:"add",year:t.headerRow.year,account_id:"",asset_id:"",location:"",adjustment_source_type:"ADJUSTMENT",adjustment_date:F()(F()().add(543,"years")).format(t.vars.formatDate),adjustment_id:"",adjustment_type:"COST",adjustment_quantity:"",adjustment_cost:"",adjustment_amount:"",original_cost:"",account:{company:t.company,branch:t.branch,department:t.department,product:t.product,source:t.source,account:t.account,subAccount:t.subAccount,projectActivity:t.projectActivity,interCompany:t.interCompany,allocation:t.allocation,futureUsed1:t.futureUsed1,futureUsed2:t.futureUsed2},policy_set_header_id:t.headerRow.policy_set_header_id,policy_set_description:t.headerRow.policy_set_description,expense_flag:"N",type_cost:"",duty_amount:"",premium_rate:t.insurance_amount_master,prepaid_insurance:t.prepaid_insurance,revenue_stamp:t.revenue_stamp,tax:t.vat_amount_master,include_tax_flag:"",day_of_year:"",day_of_month:""};t.form.tableLine.push(a),t.tableLineAll.push(a),t.$nextTick((function(){t.$refs.editEditTableLine.current_page=Math.ceil(t.tableLineAll.length/t.per_page),t.$nextTick((function(){var e=t.$el.getElementsByClassName("newLine")[0];e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),t.showLoading=!1}))}))}))},getValueComplete:function(t){this.complete=t},getTableHeader:function(){var t=this;axios.get("/ir/ajax/asset",{params:{year:"",insurance_start_date:"",insurance_end_date:"",policy_set_header_start:"",policy_set_header_end:"",as_of_date:"",location_code:"",asset_status:"",status:""}}).then((function(e){var a=e.data;t.headerRow=void 0===t.setHeaderRow(a.data)?t.headerRow:t.setHeaderRow(a.data),t.getDataFromMaster()})).catch((function(t){swal("Error",t,"error")}))},setHeaderRow:function(t){var e=this;return t.find((function(t){return t.header_id==e.headerId}))},getTableLine:function(){var t=this;this.showLoading=!0;var e={header_id:this.headerId,year:this.headerRow.year,status:this.headerId?"":this.headerRow.status,policy_set_header_id:this.headerRow.policy_set_header_id};axios.get("/ir/ajax/asset/show",{params:e}).then((function(e){var a=e.data;t.showLoading=!1,t.tableLineAll=t.setPropertyTableLine(a.data);var n=t.tableLineAll.filter((function(t,e){return t}));t.form.tableLine=n,t.rowsLength=a.data.length})).catch((function(e){t.showLoading=!1,swal("Error",e,"error")}))},setPropertyTableLine:function(t){var e=this;return t.filter((function(t,a){t.line_number=a+1,t.rowId=Q()(),t.flag="edit",t.year=e.headerRow.year,t.department_location_desc=t.department_location_name,t.department_cost_desc=t.department_cost_name,t.premium_rate=null===t.premium_rate?0:t.premium_rate,t.prepaid_insurance=null===t.prepaid_insurance?0:t.prepaid_insurance,t.revenue_stamp=null===t.revenue_stamp?0:t.revenue_stamp,t.tax=null===t.tax?0:t.tax;var n=t.adjustment_amount||0===t.adjustment_amount&&void 0!==t.adjustment_amount&&null!==t.adjustment_amount?t.adjustment_amount:0;t.adjustment_amount=n;(n||0===n)&&t.premium_rate;return t}))},getDataFromMaster:function(){var t=this,e={policy_set_header_id:this.headerRow.policy_set_header_id,date_from:this.headerRow.insurance_start_date,date_to:this.headerRow.insurance_end_date,year:this.headerRow.year};axios.get("/ir/ajax/lov/premium-rate",{params:e}).then((function(e){var a=e.data;""===a.data||null===a.data||void 0===a.data?(t.insurance_amount_master=0,t.vat_amount_master=0):(t.checkValueCal(a.data.premium_rate)?t.insurance_amount_master=0:t.insurance_amount_master=parseFloat(a.data.premium_rate),t.checkValueCal(a.data.tax)?t.vat_amount_master=0:t.vat_amount_master=parseFloat(a.data.tax),t.checkValueCal(a.data.prepaid_insurance)?t.prepaid_insurance=0:t.prepaid_insurance=parseFloat(a.data.prepaid_insurance),t.checkValueCal(a.data.revenue_stamp)?t.revenue_stamp=0:t.revenue_stamp=parseFloat(a.data.revenue_stamp)),t.getTableLine()})).catch((function(t){swal("Error",t,"error")}))},checkValueCal:function(t){return""===t||null==t},getDefault:function(){var t=this;this.loading=!0,axios.get("/ir/ajax/asset/input-irp/"+this.headerId+"/IRP0003").then((function(e){var a=e.data;t.loading=!1,t.result_array={status:a.status,code_asset:a.asset_numbers,code_agency:a.department_codes}})).catch((function(t){swal("Error",t,"error")}))},getDesc:function(t,e){var a=this,n=t.account_code.split(".");axios.get("/ir/ajax/asset/validate-account",{params:{segmentAlls:n}}).then((function(t){a.tableLineAll[e].account_code_desc=t.data.desc}))},toggleLoading:function(t){this.showLoading=t}},components:{editTableLine:Y},computed:{statusList:function(){return K(new Map(this.tableLineAll.filter((function(t){return""!==t.status})).map((function(t){return{status:"".concat(t.status)}})).map((function(t){return[t.status,t]}))).values()).sort((function(t,e){var a=t.status.toUpperCase(),n=e.status.toUpperCase();return a<n?-1:a>n?1:0}))},assetNumberList:function(){return K(new Map(this.tableLineAll.filter((function(t){return""!==t.asset_number})).map((function(t){return{asset_number:"".concat(t.asset_number)}})).map((function(t){return[t.asset_number,t]}))).values()).sort((function(t,e){var a=t.asset_number.toUpperCase(),n=e.asset_number.toUpperCase();return a<n?-1:a>n?1:0}))},departmentList:function(){return K(new Map(this.tableLineAll.filter((function(t){return""!==t.department_code&&""!==t.department_name})).map((function(t){return{label:"".concat(t.department_code+" : "+t.department_name),value:"".concat(t.department_code)}})).map((function(t){return[t.value,t]}))).values()).sort((function(t,e){var a=t.value.toUpperCase(),n=e.value.toUpperCase();return a<n?-1:a>n?1:0}))},checkExpenseFlag:function(){return"Y"===this.headerRow.expense_flag}},watch:{tableLineAll:function(t,e){t.filter((function(t,e){return t.line_no=e+1,t}))}},created:function(){this.getTableHeader(),this.getDefault()}};const tt=(0,i.Z)(X,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading,expression:"showLoading"}]},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"สถานะ",filterable:"",clearable:!0},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},t._l(t.statusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.status,value:t.status}})})),1)],1),t._v(" "),a("div",{staticClass:"col-xl-3 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"รหัสทรัพย์สิน",filterable:"",clearable:!0},model:{value:t.search.code_asset,callback:function(e){t.$set(t.search,"code_asset",e)},expression:"search.code_asset"}},t._l(t.assetNumberList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.asset_number,value:t.asset_number}})})),1)],1),t._v(" "),a("div",{staticClass:"col-xl-3 col-md-6 el_select padding_12"},[a("el-select",{attrs:{placeholder:"รหัสสังกัด",filterable:"",clearable:!0},model:{value:t.search.code_agency,callback:function(e){t.$set(t.search,"code_agency",e)},expression:"search.code_agency"}},t._l(t.departmentList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"col-xl-3 padding_12 margin_auto_btn_search"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return t.clickSearch()}}},[a("i",{staticClass:"fa fa-search"}),t._v(" ค้นหา\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return t.clickCancel()}}},[a("i",{staticClass:"fa fa-repeat"}),t._v(" รีเซต\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:!t.complete||t.funcs.checkStatusInterface(t.headerRow.status)||t.searching||t.checkExpenseFlag},on:{click:t.clickCreate}},[a("i",{staticClass:"fa fa-plus"}),t._v(" เพิ่ม\n            ")])])]),t._v(" "),a("edit-table-line",{ref:"editEditTableLine",attrs:{isNullOrUndefined:t.funcs.isNullOrUndefined,formatCurrency:t.funcs.formatCurrency,headerRow:t.headerRow,insurance_amount_master:t.insurance_amount_master,vat_amount_master:t.vat_amount_master,form:t.form,tableLineAll:t.tableLineAll,setFirstLetterUpperCase:t.funcs.setFirstLetterUpperCase,showYearBE:t.funcs.showYearBE,setYearCE:t.funcs.setYearCE,vars:t.vars,setLabelExpenseFlag:t.funcs.setLabelExpenseFlag,setLabelStatusAsset:t.funcs.setLabelStatusAsset,revenue_stamp:t.revenue_stamp,checkExpenseFlag:t.checkExpenseFlag,perPage:t.per_page,"last-row-id":t.lastRowId},on:{"toggle-loading":t.toggleLoading,complete:t.getValueComplete}})],1)}),[],!1,null,null,null).exports},12364:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-asset-plan-lov-asset-group",data:function(){return{assetGroup:[],loading:!1,asset_group_code:this.value}},props:["attrName","value","isTable","indexTable","size"],methods:{remoteMethodAssetGroup:function(t){this.getAssetGroup({meaning:"",keyword:t})},getAssetGroup:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/location",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.assetGroup=a})).catch((function(t){swal("Error",t,"error")}))},focusAssetGroup:function(t){this.getAssetGroup({meaning:"",keyword:""})},changeAssetGroup:function(t){var e={asset_group:"",rowId:"",asset_group_name:"",id:""};if(this.isTable&&t)for(var a in this.assetGroup){var n=this.assetGroup[a];n.meaning===t&&(e.asset_group=t,e.rowId=this.indexTable,e.asset_group_name=n.description,e.id=n.value,this.$emit("change-value-asset-group",e))}else this.isTable&&!t?this.$emit("change-value-asset-group",e):this.$emit("change-value-asset-group",t)}},mounted:function(){this.getAssetGroup({meaning:"",keyword:""})},watch:{value:function(t,e){this.asset_group_code=t}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"กลุ่มของทรัพย์สิน",name:t.attrName,"remote-method":t.remoteMethodAssetGroup,loading:t.loading,remote:"",clearable:!0,filterable:"",size:t.size},on:{focus:t.focusAssetGroup,change:t.changeAssetGroup},model:{value:t.asset_group_code,callback:function(e){t.asset_group_code=e},expression:"asset_group_code"}},t._l(t.assetGroup,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.meaning}})})),1)],1)}),[],!1,null,null,null).exports},75943:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-dropdown-status-asset",data:function(){return{rows:[{label:"Active",value:"Y"},{label:"Inactive",value:"N"}],loading:!1,result:this.value}},props:["value","name","size","popperBody","disabled","placeholder"],methods:{onchange:function(t){this.$emit("change-dropdown",t)}},watch:{value:function(t,e){this.result=t}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{placeholder:t.placeholder,name:t.name,clearable:!0,size:t.size,"popper-append-to-body":t.popperBody,disabled:t.disabled},on:{change:t.onchange},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)}),[],!1,null,null,null).exports},9882:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-account",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({budget_type:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-type",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({budget_type:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.budget_type===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_type:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({budget_type:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Type",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.budget_type}})})),1)],1)}),[],!1,null,null,null).exports},75721:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-allocation",data:function(){return{dataRows:[],loading:!1,result:this.value,main_account:""}},props:["attrName","value","mainAccount","disabled"],methods:{remoteMethod:function(t){this.getDataRows({sub_account:"",keyword:t,main_account:this.main_account})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/sub-account",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.sub_account===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.main_account=this.mainAccount,this.getDataRows({sub_account:"",keyword:"",main_account:this.main_account})},watch:{value:function(t,e){this.result=t},mainAccount:function(t,e){this.main_account=t,this.getDataRows({sub_account:this.result,keyword:"",main_account:t})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Sub Account",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.sub_account}})})),1)],1)}),[],!1,null,null,null).exports},84371:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-branch",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","vendorId","disabled"],methods:{remoteMethod:function(t){this.getDataRows({evm_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/evm-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({vendor_id:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.evm_code===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({vendor_id:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({vendor_id:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"EVM",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.evm_code}})})),1)],1)}),[],!1,null,null,null).exports},61701:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({compnany_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/company-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({compnany_code:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.company_code===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({compnany_code:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({compnany_code:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Company Code",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.company_code+": "+t.description,value:t.company_code}})})),1)],1)}),[],!1,null,null,null).exports},49710:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-department",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({department_code:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/department-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({department_code:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.department_code===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({department_code:"",keyword:""})},watch:{value:function(t,e){this.result=this.value,this.getDataRows({department_code:this.result,keyword:this.result})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Department",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.department_code}})})),1)],1)}),[],!1,null,null,null).exports},31262:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-future-used1",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({reserved1:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved1",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({reserved1:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.reserved1===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({reserved1:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({reserved1:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.reserved1}})})),1)],1)}),[],!1,null,null,null).exports},25826:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-future-used2",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({reserved2:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/reserved2",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({reserved2:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.reserved2===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({reserved2:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({reserved2:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Reserved",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.reserved2}})})),1)],1)}),[],!1,null,null,null).exports},22374:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-inter-company",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({main_account:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/main-account",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({main_account:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.main_account===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({main_account:this.value,keyword:this.value})},watch:{value:function(t,e){this.result=t,this.getDataRows({main_account:t,keyword:t})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Main Account",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",disabled:t.disabled,filterable:""},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.main_account}})})),1)],1)}),[],!1,null,null,null).exports},30077:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-product",data:function(){return{dataRows:[],loading:!1,result:this.value,department_code:""}},props:["attrName","value","departmentCode","disabled"],methods:{remoteMethod:function(t){this.getDataRows({cost_center_code:"",keyword:t,department_code:this.department_code})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/cost-center-code",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.cost_center_code===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.department_code=this.departmentCode,this.getDataRows({cost_center_code:"",keyword:"",department_code:this.department_code})},watch:{value:function(t,e){this.result=t},departmentCode:function(t,e){this.department_code=t,this.getDataRows({cost_center_code:"",keyword:"",department_code:t})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Cost Center",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",filterable:"",disabled:t.disabled},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.cost_center_code}})})),1)],1)}),[],!1,null,null,null).exports},8613:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-project-activity",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({budget_reason:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-reason",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({budget_reason:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.budget_reason===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_reason:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({budget_reason:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Reason",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",disabled:t.disabled,filterable:""},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.budget_reason}})})),1)],1)}),[],!1,null,null,null).exports},57460:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-source",data:function(){return{dataRows:[],loading:!1,result:this.value}},props:["attrName","value","disabled"],methods:{remoteMethod:function(t){this.getDataRows({budget_year:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-year",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({budget_year:"",keyword:""})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.budget_year===t){var n={value:t,desc:a.description};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.getDataRows({budget_year:"",keyword:""})},watch:{value:function(t,e){this.result=t,this.getDataRows({budget_year:t,keyword:""})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Year",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,remote:"",disabled:t.disabled,filterable:""},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.meaning+": "+t.description,value:t.budget_year}})})),1)],1)}),[],!1,null,null,null).exports},35938:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-segments-lov-sub-account",data:function(){return{dataRows:[],loading:!1,result:this.value,budget_type:""}},props:["attrName","value","budgetType","disabled"],methods:{remoteMethod:function(t){this.getDataRows({budget_detail:"",keyword:t,budget_type:this.budget_type})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/budget-detail",{params:t}).then((function(t){var a=t.data.data;e.loading=!1,e.dataRows=a})).catch((function(t){swal("Error",t,"error")}))},focus:function(t){this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},change:function(t){if(t)for(var e in this.dataRows){var a=this.dataRows[e];if(a.budget_detail===t){var n={value:t,desc:a.meaning};return void this.$emit("change-lov-segment",n)}}var o={value:t,desc:""};this.$emit("change-lov-segment",o)}},mounted:function(){this.budget_type=this.budgetType,this.getDataRows({budget_detail:"",keyword:"",budget_type:this.budget_type})},watch:{value:function(t,e){this.result=t},budgetType:function(t,e){this.budget_type=t,this.getDataRows({budget_detail:"",keyword:"",budget_type:t})}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_select"},[a("el-select",{attrs:{placeholder:"Budget Detail",name:t.attrName,"popper-append-to-body":!1,clearable:!0,"remote-method":t.remoteMethod,loading:t.loading,disabled:t.disabled,remote:"",filterable:""},on:{change:t.change,focus:t.focus},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.dataRows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.budget_detail+": "+t.meaning,value:t.budget_detail}})})),1)],1)}),[],!1,null,null,null).exports},24829:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});const n={name:"ir-components-lov-type-cost",data:function(){return{rows:[],loading:!1,code:"",desc:"",result:this.value,account:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},description:{company:"",branch:"",department:"",product:"",source:"",account:"",subAccount:"",projectActivity:"",interCompany:"",allocation:"",futureUsed1:"",futureUsed2:""},accountId:""}},props:["value","placeholder","popperBody","name","disabled"],methods:{remoteMethod:function(t){this.getDataRows({account_id:"",keyword:t})},getDataRows:function(t){var e=this;this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:t}).then((function(t){var a=t.data;e.loading=!1,e.rows=a.data})).catch((function(t){swal("Error",t,"error")}))},onchange:function(t){var e={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};if(t)for(var a in this.rows){var n=this.rows[a];n.account_id==t&&(e.code=n.account_code,e.id=t,e.desc=n.description,e.account_combine=n.account_combine,e.account_combine_desc=n.account_combine_desc)}else e.code="",e.id="",e.desc="",e.account_combine="",e.account_combine_desc="";this.result=t,this.setPropAccountSplitCombine(e),this.$emit("change-lov",e)},onclick:function(){this.getDataRows({account_id:this.result,keyword:""})},setPropAccountSplitCombine:function(t){if(""!=t.account_combine){var e=t.account_combine.split("."),a=t.account_combine_desc.split("."),n=0,o=0;for(var s in this.account)this.account[s]=e[n],n++;for(var i in this.description)this.description[i]=a[o],o++;this.$emit("split-account",{account:t.account_combine,description:t.account_combine_desc,type_cost:t.code,type_cost_id:t.id})}else this.$emit("split-account",{account:"",description:"",type_cost:"",type_cost_id:""})},receivedDataRows:function(t){var e=this,a={code:"",id:"",desc:"",account_combine:"",account_combine_desc:""};this.loading=!0,axios.get("/ir/ajax/lov/account-code-combine",{params:t}).then((function(t){var n=t.data;if(e.loading=!1,e.rows=n.data,e.accountId&&null!==e.accountId&&void 0!==e.accountId)if(e.rows.length>0)for(var o in e.rows){var s=e.rows[o];s.account_id==e.accountId&&(e.result=s.account_id,a.code=s.account_code,a.id=s.account_id,a.desc=s.description,a.account_combine=s.account_combine,a.account_combine_desc=s.account_combine_desc)}else e.result="",a.code="",a.id=e.accountId,a.desc="",a.account_combine="",a.account_combine_desc="";else a.code="",a.id="",a.desc="",a.account_combine="",a.account_combine_desc="";e.$emit("change-lov",a)})).catch((function(t){swal("Error",t,"error")}))}},mounted:function(){},watch:{value:function(t,e){this.result=t}}};const o=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el_field"},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:t.placeholder,"remote-method":t.remoteMethod,loading:t.loading,name:t.name,clearable:!0,"popper-append-to-body":t.popperBody,disabled:t.disabled},on:{change:t.onchange},nativeOn:{click:function(e){return t.onclick(e)}},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},t._l(t.rows,(function(t,e){return a("el-option",{key:e,attrs:{label:t.account_code+": "+t.description,value:t.account_id}})})),1)],1)}),[],!1,null,null,null).exports}}]);